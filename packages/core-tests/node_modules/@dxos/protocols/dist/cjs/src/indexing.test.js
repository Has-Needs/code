"use strict";
//
// Copyright 2022 DXOS.org
//
Object.defineProperty(exports, "__esModule", { value: true });
const vitest_1 = require("vitest");
const indexing_js_1 = require("./indexing.js");
(0, vitest_1.describe)('Indexing object pointer codec', () => {
    (0, vitest_1.test)('getVersion', async () => {
        (0, vitest_1.expect)(indexing_js_1.objectPointerCodec.getVersion('aaaa|bbbb')).to.eq(indexing_js_1.ObjectPointerVersion.V0);
        (0, vitest_1.expect)(indexing_js_1.objectPointerCodec.getVersion('#01|ssss|aaaa|bbbb')).to.eq(indexing_js_1.ObjectPointerVersion.V1);
    });
    (0, vitest_1.test)('v0', async () => {
        (0, vitest_1.expect)(indexing_js_1.objectPointerCodec.encode({ spaceKey: undefined, documentId: 'aaaa', objectId: 'bbbb' })).to.eq('aaaa|bbbb');
        (0, vitest_1.expect)(indexing_js_1.objectPointerCodec.decode('aaaa|bbbb')).to.eql({
            spaceKey: undefined,
            documentId: 'aaaa',
            objectId: 'bbbb',
        });
    });
    (0, vitest_1.test)('v1', async () => {
        (0, vitest_1.expect)(indexing_js_1.objectPointerCodec.encode({ spaceKey: 'ssss', documentId: 'aaaa', objectId: 'bbbb' })).to.eq('#01|ssss|aaaa|bbbb');
        (0, vitest_1.expect)(indexing_js_1.objectPointerCodec.decode('#01|ssss|aaaa|bbbb')).to.eql({
            spaceKey: 'ssss',
            documentId: 'aaaa',
            objectId: 'bbbb',
        });
    });
});
//# sourceMappingURL=indexing.test.js.map