{
  "version": 3,
  "sources": ["../../../src/plugin/vite-plugin.ts"],
  "sourcesContent": ["//\n// Copyright 2022 DXOS.org\n//\n\nimport { resolve } from 'node:path';\nimport type { Plugin } from 'vite';\n\nimport { definitions } from './definitions';\nimport { type ConfigPluginOpts } from './types';\n\nexport const ConfigPlugin = (options: ConfigPluginOpts = {}): Plugin => ({\n  name: 'dxos-config',\n  config: ({ root }) => {\n    const configPath = root && resolve(root, options.configPath ?? 'dx.yml');\n    const envPath = root && resolve(root, options.envPath ?? 'dx-env.yml');\n    const devPath = root && resolve(root, options.devPath ?? 'dx-local.yml');\n    const define = Object.entries(definitions({ ...options, configPath, envPath, devPath })).reduce(\n      (define, [key, value]) => {\n        define[key] = JSON.stringify(value);\n        return define;\n      },\n      {} as { [key: string]: string },\n    );\n\n    return { define };\n  },\n});\n"],
  "mappings": ";;;;;;AAIA,SAASA,eAAe;AAMjB,IAAMC,eAAe,CAACC,UAA4B,CAAC,OAAe;EACvEC,MAAM;EACNC,QAAQ,CAAC,EAAEC,KAAI,MAAE;AACf,UAAMC,aAAaD,QAAQE,QAAQF,MAAMH,QAAQI,cAAc,QAAA;AAC/D,UAAME,UAAUH,QAAQE,QAAQF,MAAMH,QAAQM,WAAW,YAAA;AACzD,UAAMC,UAAUJ,QAAQE,QAAQF,MAAMH,QAAQO,WAAW,cAAA;AACzD,UAAMC,SAASC,OAAOC,QAAQC,YAAY;MAAE,GAAGX;MAASI;MAAYE;MAASC;IAAQ,CAAA,CAAA,EAAIK,OACvF,CAACJ,SAAQ,CAACK,KAAKC,KAAAA,MAAM;AACnBN,MAAAA,QAAOK,GAAAA,IAAOE,KAAKC,UAAUF,KAAAA;AAC7B,aAAON;IACT,GACA,CAAC,CAAA;AAGH,WAAO;MAAEA;IAAO;EAClB;AACF;",
  "names": ["resolve", "ConfigPlugin", "options", "name", "config", "root", "configPath", "resolve", "envPath", "devPath", "define", "Object", "entries", "definitions", "reduce", "key", "value", "JSON", "stringify"]
}
