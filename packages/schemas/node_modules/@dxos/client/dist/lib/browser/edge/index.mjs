// packages/sdk/client/src/edge/edge-identity.ts
var createEdgeIdentity = (client) => {
  const identity = client.halo.identity.get();
  const device = client.halo.device;
  if (!identity || !device) {
    throw new Error("Identity not available");
  }
  return {
    identityKey: identity.identityKey.toHex(),
    peerKey: device.deviceKey.toHex(),
    presentCredentials: async ({ challenge }) => {
      const identityService = client.services.services.IdentityService;
      const authCredential = await identityService.createAuthCredential();
      return identityService.signPresentation({
        presentation: {
          credentials: [
            authCredential
          ]
        },
        nonce: challenge
      });
    }
  };
};
export {
  createEdgeIdentity
};
//# sourceMappingURL=index.mjs.map
