{
  "version": 3,
  "sources": ["../../../src/hooks/useDensityContext.ts", "../../../src/components/AnchoredOverflow/AnchoredOverflow.tsx", "../../../src/hooks/useElevationContext.ts", "../../../src/hooks/useThemeContext.ts", "../../../src/hooks/useIconHref.ts", "../../../src/hooks/useSafeArea.ts", "../../../src/hooks/useTranslationsContext.ts", "../../../src/components/ThemeProvider/TranslationsProvider.tsx", "../../../src/hooks/useVisualViewport.ts", "../../../src/components/Avatars/Avatar.tsx", "../../../src/components/Breadcrumb/Breadcrumb.tsx", "../../../src/components/Link/Link.tsx", "../../../src/components/Buttons/Button.tsx", "../../../src/components/Buttons/IconButton.tsx", "../../../src/components/Icon/Icon.tsx", "../../../src/components/Tooltip/Tooltip.tsx", "../../../src/components/Buttons/Toggle.tsx", "../../../src/components/Buttons/ToggleGroup.tsx", "../../../src/components/Clipboard/ClipboardProvider.tsx", "../../../src/components/Clipboard/CopyButton.tsx", "../../../src/components/ThemeProvider/ThemeProvider.tsx", "../../../src/util/hasIosKeyboard.ts", "../../../src/components/DensityProvider/DensityProvider.tsx", "../../../src/components/ElevationProvider/ElevationProvider.tsx", "../../../src/components/Clipboard/index.ts", "../../../src/components/Dialogs/Dialog.tsx", "../../../src/components/Dialogs/AlertDialog.tsx", "../../../src/components/Input/Input.tsx", "../../../src/components/Lists/List.tsx", "../../../src/components/Lists/ListDropIndicator.tsx", "../../../src/components/Lists/Tree.tsx", "../../../src/components/Lists/TreeDropIndicator.tsx", "../../../src/components/Lists/Treegrid.tsx", "../../../src/components/Main/Main.tsx", "../../../src/components/Main/useSwipeToDismiss.ts", "../../../src/components/Menus/ContextMenu.tsx", "../../../src/hooks/useSafeCollisionPadding.ts", "../../../src/components/Menus/DropdownMenu.tsx", "../../../src/components/Message/Message.tsx", "../../../src/components/Popover/Popover.tsx", "../../../src/components/Status/Status.tsx", "../../../src/components/ScrollArea/ScrollArea.tsx", "../../../src/components/Select/Select.tsx", "../../../src/components/Separator/Separator.tsx", "../../../src/components/Tag/Tag.tsx", "../../../src/components/Toast/Toast.tsx", "../../../src/components/Toolbar/Toolbar.tsx"],
  "sourcesContent": ["//\n// Copyright 2023 DXOS.org\n//\n\nimport { useContext } from 'react';\n\nimport { type Density } from '@dxos/react-ui-types';\n\nimport { DensityContext } from '../components';\n\nexport const useDensityContext = (propsDensity?: Density) => {\n  const { density } = useContext(DensityContext);\n  return propsDensity ?? density;\n};\n", "//\n// Copyright 2022 DXOS.org\n//\n\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport React, { type ComponentPropsWithRef, forwardRef } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\n\ntype AnchoredOverflowRootProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  asChild?: boolean;\n};\n\nconst AnchoredOverflowRoot = forwardRef<HTMLDivElement, AnchoredOverflowRootProps>(\n  ({ asChild, classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.div;\n    return (\n      <Root\n        role='none'\n        {...props}\n        className={tx('anchoredOverflow.root', 'overflow-anchored', {}, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </Root>\n    );\n  },\n);\n\ntype AnchoredOverflowAnchorProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  asChild?: boolean;\n};\n\nconst AnchoredOverflowAnchor = forwardRef<HTMLDivElement, AnchoredOverflowAnchorProps>(\n  ({ asChild, classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.div;\n    return (\n      <Root\n        role='none'\n        {...props}\n        className={tx('anchoredOverflow.anchor', 'overflow-anchor', {}, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </Root>\n    );\n  },\n);\n\nexport const AnchoredOverflow = {\n  Root: AnchoredOverflowRoot,\n  Anchor: AnchoredOverflowAnchor,\n};\n\nexport type { AnchoredOverflowRootProps, AnchoredOverflowAnchorProps };\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { useContext } from 'react';\n\nimport { type Elevation } from '@dxos/react-ui-types';\n\nimport { ElevationContext } from '../components';\n\nexport const useElevationContext = (propsElevation?: Elevation) => {\n  const { elevation } = useContext(ElevationContext);\n  return propsElevation ?? elevation;\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { useContext } from 'react';\n\nimport { raise } from '@dxos/debug';\n\nimport { ThemeContext } from '../components';\n\nexport const useThemeContext = () => useContext(ThemeContext) ?? raise(new Error('Missing ThemeContext'));\n", "//\n// Copyright 2025 DXOS.org\n//\n\nimport { useThemeContext } from './useThemeContext';\n\nconst ICONS_URL = '/icons.svg';\n\nexport const useIconHref = (icon?: string) => {\n  const { noCache } = useThemeContext();\n  const url = noCache ? `${ICONS_URL}?nocache=${new Date().getMinutes()}` : ICONS_URL;\n  return icon ? `${url}#${icon}` : undefined;\n};\n", "//\n// Copyright 2025 DXOS.org\n//\n\nimport { useCallback, useState } from 'react';\n\nimport { useResize } from '@dxos/react-hooks';\n\nexport type SafeAreaPadding = Record<'top' | 'right' | 'bottom' | 'left', number>;\n\nexport const initialSafeArea = { top: NaN, right: NaN, bottom: NaN, left: NaN };\n\nexport const useSafeArea = (): SafeAreaPadding => {\n  const [padding, setPadding] = useState<SafeAreaPadding>(initialSafeArea);\n  const handleResize = useCallback(() => {\n    setPadding({\n      top: parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--safe-area-top')),\n      right: parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--safe-area-right')),\n      bottom: parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--safe-area-bottom')),\n      left: parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--safe-area-left')),\n    });\n  }, []);\n  useResize(handleResize);\n  return padding;\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { useContext } from 'react';\n\nimport { TranslationsContext } from '../components/ThemeProvider/TranslationsProvider';\n\nexport const useTranslationsContext = () => useContext(TranslationsContext);\n", "//\n// Copyright 2022 DXOS.org\n//\n\nimport { enUS as dtLocaleEnUs, type Locale } from 'date-fns/locale';\nimport i18Next, { type TFunction, type Resource } from 'i18next';\nimport React, { type ReactNode, useEffect, createContext, useState, Suspense, useContext } from 'react';\nimport { initReactI18next, useTranslation as useI18NextTranslation } from 'react-i18next';\n\nconst initialLng = 'en-US';\nconst initialNs = 'dxos-common';\nconst initialDtLocale = dtLocaleEnUs;\n\n// TODO(thure): `Parameters<TFunction>` causes typechecking issues because `TFunction` has so many signatures.\nexport type Label = string | [string, { ns: string; count?: number; defaultValue?: string }];\n\nexport const isLabel = (o: any): o is Label =>\n  typeof o === 'string' ||\n  (Array.isArray(o) &&\n    o.length === 2 &&\n    typeof o[0] === 'string' &&\n    !!o[1] &&\n    typeof o[1] === 'object' &&\n    'ns' in o[1] &&\n    typeof o[1].ns === 'string');\n\nexport const toLocalizedString = (label: Label, t: TFunction) => (Array.isArray(label) ? t(...label) : label);\n\nexport const resources = {\n  [initialLng]: {\n    [initialNs]: {\n      'loading translations': 'Loading translationsâ€¦',\n    },\n  },\n} as const;\n\nvoid i18Next.use(initReactI18next).init({\n  resources,\n  lng: initialLng,\n  defaultNS: initialNs,\n  interpolation: {\n    escapeValue: false,\n  },\n});\n\nexport interface TranslationsProviderProps {\n  children?: ReactNode;\n  // TODO(wittjosiah): Rename to `placeholder` to match ClientProvider?\n  //   Placeholder => loading, fallback => error.\n  fallback?: ReactNode;\n  resourceExtensions?: Resource[];\n  appNs?: string;\n  dtLocale?: Locale;\n}\n\nexport const TranslationsContext = createContext({\n  appNs: initialNs,\n  dtLocale: initialDtLocale,\n});\n\nexport const useTranslation = (...args: Parameters<typeof useI18NextTranslation>) => {\n  const result = useI18NextTranslation(...args);\n  const { dtLocale } = useContext(TranslationsContext);\n  return { ...result, dtLocale };\n};\n\nexport const TranslationsProvider = ({\n  fallback,\n  resourceExtensions,\n  children,\n  appNs,\n  dtLocale,\n}: TranslationsProviderProps) => {\n  const [loaded, setLoaded] = useState(false);\n  useEffect(() => {\n    setLoaded(false);\n    if (resourceExtensions && resourceExtensions.length) {\n      resourceExtensions.forEach((resource) => {\n        Object.keys(resource).forEach((language) => {\n          Object.keys(resource[language]).forEach((ns) => {\n            i18Next.addResourceBundle(language, ns, resource[language][ns]);\n          });\n        });\n      });\n    }\n\n    setLoaded(true);\n  }, [resourceExtensions]);\n\n  // TODO(thure): This is not ideal, but i18next was causing `Suspense` to not render the fallback even when the child was asking for namespaces yet to be added.\n  // TODO(burdon): Fallbacks should only appear after a short delay, and if the displayed then be visible for 500mx to avoid startup flickering.\n  return (\n    <TranslationsContext.Provider value={{ appNs: appNs ?? initialNs, dtLocale: dtLocale ?? initialDtLocale }}>\n      <Suspense fallback={fallback}>{loaded ? children : fallback}</Suspense>\n    </TranslationsContext.Provider>\n  );\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { useCallback, type useEffect, useState } from 'react';\n\nimport { useResize } from '@dxos/react-hooks';\n\nexport const useVisualViewport = (deps?: Parameters<typeof useEffect>[1]) => {\n  const [width, setWidth] = useState<number | null>(null);\n  const [height, setHeight] = useState<number | null>(null);\n\n  const handleResize = useCallback(() => {\n    if (window.visualViewport) {\n      setWidth(window.visualViewport.width);\n      setHeight(window.visualViewport.height);\n    }\n  }, []);\n\n  useResize(handleResize);\n\n  return { width, height };\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport '@dxos/lit-ui/dx-avatar.pcss';\n\nimport { createContext } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport React, { type ComponentProps, type ComponentPropsWithRef, forwardRef, type PropsWithChildren } from 'react';\n\nimport {\n  type AvatarVariant,\n  type AvatarStatus,\n  type AvatarAnimation,\n  type DxAvatar as NaturalDxAvatar,\n} from '@dxos/lit-ui';\nimport { DxAvatar } from '@dxos/lit-ui/react';\nimport { useId } from '@dxos/react-hooks';\nimport { mx } from '@dxos/react-ui-theme';\n\nimport { useIconHref, useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\n\nexport type AvatarRootProps = PropsWithChildren<Partial<AvatarContextValue>>;\n\ntype AvatarContextValue = {\n  labelId: string;\n  descriptionId: string;\n};\n\nconst AVATAR_NAME = 'Avatar';\nconst [AvatarProvider, useAvatarContext] = createContext<AvatarContextValue>(AVATAR_NAME);\n\nconst AvatarRoot = ({ children, labelId: propsLabelId, descriptionId: propsDescriptionId }: AvatarRootProps) => {\n  const labelId = useId('avatar__label', propsLabelId);\n  const descriptionId = useId('avatar__description', propsDescriptionId);\n  return <AvatarProvider {...{ labelId, descriptionId }}>{children}</AvatarProvider>;\n};\n\ntype AvatarContentProps = ThemedClassName<Omit<ComponentProps<typeof DxAvatar>, 'children'>>;\n\nconst AvatarContent = forwardRef<NaturalDxAvatar, AvatarContentProps>(\n  ({ icon, classNames, ...props }, forwardedRef) => {\n    const href = useIconHref(icon);\n    const { labelId, descriptionId } = useAvatarContext('AvatarContent');\n    return (\n      <DxAvatar\n        {...props}\n        icon={href}\n        aria-labelledby={labelId}\n        aria-describedby={descriptionId}\n        rootClassName={mx(classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype AvatarLabelProps = ThemedClassName<Omit<ComponentPropsWithRef<typeof Primitive.span>, 'id'>> & {\n  asChild?: boolean;\n  srOnly?: boolean;\n};\n\nconst AvatarLabel = forwardRef<HTMLSpanElement, AvatarLabelProps>(\n  ({ asChild, srOnly, classNames, ...props }, forwardedRef) => {\n    const Root = asChild ? Slot : Primitive.span;\n    const { tx } = useThemeContext();\n    const { labelId } = useAvatarContext('AvatarLabel');\n    return (\n      <Root\n        {...props}\n        id={labelId}\n        ref={forwardedRef}\n        className={tx('avatar.label', 'avatar__label', { srOnly }, classNames)}\n      />\n    );\n  },\n);\n\ntype AvatarDescriptionProps = ThemedClassName<Omit<ComponentPropsWithRef<typeof Primitive.span>, 'id'>> & {\n  asChild?: boolean;\n  srOnly?: boolean;\n};\n\nconst AvatarDescription = forwardRef<HTMLSpanElement, AvatarDescriptionProps>(\n  ({ asChild, srOnly, classNames, ...props }, forwardedRef) => {\n    const Root = asChild ? Slot : Primitive.span;\n    const { tx } = useThemeContext();\n    const { descriptionId } = useAvatarContext('AvatarDescription');\n    return (\n      <Root\n        {...props}\n        id={descriptionId}\n        ref={forwardedRef}\n        className={tx('avatar.description', 'avatar__description', { srOnly }, classNames)}\n      />\n    );\n  },\n);\n\nexport const Avatar = {\n  Root: AvatarRoot,\n  Content: AvatarContent,\n  Label: AvatarLabel,\n  Description: AvatarDescription,\n};\n\nexport { useAvatarContext };\n\nexport type {\n  AvatarStatus,\n  AvatarVariant,\n  AvatarAnimation,\n  AvatarContentProps,\n  AvatarLabelProps,\n  AvatarDescriptionProps,\n  NaturalDxAvatar as DxAvatar,\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { Dot } from '@phosphor-icons/react';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport React, { type ComponentPropsWithoutRef, type ComponentPropsWithRef, forwardRef } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\nimport { Link, type LinkProps } from '../Link';\n\ntype BreadcrumbRootProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  'aria-label': string;\n  asChild?: boolean;\n};\n\nconst BreadcrumbRoot = forwardRef<HTMLDivElement, BreadcrumbRootProps>(\n  ({ asChild, classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.div;\n    return (\n      <Root\n        role='navigation'\n        {...props}\n        className={tx('breadcrumb.root', 'breadcrumb', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype BreadcrumbListProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.ol>> & { asChild?: boolean };\n\nconst BreadcrumbList = forwardRef<HTMLOListElement, BreadcrumbListProps>(\n  ({ asChild, classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.ol;\n    return (\n      <Root\n        role='list'\n        {...props}\n        className={tx('breadcrumb.list', 'breadcrumb__list', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype BreadcrumbListItemProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.li>> & { asChild?: boolean };\n\nconst BreadcrumbListItem = forwardRef<HTMLLIElement, BreadcrumbListItemProps>(\n  ({ asChild, classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.li;\n    return (\n      <Root\n        role='listitem'\n        {...props}\n        className={tx('breadcrumb.listItem', 'breadcrumb__list__item', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype BreadcrumbLinkProps = LinkProps;\n\nconst BreadcrumbLink = forwardRef<HTMLAnchorElement, BreadcrumbLinkProps>(({ asChild, ...props }, forwardedRef) => {\n  const Root = asChild ? Slot : Link;\n  return <Root {...props} ref={forwardedRef} />;\n});\n\ntype BreadcrumbCurrentProps = ThemedClassName<ComponentPropsWithRef<'h1'>> & { asChild?: boolean };\n\nconst BreadcrumbCurrent = forwardRef<HTMLHeadingElement, BreadcrumbCurrentProps>(\n  ({ asChild, classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : 'h1';\n    return (\n      <Root\n        {...props}\n        aria-current='page'\n        className={tx('breadcrumb.current', 'breadcrumb__item__heading--current', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype BreadcrumbSeparatorProps = ThemedClassName<ComponentPropsWithoutRef<typeof Primitive.span>>;\n\nconst BreadcrumbSeparator = ({ children, classNames, ...props }: BreadcrumbSeparatorProps) => {\n  const { tx } = useThemeContext();\n  return (\n    <Primitive.span\n      role='separator'\n      aria-hidden='true'\n      {...props}\n      className={tx('breadcrumb.separator', 'breadcrumb__separator', {}, classNames)}\n    >\n      {children ?? <Dot weight='bold' />}\n    </Primitive.span>\n  );\n};\n\nexport const Breadcrumb = {\n  Root: BreadcrumbRoot,\n  List: BreadcrumbList,\n  ListItem: BreadcrumbListItem,\n  Link: BreadcrumbLink,\n  Current: BreadcrumbCurrent,\n  Separator: BreadcrumbSeparator,\n};\n\nexport type {\n  BreadcrumbRootProps,\n  BreadcrumbListProps,\n  BreadcrumbListItemProps,\n  BreadcrumbLinkProps,\n  BreadcrumbCurrentProps,\n  BreadcrumbSeparatorProps,\n};\n", "//\n// Copyright 2022 DXOS.org\n//\n\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport React, { type ComponentPropsWithRef, forwardRef } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\n\nexport type LinkProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.a>> &\n  Partial<{\n    asChild: boolean;\n    variant: 'accent' | 'neutral';\n  }>;\n\nexport const Link = forwardRef<HTMLAnchorElement, LinkProps>(\n  ({ asChild, variant, classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.a;\n    return <Root {...props} className={tx('link.root', 'link', { variant }, classNames)} ref={forwardedRef} />;\n  },\n);\n", "//\n// Copyright 2022 DXOS.org\n//\n\nimport { createContext } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport React, { type ComponentPropsWithRef, forwardRef, memo } from 'react';\n\nimport { type Density, type Elevation } from '@dxos/react-ui-types';\n\nimport { useDensityContext, useElevationContext, useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\n\ninterface ButtonProps extends ThemedClassName<ComponentPropsWithRef<typeof Primitive.button>> {\n  variant?: 'default' | 'primary' | 'outline' | 'ghost' | 'destructive';\n  density?: Density;\n  elevation?: Elevation;\n  asChild?: boolean;\n}\n\ntype ButtonGroupContextValue = { inGroup?: boolean };\n\nconst BUTTON_GROUP_NAME = 'ButtonGroup';\nconst BUTTON_NAME = 'Button';\nconst [ButtonGroupProvider, useButtonGroupContext] = createContext<ButtonGroupContextValue>(BUTTON_GROUP_NAME, {\n  inGroup: false,\n});\n\nconst Button = memo(\n  forwardRef<HTMLButtonElement, ButtonProps>(\n    (\n      {\n        classNames,\n        children,\n        density: propsDensity,\n        elevation: propsElevation,\n        variant = 'default',\n        asChild,\n        ...props\n      },\n      ref,\n    ) => {\n      const { inGroup } = useButtonGroupContext(BUTTON_NAME);\n      const { tx } = useThemeContext();\n      const elevation = useElevationContext(propsElevation);\n      const density = useDensityContext(propsDensity);\n      const Root = asChild ? Slot : Primitive.button;\n      return (\n        <Root\n          ref={ref}\n          {...props}\n          data-variant={variant}\n          data-density={density}\n          data-props={inGroup ? 'grouped' : ''}\n          className={tx(\n            'button.root',\n            'button',\n            {\n              variant,\n              inGroup,\n              disabled: props.disabled,\n              density,\n              elevation,\n            },\n            classNames,\n          )}\n          {...(props.disabled && { disabled: true })}\n        >\n          {children}\n        </Root>\n      );\n    },\n  ),\n);\n\nButton.displayName = BUTTON_NAME;\n\ntype ButtonGroupProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  elevation?: Elevation;\n  asChild?: boolean;\n};\n\nconst ButtonGroup = forwardRef<HTMLDivElement, ButtonGroupProps>(\n  ({ children, elevation: propsElevation, classNames, asChild, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const elevation = useElevationContext(propsElevation);\n    const Root = asChild ? Slot : Primitive.div;\n    return (\n      <Root\n        role='none'\n        {...props}\n        className={tx('button.group', 'button-group', { elevation }, classNames)}\n        ref={forwardedRef}\n      >\n        <ButtonGroupProvider inGroup>{children}</ButtonGroupProvider>\n      </Root>\n    );\n  },\n);\n\nButtonGroup.displayName = BUTTON_GROUP_NAME;\n\nexport { Button, ButtonGroup, BUTTON_GROUP_NAME, useButtonGroupContext };\n\nexport type { ButtonProps, ButtonGroupProps };\n", "//\n// Copyright 2024 DXOS.org\n//\n\nimport React, { forwardRef } from 'react';\n\nimport { Button, type ButtonProps } from './Button';\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\nimport { Icon, type IconProps } from '../Icon';\nimport { Tooltip, type TooltipSide } from '../Tooltip';\n\ntype IconButtonProps = Omit<ButtonProps, 'children'> &\n  Pick<IconProps, 'icon' | 'size'> & {\n    label: string;\n    iconOnly?: boolean;\n    noTooltip?: boolean;\n    caretDown?: boolean;\n    iconClassNames?: ThemedClassName<any>['classNames'];\n    tooltipPortal?: boolean;\n    tooltipSide?: TooltipSide;\n  };\n\nconst IconOnlyButton = forwardRef<HTMLButtonElement, IconButtonProps>(\n  ({ noTooltip, tooltipPortal = true, tooltipSide, ...props }, forwardedRef) => {\n    if (noTooltip) {\n      return <LabelledIconButton {...props} ref={forwardedRef} />;\n    }\n    return (\n      <Tooltip.Trigger asChild content={props.label} side={tooltipSide}>\n        <LabelledIconButton {...props} ref={forwardedRef} />\n      </Tooltip.Trigger>\n    );\n  },\n);\n\nconst LabelledIconButton = forwardRef<HTMLButtonElement, IconButtonProps>(\n  ({ icon, size, iconOnly, label, classNames, iconClassNames, caretDown, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <Button {...props} classNames={tx('iconButton.root', 'iconButton', {}, classNames)} ref={forwardedRef}>\n        <Icon icon={icon} size={size} classNames={iconClassNames} />\n        <span className={iconOnly ? 'sr-only' : undefined}>{label}</span>\n        {caretDown && <Icon size={3} icon='ph--caret-down--bold' />}\n      </Button>\n    );\n  },\n);\n\nconst IconButton = forwardRef<HTMLButtonElement, IconButtonProps>((props, forwardedRef) =>\n  props.iconOnly ? (\n    <IconOnlyButton {...props} ref={forwardedRef} />\n  ) : (\n    <LabelledIconButton {...props} ref={forwardedRef} />\n  ),\n);\n\nexport { IconButton };\n\nexport type { IconButtonProps };\n", "//\n// Copyright 2024 DXOS.org\n//\n\nimport { type Primitive } from '@radix-ui/react-primitive';\nimport React, { type ComponentPropsWithRef, forwardRef, memo } from 'react';\n\nimport { type Size } from '@dxos/react-ui-types';\n\nimport { useIconHref, useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\n\nexport type IconProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.svg>> & {\n  icon: string;\n  size?: Size;\n};\n\nexport const Icon = memo(\n  forwardRef<SVGSVGElement, IconProps>(({ icon, classNames, size, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const href = useIconHref(icon);\n    return (\n      <svg {...props} className={tx('icon.root', 'icon', { size }, classNames)} ref={forwardedRef}>\n        <use href={href} />\n      </svg>\n    );\n  }),\n);\n", "//\n// Copyright 2025 DXOS.org\n//\n\n// This is based upon `@radix-ui/react-tooltip` fetched 17 March 2025 at https://github.com/radix-ui/primitives at commit 6e75e11.\n\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport type { Scope } from '@radix-ui/react-context';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope, type PopperAnchorProps } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slottable } from '@radix-ui/react-slot';\nimport { type TooltipProps } from '@radix-ui/react-tooltip';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport * as VisuallyHiddenPrimitive from '@radix-ui/react-visually-hidden';\nimport React, {\n  type ComponentPropsWithoutRef,\n  type ElementRef,\n  type FC,\n  type SyntheticEvent,\n  forwardRef,\n  type MutableRefObject,\n  type ReactNode,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { useElevationContext, useThemeContext } from '../../hooks';\n\ntype TooltipScopedProps<P = {}> = P & { __scopeTooltip?: Scope };\nconst [createTooltipContext, createTooltipScope] = createContextScope('Tooltip', [createPopperScope]);\nconst usePopperScope = createPopperScope();\n\n/* -------------------------------------------------------------------------------------------------\n * Tooltip\n * ----------------------------------------------------------------------------------------------- */\n\nconst DEFAULT_DELAY_DURATION = 700;\nconst TOOLTIP_OPEN = 'tooltip.open';\nconst TOOLTIP_NAME = 'Tooltip';\n\ntype TooltipContextValue = {\n  contentId: string;\n  open: boolean;\n  stateAttribute: 'closed' | 'delayed-open' | 'instant-open';\n  trigger: TooltipTriggerElement | null;\n  onTriggerChange(trigger: TooltipTriggerElement | null): void;\n  onTriggerEnter(): void;\n  onTriggerLeave(): void;\n  onOpen(): void;\n  onClose(): void;\n  onPointerInTransitChange(inTransit: boolean): void;\n  isPointerInTransitRef: MutableRefObject<boolean>;\n  disableHoverableContent: boolean;\n};\n\nconst [TooltipContextProvider, useTooltipContext] = createTooltipContext<TooltipContextValue>(TOOLTIP_NAME);\n\ninterface TooltipProviderProps {\n  children?: ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  /**\n   * The duration from when the pointer enters the trigger until the tooltip gets opened. This will\n   * override the prop with the same name passed to Provider.\n   * @defaultValue 700\n   */\n  delayDuration?: number;\n  /**\n   * When `true`, trying to hover the content will result in the tooltip closing as the pointer leaves the trigger.\n   * @defaultValue false\n   */\n  disableHoverableContent?: boolean;\n  /**\n   * How much time a user has to enter another trigger without incurring a delay again.\n   * @defaultValue 300\n   */\n  skipDelayDuration?: number;\n}\n\nconst TooltipProvider: FC<TooltipProviderProps> = (props: TooltipScopedProps<TooltipProviderProps>) => {\n  const {\n    __scopeTooltip,\n    children,\n    open: openProp,\n    defaultOpen = false,\n    onOpenChange,\n    disableHoverableContent = false,\n    delayDuration = DEFAULT_DELAY_DURATION,\n    skipDelayDuration = 300,\n  } = props;\n  const isOpenDelayedRef = useRef(true);\n  const isPointerInTransitRef = useRef(false);\n  const skipDelayTimerRef = useRef(0);\n\n  useEffect(() => {\n    const skipDelayTimer = skipDelayTimerRef.current;\n    return () => window.clearTimeout(skipDelayTimer);\n  }, []);\n\n  const popperScope = usePopperScope(__scopeTooltip);\n  const [trigger, setTrigger] = useState<HTMLButtonElement | null>(null);\n  const [content, setContent] = useState<string>('');\n  const [side, setSide] = useState<TooltipSide | undefined>(undefined);\n  const triggerRef = useRef<HTMLButtonElement | null>(trigger);\n  const handleTriggerChange = useCallback((nextTrigger: HTMLButtonElement | null) => {\n    setTrigger(nextTrigger);\n    triggerRef.current = nextTrigger;\n    setContent(nextTrigger?.getAttribute('data-tooltip-content') ?? '');\n    setSide((nextTrigger?.getAttribute('data-tooltip-side') as TooltipSide | null) ?? undefined);\n  }, []);\n  const contentId = useId();\n  const openTimerRef = useRef(0);\n  const wasOpenDelayedRef = useRef(false);\n  const handleOpenChange = useCallback(\n    (open: boolean) => {\n      if (open) {\n        window.clearTimeout(skipDelayTimerRef.current);\n        isOpenDelayedRef.current = false;\n        // as `onChange` is called within a lifecycle method we\n        // avoid dispatching via `dispatchDiscreteCustomEvent`.\n        document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n      } else {\n        window.clearTimeout(skipDelayTimerRef.current);\n        skipDelayTimerRef.current = window.setTimeout(() => (isOpenDelayedRef.current = true), skipDelayDuration);\n      }\n      onOpenChange?.(open);\n    },\n    [skipDelayDuration, onOpenChange],\n  );\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: handleOpenChange,\n  });\n  const stateAttribute = useMemo(() => {\n    return open ? (wasOpenDelayedRef.current ? 'delayed-open' : 'instant-open') : 'closed';\n  }, [open]);\n\n  const handleOpen = useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    wasOpenDelayedRef.current = false;\n    setOpen(true);\n  }, [setOpen]);\n\n  const handleClose = useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    setOpen(false);\n  }, [setOpen]);\n\n  const handleDelayedOpen = useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => {\n      wasOpenDelayedRef.current = true;\n      setOpen(true);\n      openTimerRef.current = 0;\n    }, delayDuration);\n  }, [delayDuration, setOpen]);\n\n  useEffect(() => {\n    return () => {\n      if (openTimerRef.current) {\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = 0;\n      }\n    };\n  }, []);\n\n  const { tx } = useThemeContext();\n  const elevation = useElevationContext();\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <TooltipContextProvider\n        scope={__scopeTooltip}\n        contentId={contentId}\n        open={open}\n        stateAttribute={stateAttribute}\n        trigger={trigger}\n        onTriggerChange={handleTriggerChange}\n        onTriggerEnter={useCallback(() => {\n          if (isOpenDelayedRef.current) {\n            handleDelayedOpen();\n          } else {\n            handleOpen();\n          }\n        }, [isOpenDelayedRef, handleDelayedOpen, handleOpen])}\n        onTriggerLeave={useCallback(() => {\n          if (disableHoverableContent) {\n            handleClose();\n          } else {\n            // Clear the timer in case the pointer leaves the trigger before the tooltip is opened.\n            window.clearTimeout(openTimerRef.current);\n            openTimerRef.current = 0;\n          }\n        }, [handleClose, disableHoverableContent])}\n        onOpen={handleOpen}\n        onClose={handleClose}\n        disableHoverableContent={disableHoverableContent}\n        isPointerInTransitRef={isPointerInTransitRef}\n        onPointerInTransitChange={useCallback((inTransit: boolean) => {\n          isPointerInTransitRef.current = inTransit;\n        }, [])}\n      >\n        <TooltipContent side={side} className={tx('tooltip.content', 'tooltip', { elevation })}>\n          {content}\n          <TooltipArrow className={tx('tooltip.arrow', 'tooltip__arrow')} />\n        </TooltipContent>\n        <TooltipVirtualTrigger virtualRef={triggerRef} />\n        {children}\n      </TooltipContextProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nTooltipProvider.displayName = TOOLTIP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipVirtualTrigger\n * ----------------------------------------------------------------------------------------------- */\n\nconst TooltipVirtualTrigger = ({\n  virtualRef,\n  __scopeTooltip,\n}: TooltipScopedProps<Pick<PopperAnchorProps, 'virtualRef'>>) => {\n  const popperScope = usePopperScope(__scopeTooltip);\n  return <PopperPrimitive.Anchor asChild {...popperScope} virtualRef={virtualRef} />;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipTrigger\n * ----------------------------------------------------------------------------------------------- */\n\nconst TRIGGER_NAME = 'TooltipTrigger';\n\ntype TooltipTriggerElement = ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = ComponentPropsWithoutRef<typeof Primitive.button>;\ntype TooltipTriggerProps = PrimitiveButtonProps &\n  Pick<TooltipProps, 'delayDuration'> & {\n    content?: string;\n    side?: TooltipSide;\n    onInteract?: (event: SyntheticEvent) => void;\n  };\n\nconst TooltipTrigger = forwardRef<TooltipTriggerElement, TooltipTriggerProps>(\n  (props: TooltipScopedProps<TooltipTriggerProps>, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      onInteract,\n      // TODO(thure): Pass `delayDuration` into the context.\n      delayDuration: _delayDuration,\n      side,\n      content,\n      ...triggerProps\n    } = props;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const ref = useRef<TooltipTriggerElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = useRef(false);\n    const hasPointerMoveOpenedRef = useRef(false);\n    const handlePointerUp = useCallback(() => (isPointerDownRef.current = false), []);\n\n    useEffect(() => {\n      return () => document.removeEventListener('pointerup', handlePointerUp);\n    }, [handlePointerUp]);\n\n    return (\n      <Primitive.button\n        // We purposefully avoid adding `type=button` here because tooltip triggers are also\n        // commonly anchors and the anchor `type` attribute signifies MIME type.\n        aria-describedby={context.open ? context.contentId : undefined}\n        data-state={context.stateAttribute}\n        data-tooltip-content={content}\n        data-tooltip-side={side}\n        {...triggerProps}\n        ref={composedRefs}\n        onPointerMove={composeEventHandlers(props.onPointerMove, (event) => {\n          if (event.pointerType === 'touch') {\n            return;\n          }\n          if (!hasPointerMoveOpenedRef.current && !context.isPointerInTransitRef.current) {\n            onInteract?.(event);\n            if (event.defaultPrevented) {\n              return;\n            }\n            context.onTriggerChange(ref.current);\n            context.onTriggerEnter();\n            hasPointerMoveOpenedRef.current = true;\n          }\n        })}\n        onPointerLeave={composeEventHandlers(props.onPointerLeave, () => {\n          context.onTriggerLeave();\n          hasPointerMoveOpenedRef.current = false;\n        })}\n        onPointerDown={composeEventHandlers(props.onPointerDown, () => {\n          if (context.open) {\n            context.onClose();\n          }\n          isPointerDownRef.current = true;\n          document.addEventListener('pointerup', handlePointerUp, { once: true });\n        })}\n        onFocus={props.onFocus}\n        onBlur={composeEventHandlers(props.onBlur, context.onClose)}\n        onClick={composeEventHandlers(props.onClick, context.onClose)}\n      />\n    );\n  },\n);\n\nTooltipTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipPortal\n * ----------------------------------------------------------------------------------------------- */\n\nconst PORTAL_NAME = 'TooltipPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createTooltipContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface TooltipPortalProps {\n  children?: ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst TooltipPortal: FC<TooltipPortalProps> = (props: TooltipScopedProps<TooltipPortalProps>) => {\n  const { __scopeTooltip, forceMount, children, container } = props;\n  const context = useTooltipContext(PORTAL_NAME, __scopeTooltip);\n  return (\n    <PortalProvider scope={__scopeTooltip} forceMount={forceMount}>\n      <Presence present={forceMount || context.open}>\n        <PortalPrimitive asChild container={container}>\n          {children}\n        </PortalPrimitive>\n      </Presence>\n    </PortalProvider>\n  );\n};\n\nTooltipPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipContent\n * ----------------------------------------------------------------------------------------------- */\n\nconst CONTENT_NAME = 'TooltipContent';\n\ntype TooltipContentElement = TooltipContentImplElement;\ninterface TooltipContentProps extends TooltipContentImplProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst TooltipContent = forwardRef<TooltipContentElement, TooltipContentProps>(\n  (props: TooltipScopedProps<TooltipContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount = portalContext.forceMount, side = 'top', ...contentProps } = props;\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n\n    return (\n      <Presence present={forceMount || context.open}>\n        {context.disableHoverableContent ? (\n          <TooltipContentImpl side={side} {...contentProps} ref={forwardedRef} />\n        ) : (\n          <TooltipContentHoverable side={side} {...contentProps} ref={forwardedRef} />\n        )}\n      </Presence>\n    );\n  },\n);\n\ntype Point = { x: number; y: number };\ntype Polygon = Point[];\n\ntype TooltipContentHoverableElement = TooltipContentImplElement;\ninterface TooltipContentHoverableProps extends TooltipContentImplProps {}\n\nconst TooltipContentHoverable = forwardRef<TooltipContentHoverableElement, TooltipContentHoverableProps>(\n  (props: TooltipScopedProps<TooltipContentHoverableProps>, forwardedRef) => {\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n    const ref = useRef<TooltipContentHoverableElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [pointerGraceArea, setPointerGraceArea] = useState<Polygon | null>(null);\n\n    const { trigger, onClose } = context;\n    const content = ref.current;\n\n    const { onPointerInTransitChange } = context;\n\n    const handleRemoveGraceArea = useCallback(() => {\n      setPointerGraceArea(null);\n      onPointerInTransitChange(false);\n    }, [onPointerInTransitChange]);\n\n    const handleCreateGraceArea = useCallback(\n      (event: PointerEvent, hoverTarget: HTMLElement) => {\n        const currentTarget = event.currentTarget as HTMLElement;\n        const exitPoint = { x: event.clientX, y: event.clientY };\n        const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n        const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n        const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n        const graceArea = getHull([...paddedExitPoints, ...hoverTargetPoints]);\n        setPointerGraceArea(graceArea);\n        onPointerInTransitChange(true);\n      },\n      [onPointerInTransitChange],\n    );\n\n    useEffect(() => {\n      return () => handleRemoveGraceArea();\n    }, [handleRemoveGraceArea]);\n\n    useEffect(() => {\n      if (trigger && content) {\n        const handleTriggerLeave = (event: PointerEvent) => handleCreateGraceArea(event, content);\n        const handleContentLeave = (event: PointerEvent) => handleCreateGraceArea(event, trigger);\n\n        trigger.addEventListener('pointerleave', handleTriggerLeave);\n        content.addEventListener('pointerleave', handleContentLeave);\n        return () => {\n          trigger.removeEventListener('pointerleave', handleTriggerLeave);\n          content.removeEventListener('pointerleave', handleContentLeave);\n        };\n      }\n    }, [trigger, content, handleCreateGraceArea, handleRemoveGraceArea]);\n\n    useEffect(() => {\n      if (pointerGraceArea) {\n        const handleTrackPointerGrace = (event: PointerEvent) => {\n          const target = event.target as HTMLElement;\n          const pointerPosition = { x: event.clientX, y: event.clientY };\n          const hasEnteredTarget = trigger?.contains(target) || content?.contains(target);\n          const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n\n          if (hasEnteredTarget) {\n            handleRemoveGraceArea();\n          } else if (isPointerOutsideGraceArea) {\n            handleRemoveGraceArea();\n            onClose();\n          }\n        };\n        document.addEventListener('pointermove', handleTrackPointerGrace);\n        return () => document.removeEventListener('pointermove', handleTrackPointerGrace);\n      }\n    }, [trigger, content, pointerGraceArea, onClose, handleRemoveGraceArea]);\n\n    return <TooltipContentImpl {...props} ref={composedRefs} />;\n  },\n);\n\nconst [VisuallyHiddenContentContextProvider, useVisuallyHiddenContentContext] = createTooltipContext(TOOLTIP_NAME, {\n  isInside: false,\n});\n\ntype TooltipContentImplElement = ElementRef<typeof PopperPrimitive.Content>;\ntype DismissableLayerProps = ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype PopperContentProps = ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface TooltipContentImplProps extends Omit<PopperContentProps, 'onPlaced'> {\n  /**\n   * A more descriptive label for accessibility purpose\n   */\n  'aria-label'?: string;\n\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `Tooltip`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: DismissableLayerProps['onPointerDownOutside'];\n}\n\nconst TooltipContentImpl = forwardRef<TooltipContentImplElement, TooltipContentImplProps>(\n  (props: TooltipScopedProps<TooltipContentImplProps>, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      children,\n      'aria-label': ariaLabel,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      ...contentProps\n    } = props;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const { onClose } = context;\n\n    // Close this tooltip if another one opens\n    useEffect(() => {\n      document.addEventListener(TOOLTIP_OPEN, onClose);\n      return () => document.removeEventListener(TOOLTIP_OPEN, onClose);\n    }, [onClose]);\n\n    // Close the tooltip if the trigger is scrolled\n    useEffect(() => {\n      if (context.trigger) {\n        const handleScroll = (event: Event) => {\n          const target = event.target as HTMLElement;\n          if (target?.contains(context.trigger)) {\n            onClose();\n          }\n        };\n        window.addEventListener('scroll', handleScroll, { capture: true });\n        return () => window.removeEventListener('scroll', handleScroll, { capture: true });\n      }\n    }, [context.trigger, onClose]);\n\n    return (\n      <DismissableLayer\n        asChild\n        disableOutsidePointerEvents={false}\n        onEscapeKeyDown={onEscapeKeyDown}\n        onPointerDownOutside={onPointerDownOutside}\n        onFocusOutside={(event) => event.preventDefault()}\n        onDismiss={onClose}\n      >\n        <PopperPrimitive.Content\n          data-state={context.stateAttribute}\n          {...popperScope}\n          {...contentProps}\n          ref={forwardedRef}\n          style={{\n            ...contentProps.style,\n            // re-namespace exposed content custom properties\n            ...{\n              '--radix-tooltip-content-transform-origin': 'var(--radix-popper-transform-origin)',\n              '--radix-tooltip-content-available-width': 'var(--radix-popper-available-width)',\n              '--radix-tooltip-content-available-height': 'var(--radix-popper-available-height)',\n              '--radix-tooltip-trigger-width': 'var(--radix-popper-anchor-width)',\n              '--radix-tooltip-trigger-height': 'var(--radix-popper-anchor-height)',\n            },\n          }}\n        >\n          <Slottable>{children}</Slottable>\n          <VisuallyHiddenContentContextProvider scope={__scopeTooltip} isInside={true}>\n            <VisuallyHiddenPrimitive.Root id={context.contentId} role='tooltip'>\n              {ariaLabel || children}\n            </VisuallyHiddenPrimitive.Root>\n          </VisuallyHiddenContentContextProvider>\n        </PopperPrimitive.Content>\n      </DismissableLayer>\n    );\n  },\n);\n\nTooltipContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TooltipArrow\n * ----------------------------------------------------------------------------------------------- */\n\nconst ARROW_NAME = 'TooltipArrow';\n\ntype TooltipArrowElement = ElementRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface TooltipArrowProps extends PopperArrowProps {}\n\nconst TooltipArrow = forwardRef<TooltipArrowElement, TooltipArrowProps>(\n  (props: TooltipScopedProps<TooltipArrowProps>, forwardedRef) => {\n    const { __scopeTooltip, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = useVisuallyHiddenContentContext(ARROW_NAME, __scopeTooltip);\n    // if the arrow is inside the `VisuallyHidden`, we don't want to render it all to\n    // prevent issues in positioning the arrow due to the duplicate\n    return visuallyHiddenContentContext.isInside ? null : (\n      <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />\n    );\n  },\n);\n\nTooltipArrow.displayName = ARROW_NAME;\n\n/* ----------------------------------------------------------------------------------------------- */\n\ntype TooltipSide = NonNullable<TooltipContentProps['side']>;\n\nconst getExitSideFromRect = (point: Point, rect: DOMRect): TooltipSide => {\n  const top = Math.abs(rect.top - point.y);\n  const bottom = Math.abs(rect.bottom - point.y);\n  const right = Math.abs(rect.right - point.x);\n  const left = Math.abs(rect.left - point.x);\n\n  switch (Math.min(top, bottom, right, left)) {\n    case left:\n      return 'left';\n    case right:\n      return 'right';\n    case top:\n      return 'top';\n    case bottom:\n      return 'bottom';\n    default:\n      throw new Error('unreachable');\n  }\n};\n\nconst getPaddedExitPoints = (exitPoint: Point, exitSide: TooltipSide, padding = 5) => {\n  const paddedExitPoints: Point[] = [];\n  switch (exitSide) {\n    case 'top':\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y + padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding },\n      );\n      break;\n    case 'bottom':\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y - padding },\n      );\n      break;\n    case 'left':\n      paddedExitPoints.push(\n        { x: exitPoint.x + padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding },\n      );\n      break;\n    case 'right':\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x - padding, y: exitPoint.y + padding },\n      );\n      break;\n  }\n  return paddedExitPoints;\n};\n\nconst getPointsFromRect = (rect: DOMRect) => {\n  const { top, right, bottom, left } = rect;\n  return [\n    { x: left, y: top },\n    { x: right, y: top },\n    { x: right, y: bottom },\n    { x: left, y: bottom },\n  ];\n};\n\n// Determine if a point is inside of a polygon.\n// Based on https://github.com/substack/point-in-polygon\nconst isPointInPolygon = (point: Point, polygon: Polygon) => {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n\n    // prettier-ignore\n    const intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n    if (intersect) {\n      inside = !inside;\n    }\n  }\n\n  return inside;\n};\n\n// Returns a new array of points representing the convex hull of the given set of points.\n// https://www.nayuki.io/page/convex-hull-algorithm\nconst getHull = <P extends Point>(points: Readonly<Array<P>>): Array<P> => {\n  const newPoints: Array<P> = points.slice();\n  newPoints.sort((a: Point, b: Point) => {\n    if (a.x < b.x) {\n      return -1;\n    } else if (a.x > b.x) {\n      return +1;\n    } else if (a.y < b.y) {\n      return -1;\n    } else if (a.y > b.y) {\n      return +1;\n    } else {\n      return 0;\n    }\n  });\n  return getHullPresorted(newPoints);\n};\n\n// Returns the convex hull, assuming that each points[i] <= points[i + 1]. Runs in O(n) time.\nconst getHullPresorted = <P extends Point>(points: Readonly<Array<P>>): Array<P> => {\n  if (points.length <= 1) {\n    return points.slice();\n  }\n\n  const upperHull: Array<P> = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    while (upperHull.length >= 2) {\n      const q = upperHull[upperHull.length - 1];\n      const r = upperHull[upperHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) {\n        upperHull.pop();\n      } else {\n        break;\n      }\n    }\n    upperHull.push(p);\n  }\n  upperHull.pop();\n\n  const lowerHull: Array<P> = [];\n  for (let i = points.length - 1; i >= 0; i--) {\n    const p = points[i];\n    while (lowerHull.length >= 2) {\n      const q = lowerHull[lowerHull.length - 1];\n      const r = lowerHull[lowerHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) {\n        lowerHull.pop();\n      } else {\n        break;\n      }\n    }\n    lowerHull.push(p);\n  }\n  lowerHull.pop();\n\n  if (\n    upperHull.length === 1 &&\n    lowerHull.length === 1 &&\n    upperHull[0].x === lowerHull[0].x &&\n    upperHull[0].y === lowerHull[0].y\n  ) {\n    return upperHull;\n  } else {\n    return upperHull.concat(lowerHull);\n  }\n};\n\nexport const Tooltip = {\n  Provider: TooltipProvider,\n  Trigger: TooltipTrigger,\n};\n\nexport { createTooltipScope, useTooltipContext };\n\nexport type { TooltipProviderProps, TooltipTriggerProps, TooltipScopedProps, TooltipSide };\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { Toggle as TogglePrimitive, type ToggleProps as TogglePrimitiveProps } from '@radix-ui/react-toggle';\nimport React, { forwardRef } from 'react';\n\nimport { Button, type ButtonProps } from './Button';\n\ntype ToggleProps = Omit<TogglePrimitiveProps, 'asChild'> & ButtonProps;\n\nconst Toggle = forwardRef<HTMLButtonElement, ToggleProps>(\n  ({ defaultPressed, pressed, onPressedChange, ...props }, forwardedRef) => {\n    return (\n      <TogglePrimitive {...{ defaultPressed, pressed, onPressedChange }} asChild>\n        <Button {...props} ref={forwardedRef} />\n      </TogglePrimitive>\n    );\n  },\n);\n\nexport { Toggle };\nexport type { ToggleProps };\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport {\n  ToggleGroup as ToggleGroupPrimitive,\n  type ToggleGroupSingleProps,\n  type ToggleGroupMultipleProps,\n  type ToggleGroupItemProps as ToggleGroupItemPrimitiveProps,\n  ToggleGroupItem as ToggleGroupItemPrimitive,\n} from '@radix-ui/react-toggle-group';\nimport React, { forwardRef } from 'react';\n\nimport { Button, ButtonGroup, type ButtonGroupProps, type ButtonProps } from './Button';\n\ntype ToggleGroupProps = Omit<ToggleGroupSingleProps, 'className'> | Omit<ToggleGroupMultipleProps, 'className'>;\n\nconst ToggleGroup = forwardRef<HTMLDivElement, ToggleGroupProps & ButtonGroupProps>(\n  ({ classNames, children, ...props }, forwardedRef) => {\n    return (\n      <ToggleGroupPrimitive {...props} asChild>\n        <ButtonGroup {...{ classNames, children }} ref={forwardedRef} />\n      </ToggleGroupPrimitive>\n    );\n  },\n);\n\ntype ToggleGroupItemProps = Omit<ToggleGroupItemPrimitiveProps, 'className'> & ButtonProps;\n\nconst ToggleGroupItem = forwardRef<HTMLButtonElement, ToggleGroupItemProps>(\n  ({ variant, elevation, density, classNames, children, ...props }, forwardedRef) => {\n    return (\n      <ToggleGroupItemPrimitive {...props} asChild>\n        <Button {...{ variant, elevation, density, classNames, children }} ref={forwardedRef} />\n      </ToggleGroupItemPrimitive>\n    );\n  },\n);\n\nexport { ToggleGroup, ToggleGroupItem };\nexport type { ToggleGroupProps, ToggleGroupItemProps };\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport React, { createContext, type PropsWithChildren, useCallback, useContext, useState } from 'react';\n\nexport type ClipboardContextValue = {\n  textValue: string;\n  setTextValue: (nextValue: string) => Promise<void>;\n};\n\nexport const ClipboardContext = createContext<ClipboardContextValue>({\n  textValue: '',\n  setTextValue: async (_) => {},\n});\n\nexport const useClipboard = () => useContext(ClipboardContext);\n\nexport const ClipboardProvider = ({ children }: PropsWithChildren<{}>) => {\n  const [textValue, setInternalTextValue] = useState('');\n  const setTextValue = useCallback(async (nextValue: string) => {\n    await navigator.clipboard.writeText(nextValue);\n    return setInternalTextValue(nextValue);\n  }, []);\n  return <ClipboardContext.Provider value={{ textValue, setTextValue }}>{children}</ClipboardContext.Provider>;\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { type IconProps } from '@phosphor-icons/react';\nimport React from 'react';\n\nimport { mx } from '@dxos/react-ui-theme';\n\nimport { useClipboard } from './ClipboardProvider';\nimport { Button, type ButtonProps, IconButton } from '../Buttons';\nimport { Icon } from '../Icon';\nimport { useTranslation } from '../ThemeProvider';\nimport { type TooltipScopedProps, useTooltipContext } from '../Tooltip';\n\nexport type CopyButtonProps = ButtonProps & {\n  value: string;\n  iconProps?: IconProps;\n};\n\nconst inactiveLabelStyles = 'invisible bs-px -mbe-px overflow-hidden';\n\nexport const CopyButton = ({ value, classNames, iconProps, ...props }: CopyButtonProps) => {\n  const { t } = useTranslation('os');\n  const { textValue, setTextValue } = useClipboard();\n  const isCopied = textValue === value;\n  return (\n    <Button\n      {...props}\n      classNames={['inline-flex flex-col justify-center', classNames]}\n      onClick={() => setTextValue(value)}\n      data-testid='copy-invitation'\n    >\n      <div role='none' className={mx('flex gap-1 items-center', isCopied && inactiveLabelStyles)}>\n        <span className='pli-1'>{t('copy label')}</span>\n        {/* TODO(wittjosiah): Why do these need as any? */}\n        <Icon icon='ph--copy--regular' size={5 as any} {...iconProps} />\n      </div>\n      <div role='none' className={mx('flex gap-1 items-center', !isCopied && inactiveLabelStyles)}>\n        <span className='pli-1'>{t('copy success label')}</span>\n        <Icon icon='ph--check--regular' size={5 as any} {...iconProps} />\n      </div>\n    </Button>\n  );\n};\n\ntype CopyButtonIconOnlyProps = CopyButtonProps & {\n  label?: string;\n};\n\nexport const CopyButtonIconOnly = ({\n  __scopeTooltip,\n  value,\n  classNames,\n  iconProps,\n  variant,\n  ...props\n}: TooltipScopedProps<CopyButtonIconOnlyProps>) => {\n  const { t } = useTranslation('os');\n  const { textValue, setTextValue } = useClipboard();\n  const isCopied = textValue === value;\n  const label = isCopied ? t('copy success label') : props.label ?? t('copy label');\n  const { onOpen } = useTooltipContext('CopyButton', __scopeTooltip);\n  return (\n    <IconButton\n      iconOnly\n      label={label!}\n      icon='ph--copy--regular'\n      size={5}\n      variant={variant}\n      classNames={['inline-flex flex-col justify-center', classNames]}\n      onClick={() => setTextValue(value).then(onOpen)}\n      data-testid='copy-invitation'\n    />\n  );\n};\n", "//\n// Copyright 2022 DXOS.org\n//\n\nimport { createKeyborg } from 'keyborg';\nimport React, { createContext, type PropsWithChildren, useEffect, useMemo } from 'react';\n\nimport { type Density, type Elevation, type ThemeFunction } from '@dxos/react-ui-types';\n\nimport { TranslationsProvider, type TranslationsProviderProps } from './TranslationsProvider';\nimport { type SafeAreaPadding, useSafeArea } from '../../hooks';\nimport { hasIosKeyboard } from '../../util';\nimport { DensityProvider } from '../DensityProvider';\nimport { ElevationProvider } from '../ElevationProvider';\n\nexport type ThemeMode = 'light' | 'dark';\n\nexport type ThemeContextValue = {\n  tx: ThemeFunction<any>;\n  themeMode: ThemeMode;\n  hasIosKeyboard: boolean;\n  safeAreaPadding?: SafeAreaPadding;\n  noCache?: boolean;\n};\n\n/**\n * @internal\n */\nexport const ThemeContext = createContext<ThemeContextValue | undefined>(undefined);\n\nexport type ThemeProviderProps = Omit<TranslationsProviderProps, 'children'> &\n  Partial<Omit<ThemeContextValue, 'safeAreaPadding'>> &\n  PropsWithChildren<{\n    rootDensity?: Density;\n    rootElevation?: Elevation;\n  }>;\n\nexport const ThemeProvider = ({\n  children,\n  fallback = null,\n  resourceExtensions,\n  appNs,\n  tx = (_path, defaultClassName, _styleProps, ..._options) => defaultClassName,\n  themeMode = 'dark',\n  rootDensity = 'fine',\n  ...rest\n}: ThemeProviderProps) => {\n  useEffect(() => {\n    if (document.defaultView) {\n      const kb = createKeyborg(document.defaultView);\n      kb.subscribe(handleInputModalityChange);\n      return () => kb.unsubscribe(handleInputModalityChange);\n    }\n  }, []);\n\n  const safeAreaPadding = useSafeArea();\n\n  const contextValue = useMemo(\n    () => ({ tx, themeMode, hasIosKeyboard: hasIosKeyboard(), safeAreaPadding, ...rest }),\n    [tx, themeMode, safeAreaPadding, rest],\n  );\n\n  return (\n    <ThemeContext.Provider value={contextValue}>\n      <TranslationsProvider\n        {...{\n          fallback,\n          resourceExtensions,\n          appNs,\n        }}\n      >\n        <ElevationProvider elevation='base'>\n          <DensityProvider density={rootDensity}>{children}</DensityProvider>\n        </ElevationProvider>\n      </TranslationsProvider>\n    </ThemeContext.Provider>\n  );\n};\n\nconst handleInputModalityChange = (isUsingKeyboard: boolean) => {\n  if (isUsingKeyboard) {\n    document.body.setAttribute('data-is-keyboard', 'true');\n  } else {\n    document.body.removeAttribute('data-is-keyboard');\n  }\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nexport const hasIosKeyboard = () => {\n  // TODO(thure): UA sniffing is never good, however I havenâ€™t found a better way to query for whether the on-screen keyboard will appear on `focus` outside of a click handler.\n  return !!navigator.userAgent.match(/iP(ad|od|hone).+Safari/);\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport React, { createContext, type PropsWithChildren } from 'react';\n\nimport { type Density } from '@dxos/react-ui-types';\n\nexport interface DensityContextValue {\n  density?: Density;\n}\n\nexport type DensityProviderProps = PropsWithChildren<{\n  density?: Density;\n}>;\n\nexport const DensityContext = createContext<DensityContextValue>({ density: 'fine' });\n\nexport const DensityProvider = ({ density, children }: DensityProviderProps) => (\n  <DensityContext.Provider value={{ density }}>{children}</DensityContext.Provider>\n);\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport React, { createContext, type PropsWithChildren } from 'react';\n\nimport { type Elevation } from '@dxos/react-ui-types';\n\nexport interface ElevationContextValue {\n  elevation?: Elevation;\n}\n\nexport type ElevationProviderProps = PropsWithChildren<{\n  elevation?: Elevation;\n}>;\n\nexport const ElevationContext = createContext<ElevationContextValue>({ elevation: 'base' });\n\nexport const ElevationProvider = ({ elevation, children }: ElevationProviderProps) => (\n  <ElevationContext.Provider value={{ elevation }}>{children}</ElevationContext.Provider>\n);\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { ClipboardProvider } from './ClipboardProvider';\nimport { CopyButton, CopyButtonIconOnly } from './CopyButton';\n\nexport const Clipboard = {\n  Button: CopyButton,\n  IconButton: CopyButtonIconOnly,\n  Provider: ClipboardProvider,\n};\n\nexport { useClipboard } from './ClipboardProvider';\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { createContext } from '@radix-ui/react-context';\nimport {\n  type DialogProps as DialogRootPrimitiveProps,\n  Root as DialogRootPrimitive,\n  DialogTrigger as DialogTriggerPrimitive,\n  type DialogTriggerProps as DialogTriggerPrimitiveProps,\n  DialogPortal as DialogPortalPrimitive,\n  type DialogPortalProps as DialogPortalPrimitiveProps,\n  DialogOverlay as DialogOverlayPrimitive,\n  type DialogOverlayProps as DialogOverlayPrimitiveProps,\n  DialogTitle as DialogTitlePrimitive,\n  type DialogTitleProps as DialogTitlePrimitiveProps,\n  DialogDescription as DialogDescriptionPrimitive,\n  type DialogDescriptionProps as DialogDescriptionPrimitiveProps,\n  DialogClose as DialogClosePrimitive,\n  type DialogCloseProps as DialogClosePrimitiveProps,\n  DialogContent as DialogContentPrimitive,\n  type DialogContentProps as DialogContentPrimitiveProps,\n} from '@radix-ui/react-dialog';\nimport React, { forwardRef, type ForwardRefExoticComponent, type FunctionComponent } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\nimport { ElevationProvider } from '../ElevationProvider';\n\ntype DialogRootProps = DialogRootPrimitiveProps;\n\nconst DialogRoot: FunctionComponent<DialogRootProps> = (props) => (\n  <ElevationProvider elevation='dialog'>\n    <DialogRootPrimitive {...props} />\n  </ElevationProvider>\n);\n\ntype DialogTriggerProps = DialogTriggerPrimitiveProps;\n\nconst DialogTrigger: FunctionComponent<DialogTriggerProps> = DialogTriggerPrimitive;\n\ntype DialogPortalProps = DialogPortalPrimitiveProps;\n\nconst DialogPortal: FunctionComponent<DialogPortalProps> = DialogPortalPrimitive;\n\ntype DialogTitleProps = ThemedClassName<DialogTitlePrimitiveProps> & { srOnly?: boolean };\n\nconst DialogTitle: ForwardRefExoticComponent<DialogTitleProps> = forwardRef<HTMLHeadingElement, DialogTitleProps>(\n  ({ classNames, srOnly, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <DialogTitlePrimitive\n        {...props}\n        className={tx('dialog.title', 'dialog__title', { srOnly }, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype DialogDescriptionProps = ThemedClassName<DialogDescriptionPrimitiveProps> & { srOnly?: boolean };\n\nconst DialogDescription: ForwardRefExoticComponent<DialogTitleProps> = forwardRef<\n  HTMLParagraphElement,\n  DialogDescriptionProps\n>(({ classNames, srOnly, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <DialogDescriptionPrimitive\n      {...props}\n      className={tx('dialog.description', 'dialog__description', { srOnly }, classNames)}\n      ref={forwardedRef}\n    />\n  );\n});\n\ntype DialogCloseProps = DialogClosePrimitiveProps;\n\nconst DialogClose: FunctionComponent<DialogCloseProps> = DialogClosePrimitive;\n\ntype OverlayLayoutContextValue = { inOverlayLayout?: boolean };\nconst DIALOG_OVERLAY_NAME = 'DialogOverlay';\nconst DIALOG_CONTENT_NAME = 'DialogContent';\nconst [OverlayLayoutProvider, useOverlayLayoutContext] = createContext<OverlayLayoutContextValue>(\n  DIALOG_OVERLAY_NAME,\n  {},\n);\n\ntype DialogOverlayProps = ThemedClassName<DialogOverlayPrimitiveProps & { blockAlign?: 'center' | 'start' | 'end' }>;\n\nconst DialogOverlay: ForwardRefExoticComponent<DialogOverlayProps> = forwardRef<HTMLDivElement, DialogOverlayProps>(\n  ({ classNames, children, blockAlign, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n\n    return (\n      <DialogOverlayPrimitive\n        {...props}\n        className={tx('dialog.overlay', 'dialog__overlay', {}, classNames)}\n        ref={forwardedRef}\n        data-block-align={blockAlign}\n      >\n        <OverlayLayoutProvider inOverlayLayout>{children}</OverlayLayoutProvider>\n      </DialogOverlayPrimitive>\n    );\n  },\n);\n\nDialogOverlay.displayName = DIALOG_OVERLAY_NAME;\n\ntype DialogContentProps = ThemedClassName<DialogContentPrimitiveProps> & { inOverlayLayout?: boolean };\n\nconst DialogContent: ForwardRefExoticComponent<DialogContentProps> = forwardRef<HTMLDivElement, DialogContentProps>(\n  ({ classNames, children, inOverlayLayout: propsInOverlayLayout, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const { inOverlayLayout } = useOverlayLayoutContext(DIALOG_CONTENT_NAME);\n\n    return (\n      <DialogContentPrimitive\n        // NOTE: Radix warning unless set to undefined.\n        // https://www.radix-ui.com/primitives/docs/components/dialog#description\n        aria-describedby={undefined}\n        {...props}\n        className={tx(\n          'dialog.content',\n          'dialog',\n          { inOverlayLayout: propsInOverlayLayout || inOverlayLayout },\n          classNames,\n        )}\n        ref={forwardedRef}\n      >\n        {children}\n      </DialogContentPrimitive>\n    );\n  },\n);\n\nDialogContent.displayName = DIALOG_CONTENT_NAME;\n\nexport const Dialog = {\n  Root: DialogRoot,\n  Trigger: DialogTrigger,\n  Portal: DialogPortal,\n  Overlay: DialogOverlay,\n  Content: DialogContent,\n  Title: DialogTitle,\n  Description: DialogDescription,\n  Close: DialogClose,\n};\n\nexport type {\n  DialogRootProps,\n  DialogTriggerProps,\n  DialogPortalProps,\n  DialogOverlayProps,\n  DialogContentProps,\n  DialogTitleProps,\n  DialogDescriptionProps,\n  DialogCloseProps,\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport {\n  type AlertDialogProps as AlertDialogRootPrimitiveProps,\n  Root as AlertDialogRootPrimitive,\n  AlertDialogTrigger as AlertDialogTriggerPrimitive,\n  type AlertDialogTriggerProps as AlertDialogTriggerPrimitiveProps,\n  AlertDialogPortal as AlertDialogPortalPrimitive,\n  type AlertDialogPortalProps as AlertDialogPortalPrimitiveProps,\n  AlertDialogOverlay as AlertDialogOverlayPrimitive,\n  type AlertDialogOverlayProps as AlertDialogOverlayPrimitiveProps,\n  AlertDialogTitle as AlertDialogTitlePrimitive,\n  type AlertDialogTitleProps as AlertDialogTitlePrimitiveProps,\n  AlertDialogDescription as AlertDialogDescriptionPrimitive,\n  type AlertDialogDescriptionProps as AlertDialogDescriptionPrimitiveProps,\n  AlertDialogAction as AlertDialogActionPrimitive,\n  type AlertDialogActionProps as AlertDialogActionPrimitiveProps,\n  AlertDialogCancel as AlertDialogCancelPrimitive,\n  type AlertDialogCancelProps as AlertDialogCancelPrimitiveProps,\n  AlertDialogContent as AlertDialogContentPrimitive,\n  type AlertDialogContentProps as AlertDialogContentPrimitiveProps,\n} from '@radix-ui/react-alert-dialog';\nimport { createContext } from '@radix-ui/react-context';\nimport React, { forwardRef, type ForwardRefExoticComponent, type FunctionComponent } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\nimport { ElevationProvider } from '../ElevationProvider';\n\ntype AlertDialogRootProps = AlertDialogRootPrimitiveProps;\n\nconst AlertDialogRoot: FunctionComponent<AlertDialogRootProps> = (props) => (\n  <ElevationProvider elevation='dialog'>\n    <AlertDialogRootPrimitive {...props} />\n  </ElevationProvider>\n);\n\ntype AlertDialogTriggerProps = AlertDialogTriggerPrimitiveProps;\n\nconst AlertDialogTrigger: FunctionComponent<AlertDialogTriggerProps> = AlertDialogTriggerPrimitive;\n\ntype AlertDialogPortalProps = AlertDialogPortalPrimitiveProps;\n\nconst AlertDialogPortal: FunctionComponent<AlertDialogPortalProps> = AlertDialogPortalPrimitive;\n\ntype AlertDialogCancelProps = AlertDialogCancelPrimitiveProps;\n\nconst AlertDialogCancel: FunctionComponent<AlertDialogCancelProps> = AlertDialogCancelPrimitive;\n\ntype AlertDialogActionProps = AlertDialogActionPrimitiveProps;\n\nconst AlertDialogAction: FunctionComponent<AlertDialogActionProps> = AlertDialogActionPrimitive;\n\ntype AlertDialogTitleProps = ThemedClassName<AlertDialogTitlePrimitiveProps> & { srOnly?: boolean };\n\nconst AlertDialogTitle: ForwardRefExoticComponent<AlertDialogTitleProps> = forwardRef<\n  HTMLHeadingElement,\n  AlertDialogTitleProps\n>(({ classNames, srOnly, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <AlertDialogTitlePrimitive\n      {...props}\n      className={tx('dialog.title', 'dialog--alert__title', { srOnly }, classNames)}\n      ref={forwardedRef}\n    />\n  );\n});\n\ntype AlertDialogDescriptionProps = ThemedClassName<AlertDialogDescriptionPrimitiveProps> & { srOnly?: boolean };\n\nconst AlertDialogDescription: ForwardRefExoticComponent<AlertDialogTitleProps> = forwardRef<\n  HTMLParagraphElement,\n  AlertDialogDescriptionProps\n>(({ classNames, srOnly, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <AlertDialogDescriptionPrimitive\n      {...props}\n      className={tx('dialog.description', 'dialog--alert__description', { srOnly }, classNames)}\n      ref={forwardedRef}\n    />\n  );\n});\n\ntype OverlayLayoutContextValue = { inOverlayLayout?: boolean };\nconst ALERT_DIALOG_OVERLAY_NAME = 'AlertDialogOverlay';\nconst ALERT_DIALOG_CONTENT_NAME = 'AlertDialogContent';\nconst [OverlayLayoutProvider, useOverlayLayoutContext] = createContext<OverlayLayoutContextValue>(\n  ALERT_DIALOG_OVERLAY_NAME,\n  {\n    inOverlayLayout: false,\n  },\n);\n\ntype AlertDialogOverlayProps = ThemedClassName<AlertDialogOverlayPrimitiveProps> & {\n  blockAlign?: 'center' | 'start' | 'end';\n};\n\nconst AlertDialogOverlay: ForwardRefExoticComponent<AlertDialogOverlayProps> = forwardRef<\n  HTMLDivElement,\n  AlertDialogOverlayProps\n>(({ classNames, children, blockAlign, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <AlertDialogOverlayPrimitive\n      {...props}\n      className={tx(\n        'dialog.overlay',\n        'dialog--alert__overlay',\n        {},\n        classNames,\n        'data-[block-align=start]:justify-center',\n        'data-[block-align=start]:items-start',\n        'data-[block-align=center]:place-content-center',\n      )}\n      ref={forwardedRef}\n      data-block-align={blockAlign}\n    >\n      <OverlayLayoutProvider inOverlayLayout>{children}</OverlayLayoutProvider>\n    </AlertDialogOverlayPrimitive>\n  );\n});\n\nAlertDialogOverlay.displayName = ALERT_DIALOG_OVERLAY_NAME;\n\ntype AlertDialogContentProps = ThemedClassName<AlertDialogContentPrimitiveProps>;\n\nconst AlertDialogContent: ForwardRefExoticComponent<AlertDialogContentProps> = forwardRef<\n  HTMLDivElement,\n  AlertDialogContentProps\n>(({ classNames, children, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  const { inOverlayLayout } = useOverlayLayoutContext(ALERT_DIALOG_CONTENT_NAME);\n  return (\n    <AlertDialogContentPrimitive\n      {...props}\n      className={tx('dialog.content', 'dialog--alert', { inOverlayLayout }, classNames)}\n      ref={forwardedRef}\n    >\n      {children}\n    </AlertDialogContentPrimitive>\n  );\n});\n\nAlertDialogContent.displayName = ALERT_DIALOG_CONTENT_NAME;\n\nexport const AlertDialog = {\n  Root: AlertDialogRoot,\n  Trigger: AlertDialogTrigger,\n  Portal: AlertDialogPortal,\n  Overlay: AlertDialogOverlay,\n  Content: AlertDialogContent,\n  Title: AlertDialogTitle,\n  Description: AlertDialogDescription,\n  Cancel: AlertDialogCancel,\n  Action: AlertDialogAction,\n};\n\nexport type {\n  AlertDialogRootProps,\n  AlertDialogTriggerProps,\n  AlertDialogPortalProps,\n  AlertDialogOverlayProps,\n  AlertDialogContentProps,\n  AlertDialogTitleProps,\n  AlertDialogDescriptionProps,\n  AlertDialogCancelProps,\n  AlertDialogActionProps,\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { type IconWeight } from '@phosphor-icons/react';\nimport { Root as CheckboxPrimitive, type CheckboxProps as CheckboxPrimitiveProps } from '@radix-ui/react-checkbox';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport React, { type ComponentPropsWithRef, forwardRef, type ForwardRefExoticComponent, useCallback } from 'react';\n\nimport {\n  InputRoot,\n  type InputRootProps,\n  PinInput as PinInputPrimitive,\n  type PinInputProps as PinInputPrimitiveProps,\n  TextInput as TextInputPrimitive,\n  type TextInputProps as TextInputPrimitiveProps,\n  TextArea as TextAreaPrimitive,\n  type TextAreaProps as TextAreaPrimitiveProps,\n  useInputContext,\n  INPUT_NAME,\n  type InputScopedProps,\n  Description as DescriptionPrimitive,\n  DescriptionAndValidation as DescriptionAndValidationPrimitive,\n  type DescriptionAndValidationProps as DescriptionAndValidationPrimitiveProps,\n  type DescriptionProps as DescriptionPrimitiveProps,\n  Label as LabelPrimitive,\n  type LabelProps as LabelPrimitiveProps,\n  Validation as ValidationPrimitive,\n  type ValidationProps as ValidationPrimitiveProps,\n} from '@dxos/react-input';\nimport { mx } from '@dxos/react-ui-theme';\nimport { type Density, type Elevation, type ClassNameValue, type Size } from '@dxos/react-ui-types';\n\nimport { useDensityContext, useElevationContext, useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\nimport { Icon } from '../Icon';\n\ntype InputVariant = 'default' | 'subdued';\n\ntype InputSharedProps = Partial<{ density: Density; elevation: Elevation; variant: InputVariant }>;\n\ntype LabelProps = ThemedClassName<LabelPrimitiveProps> & { srOnly?: boolean };\n\nconst Label = forwardRef<HTMLLabelElement, LabelProps>(({ srOnly, classNames, children, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <LabelPrimitive {...props} className={tx('input.label', 'input__label', { srOnly }, classNames)} ref={forwardedRef}>\n      {children}\n    </LabelPrimitive>\n  );\n});\n\ntype DescriptionProps = ThemedClassName<DescriptionPrimitiveProps> & { srOnly?: boolean };\n\nconst Description = forwardRef<HTMLSpanElement, DescriptionProps>(\n  ({ srOnly, classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <DescriptionPrimitive\n        {...props}\n        className={tx('input.description', 'input__description', { srOnly }, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </DescriptionPrimitive>\n    );\n  },\n);\n\ntype ValidationProps = ThemedClassName<ValidationPrimitiveProps> & { srOnly?: boolean };\n\nconst Validation = forwardRef<HTMLSpanElement, InputScopedProps<ValidationProps>>(\n  ({ __inputScope, srOnly, classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const { validationValence } = useInputContext(INPUT_NAME, __inputScope);\n    return (\n      <ValidationPrimitive\n        {...props}\n        className={tx(\n          'input.validation',\n          `input__validation-message input__validation-message--${validationValence}`,\n          { srOnly, validationValence },\n          classNames,\n        )}\n        ref={forwardedRef}\n      >\n        {children}\n      </ValidationPrimitive>\n    );\n  },\n);\n\ntype DescriptionAndValidationProps = ThemedClassName<DescriptionAndValidationPrimitiveProps> & { srOnly?: boolean };\n\nconst DescriptionAndValidation = forwardRef<HTMLParagraphElement, DescriptionAndValidationProps>(\n  ({ srOnly, classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <DescriptionAndValidationPrimitive\n        {...props}\n        className={tx('input.descriptionAndValidation', 'input__description-and-validation', { srOnly }, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </DescriptionAndValidationPrimitive>\n    );\n  },\n);\n\ntype PinInputProps = InputSharedProps &\n  Omit<PinInputPrimitiveProps, 'segmentClassName' | 'inputClassName'> & {\n    segmentClassName?: ClassNameValue;\n    inputClassName?: ClassNameValue;\n  };\n\nconst PinInput = forwardRef<HTMLInputElement, PinInputProps>(\n  (\n    {\n      density: propsDensity,\n      elevation: propsElevation,\n      segmentClassName: propsSegmentClassName,\n      inputClassName,\n      variant,\n      ...props\n    },\n    forwardedRef,\n  ) => {\n    const { hasIosKeyboard } = useThemeContext();\n    const { tx } = useThemeContext();\n    const density = useDensityContext(propsDensity);\n    const elevation = useElevationContext(propsElevation);\n\n    const segmentClassName = useCallback(\n      ({ focused, validationValence }: Parameters<Exclude<PinInputPrimitiveProps['segmentClassName'], undefined>>[0]) =>\n        tx(\n          'input.input',\n          'input--pin-segment',\n          {\n            variant: 'static',\n            focused,\n            disabled: props.disabled,\n            density,\n            elevation,\n            validationValence,\n          },\n          propsSegmentClassName,\n        ),\n      [tx, props.disabled, elevation, propsElevation, density],\n    );\n    return (\n      <PinInputPrimitive\n        {...{\n          ...props,\n          segmentClassName,\n          ...(props.autoFocus && !hasIosKeyboard && { autoFocus: true }),\n        }}\n        inputClassName={tx('input.inputWithSegments', 'input input--pin', { disabled: props.disabled }, inputClassName)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\n// TODO(burdon): Implement inline icon within button: e.g., https://www.radix-ui.com/themes/playground#text-field\n\ntype TextInputProps = InputSharedProps & ThemedClassName<TextInputPrimitiveProps>;\n\nconst TextInput = forwardRef<HTMLInputElement, InputScopedProps<TextInputProps>>(\n  ({ __inputScope, classNames, density: propsDensity, elevation: propsElevation, variant, ...props }, forwardedRef) => {\n    const { hasIosKeyboard } = useThemeContext();\n    const themeContextValue = useThemeContext();\n    const density = useDensityContext(propsDensity);\n    const elevation = useElevationContext(propsElevation);\n    const { validationValence } = useInputContext(INPUT_NAME, __inputScope);\n\n    const { tx } = themeContextValue;\n\n    return (\n      <TextInputPrimitive\n        {...props}\n        className={tx(\n          'input.input',\n          'input',\n          {\n            variant,\n            disabled: props.disabled,\n            density,\n            elevation,\n            validationValence,\n          },\n          classNames,\n        )}\n        {...(props.autoFocus && !hasIosKeyboard && { autoFocus: true })}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype TextAreaProps = InputSharedProps & ThemedClassName<TextAreaPrimitiveProps>;\n\nconst TextArea = forwardRef<HTMLTextAreaElement, InputScopedProps<TextAreaProps>>(\n  ({ __inputScope, classNames, density: propsDensity, elevation: propsElevation, variant, ...props }, forwardedRef) => {\n    const { hasIosKeyboard } = useThemeContext();\n    const { tx } = useThemeContext();\n    const density = useDensityContext(propsDensity);\n    const elevation = useElevationContext(propsElevation);\n    const { validationValence } = useInputContext(INPUT_NAME, __inputScope);\n\n    return (\n      <TextAreaPrimitive\n        {...props}\n        className={tx(\n          'input.input',\n          'input--text-area',\n          {\n            variant,\n            disabled: props.disabled,\n            density,\n            elevation,\n            validationValence,\n          },\n          '-mbe-labelSpacingBlock',\n          classNames,\n        )}\n        {...(props.autoFocus && !hasIosKeyboard && { autoFocus: true })}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype CheckboxProps = ThemedClassName<Omit<CheckboxPrimitiveProps, 'children'>> & { size?: Size; weight?: IconWeight };\n\nconst Checkbox: ForwardRefExoticComponent<CheckboxProps> = forwardRef<\n  HTMLButtonElement,\n  InputScopedProps<CheckboxProps>\n>(\n  (\n    {\n      __inputScope,\n      checked: propsChecked,\n      defaultChecked: propsDefaultChecked,\n      onCheckedChange: propsOnCheckedChange,\n      size,\n      weight = 'bold',\n      classNames,\n      ...props\n    },\n    forwardedRef,\n  ) => {\n    const [checked, onCheckedChange] = useControllableState({\n      prop: propsChecked,\n      defaultProp: propsDefaultChecked,\n      onChange: propsOnCheckedChange,\n    });\n    const { id, validationValence, descriptionId, errorMessageId } = useInputContext(INPUT_NAME, __inputScope);\n    const { tx } = useThemeContext();\n\n    return (\n      <CheckboxPrimitive\n        {...{\n          ...props,\n          checked,\n          onCheckedChange,\n          id,\n          'aria-describedby': descriptionId,\n          ...(validationValence === 'error' && {\n            'aria-invalid': 'true' as const,\n            'aria-errormessage': errorMessageId,\n          }),\n          className: tx('input.checkbox', 'input--checkbox', { size }, 'shrink-0', classNames),\n        }}\n        ref={forwardedRef}\n      >\n        <Icon\n          icon={checked === 'indeterminate' ? 'ph--minus--regular' : 'ph--check--regular'}\n          classNames={tx('input.checkboxIndicator', 'input--checkbox__indicator', { size, checked })}\n        />\n      </CheckboxPrimitive>\n    );\n  },\n);\n\ntype SwitchProps = ThemedClassName<\n  Omit<ComponentPropsWithRef<'input'>, 'children' | 'onChange'> & { onCheckedChange?: (checked: boolean) => void }\n>;\n\nconst Switch = forwardRef<HTMLInputElement, InputScopedProps<SwitchProps>>(\n  (\n    {\n      __inputScope,\n      checked: propsChecked,\n      defaultChecked: propsDefaultChecked,\n      onCheckedChange: propsOnCheckedChange,\n      classNames,\n      ...props\n    },\n    forwardedRef,\n  ) => {\n    const [checked, onCheckedChange] = useControllableState({\n      prop: propsChecked,\n      defaultProp: propsDefaultChecked ?? false,\n      onChange: propsOnCheckedChange,\n    });\n\n    const { id, validationValence, descriptionId, errorMessageId } = useInputContext(INPUT_NAME, __inputScope);\n\n    return (\n      <input\n        type='checkbox'\n        className={mx('dx-checkbox--switch dx-focus-ring', classNames)}\n        checked={checked}\n        onChange={(event) => {\n          onCheckedChange(event.target.checked);\n        }}\n        id={id}\n        aria-describedby={descriptionId}\n        {...props}\n        {...(validationValence === 'error' && {\n          'aria-invalid': 'true' as const,\n          'aria-errormessage': errorMessageId,\n        })}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\nexport const Input = {\n  Root: InputRoot,\n  PinInput,\n  TextInput,\n  TextArea,\n  Checkbox,\n  Switch,\n  Label,\n  Description,\n  Validation,\n  DescriptionAndValidation,\n};\n\nexport type {\n  InputVariant,\n  InputRootProps,\n  InputSharedProps,\n  PinInputProps,\n  TextInputProps,\n  TextAreaProps,\n  CheckboxProps,\n  SwitchProps,\n  LabelProps,\n  DescriptionProps,\n  ValidationProps,\n  DescriptionAndValidationProps,\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { CaretDown, CaretRight } from '@phosphor-icons/react';\nimport { Slot } from '@radix-ui/react-slot';\nimport React, { type ComponentPropsWithoutRef, type FC, forwardRef, type ForwardRefExoticComponent } from 'react';\n\nimport {\n  List as ListPrimitive,\n  type ListProps as ListPrimitiveProps,\n  type ListScopedProps,\n  ListItemHeading as ListPrimitiveItemHeading,\n  type ListItemHeadingProps as ListPrimitiveItemHeadingProps,\n  ListItemOpenTrigger as ListPrimitiveItemOpenTrigger,\n  type ListItemOpenTriggerProps as ListPrimitiveItemOpenTriggerProps,\n  ListItemCollapsibleContent,\n  type ListItemCollapsibleContentProps,\n  ListItem as ListPrimitiveItem,\n  type ListItemProps as ListPrimitiveItemProps,\n  type ListItemScopedProps,\n  LIST_NAME,\n  LIST_ITEM_NAME,\n  useListContext,\n  useListItemContext,\n} from '@dxos/react-list';\nimport { type Density } from '@dxos/react-ui-types';\n\nimport { ListDropIndicator } from './ListDropIndicator';\nimport { useDensityContext, useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\nimport { DensityProvider } from '../DensityProvider';\n\ntype ListProps = ThemedClassName<ListPrimitiveProps> & { density?: Density };\n\nconst List = forwardRef<HTMLOListElement, ListProps>(({ classNames, children, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  const density = useDensityContext(props.density);\n\n  return (\n    <DensityProvider density={density}>\n      <ListPrimitive {...props} className={tx('list.root', 'list', {}, classNames)} ref={forwardedRef}>\n        {children}\n      </ListPrimitive>\n    </DensityProvider>\n  );\n});\n\ntype ListItemEndcapProps = ThemedClassName<ComponentPropsWithoutRef<'div'>> & { asChild?: boolean };\n\nconst ListItemEndcap = forwardRef<HTMLDivElement, ListItemEndcapProps>(\n  ({ children, classNames, asChild, ...props }, forwardedRef) => {\n    const Root = asChild ? Slot : 'div';\n    const density = useDensityContext();\n    const { tx } = useThemeContext();\n    return (\n      <Root\n        {...(!asChild && { role: 'none' })}\n        {...props}\n        className={tx('list.item.endcap', 'list__listItem__endcap', { density }, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </Root>\n    );\n  },\n);\n\nconst MockListItemOpenTrigger = ({\n  classNames,\n  ...props\n}: ThemedClassName<Omit<ComponentPropsWithoutRef<'div'>, 'children'>>) => {\n  const density = useDensityContext();\n  const { tx } = useThemeContext();\n  return (\n    <div\n      role='none'\n      {...props}\n      className={tx('list.item.openTrigger', 'list__listItem__openTrigger--mock', { density }, classNames)}\n    />\n  );\n};\n\ntype ListItemHeadingProps = ThemedClassName<ListPrimitiveItemHeadingProps>;\n\nconst ListItemHeading = forwardRef<HTMLParagraphElement, ListItemHeadingProps>(\n  ({ children, classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const density = useDensityContext();\n    return (\n      <ListPrimitiveItemHeading\n        {...props}\n        className={tx('list.item.heading', 'list__listItem__heading', { density }, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </ListPrimitiveItemHeading>\n    );\n  },\n);\n\ntype ListItemOpenTriggerProps = ThemedClassName<ListPrimitiveItemOpenTriggerProps>;\n\nconst ListItemOpenTrigger = forwardRef<HTMLButtonElement, ListItemOpenTriggerProps>(\n  ({ __listItemScope, classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const density = useDensityContext();\n    const { open } = useListItemContext(LIST_ITEM_NAME, __listItemScope);\n    const Icon = open ? CaretDown : CaretRight;\n    return (\n      <ListPrimitiveItemOpenTrigger\n        {...props}\n        className={tx('list.item.openTrigger', 'list__listItem__openTrigger', { density }, classNames)}\n        ref={forwardedRef}\n      >\n        {children || (\n          <Icon\n            {...{\n              weight: 'bold',\n              className: tx('list.item.openTriggerIcon', 'list__listItem__openTrigger__icon', {}),\n            }}\n          />\n        )}\n      </ListPrimitiveItemOpenTrigger>\n    );\n  },\n);\n\ntype ListItemRootProps = ThemedClassName<ListPrimitiveItemProps>;\n\nconst ListItemRoot = forwardRef<HTMLLIElement, ListItemRootProps>(\n  ({ classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const density = useDensityContext();\n    return (\n      <ListPrimitiveItem\n        {...props}\n        className={tx('list.item.root', 'list__listItem', { density, collapsible: props.collapsible }, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </ListPrimitiveItem>\n    );\n  },\n);\n\nexport const ListItem: {\n  Root: ForwardRefExoticComponent<ListItemRootProps>;\n  Endcap: ForwardRefExoticComponent<ListItemEndcapProps>;\n  Heading: ForwardRefExoticComponent<ListItemHeadingProps>;\n  OpenTrigger: ForwardRefExoticComponent<ListItemOpenTriggerProps>;\n  CollapsibleContent: ForwardRefExoticComponent<ListItemCollapsibleContentProps>;\n  MockOpenTrigger: FC<ThemedClassName<Omit<ComponentPropsWithoutRef<'div'>, 'children'>>>;\n  DropIndicator: typeof ListDropIndicator;\n} = {\n  Root: ListItemRoot,\n  Endcap: ListItemEndcap,\n  Heading: ListItemHeading,\n  OpenTrigger: ListItemOpenTrigger,\n  CollapsibleContent: ListItemCollapsibleContent,\n  MockOpenTrigger: MockListItemOpenTrigger,\n  DropIndicator: ListDropIndicator,\n};\n\nexport { List, useListContext, useListItemContext, LIST_NAME, LIST_ITEM_NAME };\n\nexport type {\n  ListProps,\n  ListScopedProps,\n  ListItemRootProps,\n  ListItemScopedProps,\n  ListItemEndcapProps,\n  ListItemHeadingProps,\n  ListItemOpenTriggerProps,\n  ListItemCollapsibleContentProps,\n};\n", "//\n// Copyright 2024 DXOS.org\n//\n\nimport { type Edge } from '@atlaskit/pragmatic-drag-and-drop-hitbox/types';\nimport React, { type CSSProperties, type HTMLAttributes } from 'react';\n\ntype Orientation = 'horizontal' | 'vertical';\n\nconst edgeToOrientationMap: Record<Edge, Orientation> = {\n  top: 'horizontal',\n  bottom: 'horizontal',\n  left: 'vertical',\n  right: 'vertical',\n};\n\nconst orientationStyles: Record<Orientation, HTMLAttributes<HTMLElement>['className']> = {\n  horizontal:\n    'h-[--line-thickness] left-[calc(var(--line-inset)+var(--terminal-radius))] right-[--line-inset] before:left-[--terminal-inset]',\n  vertical:\n    'w-[--line-thickness] top-[calc(var(--line-inset)+var(--terminal-radius))] bottom-[--line-inset] before:top-[--terminal-inset]',\n};\n\nconst edgeStyles: Record<Edge, HTMLAttributes<HTMLElement>['className']> = {\n  top: 'top-[--line-offset] before:top-[--offset-terminal]',\n  right: 'right-[--line-offset] before:right-[--offset-terminal]',\n  bottom: 'bottom-[--line-offset] before:bottom-[--offset-terminal]',\n  left: 'left-[--line-offset] before:left-[--offset-terminal]',\n};\n\nconst strokeSize = 2;\nconst terminalSize = 8;\nconst offsetToAlignTerminalWithLine = (strokeSize - terminalSize) / 2;\n\nexport type DropIndicatorProps = {\n  edge: Edge;\n  gap?: number;\n  terminalInset?: number;\n  lineInset?: number;\n};\n\n/**\n * This is a tailwind port of `@atlaskit/pragmatic-drag-and-drop-react-drop-indicator/box`\n */\nexport const ListDropIndicator = ({\n  edge,\n  gap = 0,\n  lineInset = 0,\n  terminalInset = lineInset - terminalSize,\n}: DropIndicatorProps) => {\n  const orientation = edgeToOrientationMap[edge];\n\n  return (\n    <div\n      role='none'\n      style={\n        {\n          '--line-thickness': `${strokeSize}px`,\n          '--line-offset': `calc(-0.5 * (${gap}px + ${strokeSize}px))`,\n          '--line-inset': `${lineInset}px`,\n          '--terminal-size': `${terminalSize}px`,\n          '--terminal-radius': `${terminalSize / 2}px`,\n          '--terminal-inset': `${terminalInset}px`,\n          '--offset-terminal': `${offsetToAlignTerminalWithLine}px`,\n        } as CSSProperties\n      }\n      className={`absolute z-10 pointer-events-none bg-accentSurface before:content-[''] before:w-[--terminal-size] before:h-[--terminal-size] box-border before:absolute before:border-[length:--line-thickness] before:border-solid before:border-accentSurface before:rounded-full ${orientationStyles[orientation]} ${edgeStyles[edge]}`}\n    />\n  );\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport React, { type ComponentPropsWithoutRef, type FC, forwardRef, type ForwardRefExoticComponent } from 'react';\n\nimport {\n  List,\n  ListItem,\n  type ListItemCollapsibleContentProps,\n  type ListItemHeadingProps,\n  type ListItemOpenTriggerProps,\n  type ListItemRootProps,\n  type ListProps,\n  type ListScopedProps,\n  LIST_ITEM_NAME,\n  useListItemContext,\n} from './List';\nimport { TreeDropIndicator } from './TreeDropIndicator';\nimport { type ThemedClassName } from '../../util';\n\ntype TreeRootProps = ListProps;\n\ntype TreeItemProps = ListItemRootProps;\n\nconst TreeRoot = forwardRef<HTMLOListElement, TreeRootProps>((props, forwardedRef) => {\n  return <List {...props} ref={forwardedRef} />;\n});\n\ntype TreeBranchProps = TreeRootProps;\n\nconst TreeBranch = forwardRef<HTMLOListElement, ListScopedProps<TreeBranchProps>>(\n  ({ __listScope, ...props }, forwardedRef) => {\n    const { headingId } = useListItemContext(LIST_ITEM_NAME, __listScope);\n    return <List {...props} aria-labelledby={headingId} ref={forwardedRef} />;\n  },\n);\n\nconst TreeItemRoot = forwardRef<HTMLLIElement, ListItemRootProps>((props, forwardedRef) => {\n  return <ListItem.Root role='treeitem' {...props} ref={forwardedRef} />;\n});\n\ntype TreeItemHeadingProps = ListItemHeadingProps;\n\nconst TreeItemHeading = ListItem.Heading;\n\ntype TreeItemOpenTriggerProps = ListItemOpenTriggerProps;\n\nconst TreeItemOpenTrigger = ListItem.OpenTrigger;\n\nconst MockTreeItemOpenTrigger = ListItem.MockOpenTrigger;\n\ntype TreeItemBodyProps = ListItemCollapsibleContentProps;\n\nconst TreeItemBody: ForwardRefExoticComponent<TreeItemBodyProps> = ListItem.CollapsibleContent;\n\nexport const Tree = { Root: TreeRoot, Branch: TreeBranch };\nexport const TreeItem: {\n  Root: ForwardRefExoticComponent<TreeItemProps>;\n  Heading: ForwardRefExoticComponent<TreeItemHeadingProps>;\n  Body: ForwardRefExoticComponent<TreeItemBodyProps>;\n  OpenTrigger: ForwardRefExoticComponent<TreeItemOpenTriggerProps>;\n  MockOpenTrigger: FC<ThemedClassName<Omit<ComponentPropsWithoutRef<'div'>, 'children'>>>;\n  DropIndicator: typeof TreeDropIndicator;\n} = {\n  Root: TreeItemRoot,\n  Heading: TreeItemHeading,\n  Body: TreeItemBody,\n  OpenTrigger: TreeItemOpenTrigger,\n  MockOpenTrigger: MockTreeItemOpenTrigger,\n  DropIndicator: TreeDropIndicator,\n};\n\nexport type { TreeRootProps, TreeItemProps, TreeItemHeadingProps, TreeItemBodyProps, TreeItemOpenTriggerProps };\n", "//\n// Copyright 2024 DXOS.org\n//\n\nimport { type Instruction } from '@atlaskit/pragmatic-drag-and-drop-hitbox/tree-item';\nimport React, { type HTMLAttributes, type CSSProperties } from 'react';\n\n// Tree item hitbox\n// https://github.com/atlassian/pragmatic-drag-and-drop/blob/main/packages/hitbox/constellation/index/about.mdx#tree-item\n\ntype InstructionType = Exclude<Instruction, { type: 'instruction-blocked' }>['type'];\ntype Orientation = 'sibling' | 'child';\n\nconst edgeToOrientationMap: Record<InstructionType, Orientation> = {\n  'reorder-above': 'sibling',\n  'reorder-below': 'sibling',\n  'make-child': 'child',\n  reparent: 'child',\n};\n\nconst orientationStyles: Record<Orientation, HTMLAttributes<HTMLElement>['className']> = {\n  // TODO(wittjosiah): Stop using left/right here.\n  sibling:\n    'bs-[--line-thickness] left-[--horizontal-indent] right-0 bg-accentSurface before:left-[--negative-terminal-size]',\n  child: 'is-full block-start-0 block-end-0 border-[length:--line-thickness] before:invisible',\n};\n\nconst instructionStyles: Record<InstructionType, HTMLAttributes<HTMLElement>['className']> = {\n  'reorder-above': 'block-start-[--line-offset] before:block-start-[--offset-terminal]',\n  'reorder-below': 'block-end-[--line-offset] before:block-end-[--offset-terminal]',\n  'make-child': 'border-accentSurface',\n  // TODO(wittjosiah): This is not occurring in the current implementation.\n  reparent: '',\n};\n\nconst strokeSize = 2;\nconst terminalSize = 8;\nconst offsetToAlignTerminalWithLine = (strokeSize - terminalSize) / 2;\n\nexport type DropIndicatorProps = {\n  instruction: Instruction;\n  gap?: number;\n};\n\nexport const TreeDropIndicator = ({ instruction, gap = 0 }: DropIndicatorProps) => {\n  const lineOffset = `calc(-0.5 * (${gap}px + ${strokeSize}px))`;\n  const isBlocked = instruction.type === 'instruction-blocked';\n  const desiredInstruction = isBlocked ? instruction.desired : instruction;\n  const orientation = edgeToOrientationMap[desiredInstruction.type];\n  if (isBlocked) {\n    return null;\n  }\n\n  return (\n    <div\n      style={\n        {\n          '--line-thickness': `${strokeSize}px`,\n          '--line-offset': `${lineOffset}`,\n          '--terminal-size': `${terminalSize}px`,\n          '--terminal-radius': `${terminalSize / 2}px`,\n          '--negative-terminal-size': `-${terminalSize}px`,\n          '--offset-terminal': `${offsetToAlignTerminalWithLine}px`,\n          '--horizontal-indent': `${desiredInstruction.currentLevel * desiredInstruction.indentPerLevel + 4}px`,\n        } as CSSProperties\n      }\n      className={`absolute z-10 pointer-events-none before:is-[--terminal-size] before:bs-[--terminal-size] box-border before:absolute before:border-[length:--line-thickness] before:border-solid before:border-accentSurface before:rounded-full ${orientationStyles[orientation]} ${instructionStyles[desiredInstruction.type]}`}\n    ></div>\n  );\n};\n", "//\n// Copyright 2024 DXOS.org\n//\n\nimport { useArrowNavigationGroup, useFocusableGroup } from '@fluentui/react-tabster';\nimport { createContextScope, type Scope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport React, { type ComponentPropsWithRef, type CSSProperties, forwardRef } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\n\n// TODO(thure): A lot of the accessible affordances for this kind of thing need to be implemented per https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/treegrid_role\n\nconst TREEGRID_ROW_NAME = 'TreegridRow';\n\ntype TreegridRowScopedProps<P> = P & { __treegridRowScope?: Scope };\n\nconst [createTreegridRowContext, createTreegridRowScope] = createContextScope(TREEGRID_ROW_NAME, []);\n\ntype TreegridRowContextValue = {\n  open?: boolean;\n  onOpenChange?: (nextOpen: boolean) => void;\n};\n\nconst [TreegridRowProvider, useTreegridRowContext] =\n  createTreegridRowContext<TreegridRowContextValue>(TREEGRID_ROW_NAME);\n\nconst PATH_SEPARATOR = '~';\nconst PARENT_OF_SEPARATOR = ' ';\n\ntype TreegridRootProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  gridTemplateColumns: CSSProperties['gridTemplateColumns'];\n  asChild?: boolean;\n};\n\nconst TreegridRoot = forwardRef<HTMLDivElement, TreegridRootProps>(\n  ({ asChild, classNames, children, style, gridTemplateColumns, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.div;\n    const arrowNavigationAttrs = useArrowNavigationGroup({ axis: 'vertical', tabbable: false, circular: true });\n\n    return (\n      <Root\n        role='treegrid'\n        {...arrowNavigationAttrs}\n        {...props}\n        className={tx('treegrid.root', 'treegrid', {}, classNames)}\n        style={{ ...style, gridTemplateColumns }}\n        ref={forwardedRef}\n      >\n        {children}\n      </Root>\n    );\n  },\n);\n\ntype TreegridRowProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  id: string;\n  asChild?: boolean;\n  parentOf?: string;\n  defaultOpen?: boolean;\n  open?: boolean;\n  onOpenChange?(open: boolean): void;\n};\n\nconst TreegridRow = forwardRef<HTMLDivElement, TreegridRowScopedProps<TreegridRowProps>>(\n  (\n    {\n      __treegridRowScope,\n      asChild,\n      classNames,\n      children,\n      id,\n      parentOf,\n      open: propsOpen,\n      defaultOpen,\n      onOpenChange: propsOnOpenChange,\n      ...props\n    },\n    forwardedRef,\n  ) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.div;\n    const pathParts = id.split(PATH_SEPARATOR);\n    const level = pathParts.length - 1;\n    const [open, onOpenChange] = useControllableState({\n      prop: propsOpen,\n      onChange: propsOnOpenChange,\n      defaultProp: defaultOpen,\n    });\n    const focusableGroupAttrs = useFocusableGroup({ tabBehavior: 'limited' });\n    const arrowGroupAttrs = useArrowNavigationGroup({\n      axis: 'horizontal',\n      tabbable: false,\n      circular: false,\n      memorizeCurrent: false,\n    });\n\n    return (\n      <TreegridRowProvider open={open} onOpenChange={onOpenChange} scope={__treegridRowScope}>\n        <Root\n          role='row'\n          aria-level={level}\n          className={tx('treegrid.row', 'treegrid__row', { level }, classNames)}\n          {...(parentOf && { 'aria-expanded': open, 'aria-owns': parentOf })}\n          tabIndex={0}\n          {...focusableGroupAttrs}\n          {...props}\n          id={id}\n          ref={forwardedRef}\n        >\n          <div role='none' className='contents' {...arrowGroupAttrs}>\n            {children}\n          </div>\n        </Root>\n      </TreegridRowProvider>\n    );\n  },\n);\n\ntype TreegridCellProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & { indent?: boolean };\n\nconst TreegridCell = forwardRef<HTMLDivElement, TreegridCellProps>(\n  ({ classNames, children, indent, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <div\n        role='gridcell'\n        className={tx('treegrid.cell', 'treegrid__cell', { indent }, classNames)}\n        {...props}\n        ref={forwardedRef}\n      >\n        {children}\n      </div>\n    );\n  },\n);\n\nexport type { TreegridRootProps, TreegridRowProps };\n\nexport const Treegrid = {\n  Root: TreegridRoot,\n  Row: TreegridRow,\n  Cell: TreegridCell,\n  PARENT_OF_SEPARATOR,\n  PATH_SEPARATOR,\n  createTreegridRowScope,\n  useTreegridRowContext,\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { createContext } from '@radix-ui/react-context';\nimport { Root as DialogRoot, DialogContent, DialogTitle } from '@radix-ui/react-dialog';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport React, {\n  type ComponentPropsWithRef,\n  type Dispatch,\n  forwardRef,\n  type PropsWithChildren,\n  type SetStateAction,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  type KeyboardEvent,\n  type ComponentPropsWithoutRef,\n} from 'react';\n\nimport { log } from '@dxos/log';\nimport { useMediaQuery, useForwardedRef } from '@dxos/react-hooks';\n\nimport { useSwipeToDismiss } from './useSwipeToDismiss';\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\nimport { type Label, toLocalizedString, useTranslation } from '../ThemeProvider';\n\nconst MAIN_ROOT_NAME = 'MainRoot';\nconst NAVIGATION_SIDEBAR_NAME = 'NavigationSidebar';\nconst COMPLEMENTARY_SIDEBAR_NAME = 'ComplementarySidebar';\nconst MAIN_NAME = 'Main';\nconst GENERIC_CONSUMER_NAME = 'GenericConsumer';\n\ntype SidebarState = 'expanded' | 'collapsed' | 'closed';\n\ntype MainContextValue = {\n  resizing: boolean;\n  navigationSidebarState: SidebarState;\n  setNavigationSidebarState: Dispatch<SetStateAction<SidebarState | undefined>>;\n  complementarySidebarState: SidebarState;\n  setComplementarySidebarState: Dispatch<SetStateAction<SidebarState | undefined>>;\n};\n\nconst landmarkAttr = 'data-main-landmark';\n\n/**\n * Facilitates moving focus between landmarks.\n * Ref https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/landmark_role\n */\nconst useLandmarkMover = (propsOnKeyDown: ComponentPropsWithoutRef<'div'>['onKeyDown'], landmark: string) => {\n  const handleKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLDivElement>) => {\n      const target = event.target as HTMLDivElement;\n      if (event.target === event.currentTarget && event.key === 'Tab' && target.hasAttribute(landmarkAttr)) {\n        event.preventDefault();\n        const landmarks = Array.from(document.querySelectorAll(`[${landmarkAttr}]:not([inert])`))\n          .map((el) => (el.hasAttribute(landmarkAttr) ? parseInt(el.getAttribute(landmarkAttr)!) : NaN))\n          .sort();\n        const l = landmarks.length;\n        const cursor = landmarks.indexOf(parseInt(target.getAttribute(landmarkAttr)!));\n        const nextLandmark = landmarks[(cursor + l + (event.getModifierState('Shift') ? -1 : 1)) % l];\n        (document.querySelector(`[${landmarkAttr}=\"${nextLandmark}\"]`) as HTMLDivElement | null)?.focus();\n      }\n      propsOnKeyDown?.(event);\n    },\n    [propsOnKeyDown],\n  );\n  const focusableGroupAttrs = window ? {} : { tabBehavior: 'limited', ignoreDefaultKeydown: { Tab: true } };\n\n  return { onKeyDown: handleKeyDown, [landmarkAttr]: landmark, tabIndex: 0, ...focusableGroupAttrs };\n};\n\nconst [MainProvider, useMainContext] = createContext<MainContextValue>(MAIN_NAME, {\n  resizing: false,\n  navigationSidebarState: 'closed',\n  setNavigationSidebarState: (nextState) => {\n    // TODO(burdon): Standardize with other context missing errors using raise.\n    log.warn('Attempt to set sidebar state without initializing `MainRoot`');\n  },\n  complementarySidebarState: 'closed',\n  setComplementarySidebarState: (nextState) => {\n    // TODO(burdon): Standardize with other context missing errors using raise.\n    log.warn('Attempt to set sidebar state without initializing `MainRoot`');\n  },\n});\n\nconst useSidebars = (consumerName = GENERIC_CONSUMER_NAME) => {\n  const { setNavigationSidebarState, navigationSidebarState, setComplementarySidebarState, complementarySidebarState } =\n    useMainContext(consumerName);\n\n  return {\n    navigationSidebarState,\n    setNavigationSidebarState,\n    toggleNavigationSidebar: useCallback(\n      () => setNavigationSidebarState(navigationSidebarState === 'expanded' ? 'closed' : 'expanded'),\n      [navigationSidebarState, setNavigationSidebarState],\n    ),\n    openNavigationSidebar: useCallback(() => setNavigationSidebarState('expanded'), []),\n    collapseNavigationSidebar: useCallback(() => setNavigationSidebarState('collapsed'), []),\n    closeNavigationSidebar: useCallback(() => setNavigationSidebarState('closed'), []),\n    complementarySidebarState,\n    setComplementarySidebarState,\n    toggleComplementarySidebar: useCallback(\n      () => setComplementarySidebarState(complementarySidebarState === 'expanded' ? 'closed' : 'expanded'),\n      [complementarySidebarState, setComplementarySidebarState],\n    ),\n    openComplementarySidebar: useCallback(() => setComplementarySidebarState('expanded'), []),\n    collapseComplementarySidebar: useCallback(() => setComplementarySidebarState('collapsed'), []),\n    closeComplementarySidebar: useCallback(() => setComplementarySidebarState('closed'), []),\n  };\n};\n\ntype MainRootProps = PropsWithChildren<{\n  navigationSidebarState?: SidebarState;\n  defaultNavigationSidebarState?: SidebarState;\n  onNavigationSidebarStateChange?: (nextState: SidebarState) => void;\n  complementarySidebarState?: SidebarState;\n  defaultComplementarySidebarState?: SidebarState;\n  onComplementarySidebarStateChange?: (nextState: SidebarState) => void;\n}>;\n\nconst resizeDebounce = 3000;\n\nconst MainRoot = ({\n  navigationSidebarState: propsNavigationSidebarState,\n  defaultNavigationSidebarState,\n  onNavigationSidebarStateChange,\n  complementarySidebarState: propsComplementarySidebarState,\n  defaultComplementarySidebarState,\n  onComplementarySidebarStateChange,\n  children,\n  ...props\n}: MainRootProps) => {\n  const [isLg] = useMediaQuery('lg', { ssr: false });\n  const [navigationSidebarState = isLg ? 'expanded' : 'collapsed', setNavigationSidebarState] =\n    useControllableState<SidebarState>({\n      prop: propsNavigationSidebarState,\n      defaultProp: defaultNavigationSidebarState,\n      onChange: onNavigationSidebarStateChange,\n    });\n  const [complementarySidebarState = isLg ? 'expanded' : 'collapsed', setComplementarySidebarState] =\n    useControllableState<SidebarState>({\n      prop: propsComplementarySidebarState,\n      defaultProp: defaultComplementarySidebarState,\n      onChange: onComplementarySidebarStateChange,\n    });\n\n  const [resizing, setResizing] = useState(false);\n  const resizeInterval = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const handleResize = useCallback(() => {\n    setResizing(true);\n    if (resizeInterval.current) {\n      clearTimeout(resizeInterval.current);\n    }\n    resizeInterval.current = setTimeout(() => {\n      setResizing(false);\n      resizeInterval.current = null;\n    }, resizeDebounce);\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [handleResize]);\n\n  return (\n    <MainProvider\n      {...props}\n      {...{\n        navigationSidebarState,\n        setNavigationSidebarState,\n        complementarySidebarState,\n        setComplementarySidebarState,\n      }}\n      resizing={resizing}\n    >\n      {children}\n    </MainProvider>\n  );\n};\n\nMainRoot.displayName = MAIN_ROOT_NAME;\n\nconst handleOpenAutoFocus = (event: Event) => {\n  !document.body.hasAttribute('data-is-keyboard') && event.preventDefault();\n};\n\ntype MainSidebarProps = ThemedClassName<ComponentPropsWithRef<typeof DialogContent>> & {\n  swipeToDismiss?: boolean;\n  state?: SidebarState;\n  resizing?: boolean;\n  onStateChange?: (nextState: SidebarState) => void;\n  side: 'inline-start' | 'inline-end';\n  label: Label;\n};\n\nconst MainSidebar = forwardRef<HTMLDivElement, MainSidebarProps>(\n  (\n    { classNames, children, swipeToDismiss, onOpenAutoFocus, state, resizing, onStateChange, side, label, ...props },\n    forwardedRef,\n  ) => {\n    const [isLg] = useMediaQuery('lg', { ssr: false });\n    const { tx } = useThemeContext();\n    const { t } = useTranslation();\n    const ref = useForwardedRef(forwardedRef);\n    const noopRef = useRef(null);\n    useSwipeToDismiss(swipeToDismiss ? ref : noopRef, {\n      onDismiss: () => onStateChange?.('closed'),\n    });\n    const handleKeyDown = useCallback(\n      (event: KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === 'Escape') {\n          ((event.target as HTMLDivElement).closest('[data-tabster]') as HTMLDivElement)?.focus();\n        }\n        props.onKeyDown?.(event);\n      },\n      [props.onKeyDown],\n    );\n    const Root = isLg ? Primitive.div : DialogContent;\n\n    return (\n      <DialogRoot open={state !== 'closed'} aria-label={toLocalizedString(label, t)} modal={false}>\n        {!isLg && <DialogTitle className='sr-only'>{toLocalizedString(label, t)}</DialogTitle>}\n        <Root\n          {...(!isLg && { forceMount: true, tabIndex: -1, onOpenAutoFocus: onOpenAutoFocus ?? handleOpenAutoFocus })}\n          {...props}\n          data-side={side === 'inline-end' ? 'ie' : 'is'}\n          data-state={state}\n          data-resizing={resizing ? 'true' : 'false'}\n          className={tx('main.sidebar', 'main__sidebar', {}, classNames)}\n          onKeyDown={handleKeyDown}\n          {...(state === 'closed' && { inert: 'true' })}\n          ref={ref}\n        >\n          {children}\n        </Root>\n      </DialogRoot>\n    );\n  },\n);\n\ntype MainNavigationSidebarProps = Omit<MainSidebarProps, 'expanded' | 'side'>;\n\nconst MainNavigationSidebar = forwardRef<HTMLDivElement, MainNavigationSidebarProps>((props, forwardedRef) => {\n  const { navigationSidebarState, setNavigationSidebarState, resizing } = useMainContext(NAVIGATION_SIDEBAR_NAME);\n  const mover = useLandmarkMover(props.onKeyDown, '0');\n\n  return (\n    <MainSidebar\n      {...mover}\n      {...props}\n      state={navigationSidebarState}\n      onStateChange={setNavigationSidebarState}\n      resizing={resizing}\n      side='inline-start'\n      ref={forwardedRef}\n    />\n  );\n});\n\nMainNavigationSidebar.displayName = NAVIGATION_SIDEBAR_NAME;\n\ntype MainComplementarySidebarProps = Omit<MainSidebarProps, 'expanded' | 'side'>;\n\nconst MainComplementarySidebar = forwardRef<HTMLDivElement, MainComplementarySidebarProps>((props, forwardedRef) => {\n  const { complementarySidebarState, setComplementarySidebarState, resizing } =\n    useMainContext(COMPLEMENTARY_SIDEBAR_NAME);\n  const mover = useLandmarkMover(props.onKeyDown, '2');\n\n  return (\n    <MainSidebar\n      {...mover}\n      {...props}\n      state={complementarySidebarState}\n      onStateChange={setComplementarySidebarState}\n      resizing={resizing}\n      side='inline-end'\n      ref={forwardedRef}\n    />\n  );\n});\n\nMainNavigationSidebar.displayName = NAVIGATION_SIDEBAR_NAME;\n\ntype MainProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  asChild?: boolean;\n  bounce?: boolean;\n  handlesFocus?: boolean;\n};\n\nconst MainContent = forwardRef<HTMLDivElement, MainProps>(\n  ({ asChild, classNames, bounce, handlesFocus, children, role, ...props }: MainProps, forwardedRef) => {\n    const { navigationSidebarState, complementarySidebarState } = useMainContext(MAIN_NAME);\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : role ? 'div' : 'main';\n\n    const mover = useLandmarkMover(props.onKeyDown, '1');\n\n    return (\n      <Root\n        role={role}\n        {...(handlesFocus && { ...mover })}\n        {...props}\n        data-sidebar-inline-start-state={navigationSidebarState}\n        data-sidebar-inline-end-state={complementarySidebarState}\n        data-handles-focus={handlesFocus}\n        className={tx('main.content', 'main', { bounce, handlesFocus }, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </Root>\n    );\n  },\n);\n\nMainContent.displayName = MAIN_NAME;\n\ntype MainOverlayProps = ThemedClassName<Omit<ComponentPropsWithRef<typeof Primitive.div>, 'children'>>;\n\nconst MainOverlay = forwardRef<HTMLDivElement, MainOverlayProps>(({ classNames, ...props }, forwardedRef) => {\n  const [isLg] = useMediaQuery('lg', { ssr: false });\n  const { navigationSidebarState, setNavigationSidebarState, complementarySidebarState, setComplementarySidebarState } =\n    useMainContext(MAIN_NAME);\n  const { tx } = useThemeContext();\n  return (\n    <div\n      onClick={() => {\n        setNavigationSidebarState('collapsed');\n        setComplementarySidebarState('collapsed');\n      }}\n      {...props}\n      className={tx(\n        'main.overlay',\n        'main__overlay',\n        { isLg, inlineStartSidebarOpen: navigationSidebarState, inlineEndSidebarOpen: complementarySidebarState },\n        classNames,\n      )}\n      data-state={navigationSidebarState === 'expanded' || complementarySidebarState === 'expanded' ? 'open' : 'closed'}\n      aria-hidden='true'\n      ref={forwardedRef}\n    />\n  );\n});\n\nexport const Main = {\n  Root: MainRoot,\n  Content: MainContent,\n  Overlay: MainOverlay,\n  NavigationSidebar: MainNavigationSidebar,\n  ComplementarySidebar: MainComplementarySidebar,\n};\n\nexport { useMainContext, useSidebars, useLandmarkMover };\n\nexport type { MainRootProps, MainProps, MainOverlayProps, MainNavigationSidebarProps, SidebarState };\n", "//\n// Copyright 2023 DXOS.org\n//\n\n// This implementation is based upon https://github.com/hosembafer/react-swipe-to-dismiss, commit d88deafe910a6bd1400cf8fa90459a76cf4f71d3\n\nimport { type RefObject, useCallback, useEffect, useState } from 'react';\n\nenum MotionState {\n  IDLE,\n  DEBOUNCING,\n  FOLLOWING,\n}\n\ntype Options = Partial<{\n  onDismiss: () => void;\n  dismissThreshold: number;\n  debounceThreshold: number;\n  side: 'inline-start' | 'inline-end';\n  offset: number;\n}>;\n\nexport const useSwipeToDismiss = (\n  ref: RefObject<HTMLElement | null>,\n  { onDismiss, dismissThreshold = 64, debounceThreshold = 8, offset = 0 /* side = 'inline-start' */ }: Options,\n) => {\n  const $root = ref.current;\n  // todo(thure): Implement other sides.\n  // const dK = direction === 'inline-start' ? 1 : -1;\n\n  const [motionState, setMotionState] = useState<MotionState>(MotionState.IDLE);\n  const [gestureStartX, setGestureStartX] = useState(0);\n\n  const setIdle = useCallback(() => {\n    setMotionState(MotionState.IDLE);\n    $root?.style.removeProperty('inset-inline-start');\n    $root?.style.setProperty('transition-duration', '200ms');\n  }, [$root]);\n\n  const setFollowing = useCallback(() => {\n    setMotionState(MotionState.FOLLOWING);\n    $root?.style.setProperty('transition-duration', '0ms');\n  }, [$root]);\n\n  const handlePointerDown = useCallback(\n    ({ screenX }: PointerEvent) => {\n      if (motionState === MotionState.IDLE) {\n        setMotionState(MotionState.DEBOUNCING);\n        setGestureStartX(screenX);\n      }\n    },\n    [motionState],\n  );\n\n  const handlePointerMove = useCallback(\n    ({ screenX }: PointerEvent) => {\n      if ($root) {\n        const delta = Math.min(screenX - gestureStartX, 0);\n        switch (motionState) {\n          case MotionState.FOLLOWING:\n            if (Math.abs(delta) > dismissThreshold) {\n              setIdle();\n              onDismiss?.();\n            } else {\n              $root.style.setProperty('inset-inline-start', `${offset + delta}px`);\n            }\n            break;\n          case MotionState.DEBOUNCING:\n            if (Math.abs(delta) > debounceThreshold) {\n              setFollowing();\n            }\n            break;\n        }\n      }\n    },\n    [$root, motionState, gestureStartX],\n  );\n\n  const handlePointerUp = useCallback(() => {\n    setIdle();\n  }, [setIdle]);\n\n  useEffect(() => {\n    $root?.addEventListener('pointerdown', handlePointerDown);\n    return () => {\n      $root?.removeEventListener('pointerdown', handlePointerDown);\n    };\n  }, [$root, handlePointerDown]);\n\n  useEffect(() => {\n    $root && document.documentElement.addEventListener('pointermove', handlePointerMove);\n    return () => {\n      document.documentElement.removeEventListener('pointermove', handlePointerMove);\n    };\n  }, [$root, handlePointerMove]);\n\n  useEffect(() => {\n    $root && document.documentElement.addEventListener('pointerup', handlePointerUp);\n    return () => {\n      document.documentElement.removeEventListener('pointerup', handlePointerUp);\n    };\n  }, [$root, handlePointerUp]);\n};\n", "//\n// Copyright 2023 DXOS.org\n//\nimport * as ContextMenuPrimitive from '@radix-ui/react-context-menu';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport React, { type ComponentPropsWithRef, forwardRef } from 'react';\n\nimport { useElevationContext, useThemeContext } from '../../hooks';\nimport { useSafeCollisionPadding } from '../../hooks/useSafeCollisionPadding';\nimport { type ThemedClassName } from '../../util';\n\ntype ContextMenuRootProps = ContextMenuPrimitive.ContextMenuProps;\n\nconst ContextMenuRoot = ContextMenuPrimitive.ContextMenu;\n\ntype ContextMenuTriggerProps = ContextMenuPrimitive.ContextMenuTriggerProps;\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger;\n\ntype ContextMenuPortalProps = ContextMenuPrimitive.ContextMenuPortalProps;\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal;\n\ntype ContextMenuContentProps = ThemedClassName<ContextMenuPrimitive.ContextMenuContentProps> & {\n  constrainBlockSize?: boolean;\n};\n\nconst ContextMenuContent = forwardRef<HTMLDivElement, ContextMenuContentProps>(\n  ({ classNames, children, collisionPadding = 8, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const elevation = useElevationContext();\n    const safeCollisionPadding = useSafeCollisionPadding(collisionPadding);\n    return (\n      <ContextMenuPrimitive.Content\n        {...props}\n        collisionPadding={safeCollisionPadding}\n        className={tx('menu.content', 'menu', { elevation }, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </ContextMenuPrimitive.Content>\n    );\n  },\n);\n\ntype ContextMenuViewportProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  asChild?: boolean;\n};\n\nconst ContextMenuViewport = forwardRef<HTMLDivElement, ContextMenuViewportProps>(\n  ({ classNames, asChild, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.div;\n    return (\n      <Root {...props} className={tx('menu.viewport', 'menu__viewport', {}, classNames)} ref={forwardedRef}>\n        {children}\n      </Root>\n    );\n  },\n);\n\ntype ContextMenuArrowProps = ThemedClassName<ContextMenuPrimitive.ContextMenuArrowProps>;\n\nconst ContextMenuArrow = forwardRef<SVGSVGElement, ContextMenuArrowProps>(({ classNames, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <ContextMenuPrimitive.Arrow\n      {...props}\n      className={tx('menu.arrow', 'menu__arrow', {}, classNames)}\n      ref={forwardedRef}\n    />\n  );\n});\n\ntype ContextMenuGroupProps = ContextMenuPrimitive.ContextMenuGroupProps;\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group;\n\ntype ContextMenuItemIndicatorProps = ContextMenuPrimitive.ContextMenuItemIndicatorProps;\n\nconst ContextMenuItemIndicator = ContextMenuPrimitive.ItemIndicator;\n\ntype ContextMenuItemProps = ThemedClassName<ContextMenuPrimitive.ContextMenuItemProps>;\n\nconst ContextMenuItem = forwardRef<HTMLDivElement, ContextMenuItemProps>(\n  ({ classNames, ...props }: ContextMenuItemProps, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <ContextMenuPrimitive.Item\n        {...props}\n        className={tx('menu.item', 'menu__item', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype ContextMenuCheckboxItemProps = ThemedClassName<ContextMenuPrimitive.ContextMenuCheckboxItemProps>;\n\nconst ContextMenuCheckboxItem = forwardRef<HTMLDivElement, ContextMenuCheckboxItemProps>(\n  ({ classNames, ...props }: ContextMenuItemProps, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <ContextMenuPrimitive.CheckboxItem\n        {...props}\n        className={tx('menu.item', 'menu__item--checkbox', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype ContextMenuSeparatorProps = ThemedClassName<ContextMenuPrimitive.ContextMenuSeparatorProps>;\n\nconst ContextMenuSeparator = forwardRef<HTMLDivElement, ContextMenuSeparatorProps>(\n  ({ classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <ContextMenuPrimitive.Separator\n        {...props}\n        className={tx('menu.separator', 'menu__item', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype ContextMenuGroupLabelProps = ThemedClassName<ContextMenuPrimitive.ContextMenuLabelProps>;\n\nconst ContextMenuGroupLabel = forwardRef<HTMLDivElement, ContextMenuGroupLabelProps>(\n  ({ classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <ContextMenuPrimitive.Label\n        {...props}\n        className={tx('menu.groupLabel', 'menu__group__label', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\nexport const ContextMenu = {\n  Root: ContextMenuRoot,\n  Trigger: ContextMenuTrigger,\n  Portal: ContextMenuPortal,\n  Content: ContextMenuContent,\n  Viewport: ContextMenuViewport,\n  Arrow: ContextMenuArrow,\n  Group: ContextMenuGroup,\n  Item: ContextMenuItem,\n  CheckboxItem: ContextMenuCheckboxItem,\n  ItemIndicator: ContextMenuItemIndicator,\n  Separator: ContextMenuSeparator,\n  GroupLabel: ContextMenuGroupLabel,\n};\n\nexport type {\n  ContextMenuRootProps,\n  ContextMenuTriggerProps,\n  ContextMenuPortalProps,\n  ContextMenuContentProps,\n  ContextMenuViewportProps,\n  ContextMenuArrowProps,\n  ContextMenuGroupProps,\n  ContextMenuItemProps,\n  ContextMenuCheckboxItemProps,\n  ContextMenuItemIndicatorProps,\n  ContextMenuSeparatorProps,\n  ContextMenuGroupLabelProps,\n};\n", "//\n// Copyright 2025 DXOS.org\n//\n\nimport { type TooltipContentProps } from '@radix-ui/react-tooltip';\nimport { useMemo } from 'react';\n\nimport { type SafeAreaPadding } from './useSafeArea';\nimport { useThemeContext } from './useThemeContext';\n\ntype PaddingProp = TooltipContentProps['collisionPadding'];\ntype PaddingRecord = Exclude<PaddingProp, number | undefined>;\n\nconst propIsNumber = (prop: PaddingProp): prop is number => Number.isFinite(prop);\nconst propsIsRecord = (prop: PaddingProp): prop is PaddingRecord => !!(prop && typeof prop === 'object');\n\nconst safePadding = (\n  propsPadding: TooltipContentProps['collisionPadding'],\n  safePadding: SafeAreaPadding,\n  side: keyof SafeAreaPadding,\n) => {\n  return (\n    (propIsNumber(safePadding[side]) ? safePadding[side] : 0) +\n    (propIsNumber(propsPadding) ? propsPadding : propsIsRecord(propsPadding) ? propsPadding[side] ?? 0 : 0)\n  );\n};\n\nexport const useSafeCollisionPadding = (collisionPadding?: PaddingProp) => {\n  const { safeAreaPadding } = useThemeContext();\n  return useMemo(\n    () => ({\n      top: safePadding(collisionPadding, safeAreaPadding!, 'top'),\n      right: safePadding(collisionPadding, safeAreaPadding!, 'right'),\n      bottom: safePadding(collisionPadding, safeAreaPadding!, 'bottom'),\n      left: safePadding(collisionPadding, safeAreaPadding!, 'left'),\n    }),\n    [collisionPadding, safeAreaPadding],\n  );\n};\n", "//\n// Copyright 2024 DXOS.org\n//\n\n// This is based upon `@radix-ui/react-dropdown-menu` fetched 25 Oct 2024 at https://github.com/radix-ui/primitives at commit 06de2d4.\n\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport type { Scope } from '@radix-ui/react-context';\nimport { useId } from '@radix-ui/react-id';\nimport * as MenuPrimitive from '@radix-ui/react-menu';\nimport { createMenuScope } from '@radix-ui/react-menu';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport React, {\n  type ReactNode,\n  type FC,\n  useRef,\n  type ElementRef,\n  useCallback,\n  type ComponentPropsWithoutRef,\n  forwardRef,\n  type ComponentPropsWithRef,\n  useEffect,\n  type MutableRefObject,\n  type RefObject,\n} from 'react';\n\nimport { useElevationContext, useThemeContext } from '../../hooks';\nimport { useSafeCollisionPadding } from '../../hooks/useSafeCollisionPadding';\nimport { type ThemedClassName } from '../../util';\n\ntype Direction = 'ltr' | 'rtl';\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenu\n * ----------------------------------------------------------------------------------------------- */\n\nconst DROPDOWN_MENU_NAME = 'DropdownMenu';\n\ntype ScopedProps<P> = P & { __scopeDropdownMenu?: Scope };\nconst [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(DROPDOWN_MENU_NAME, [createMenuScope]);\nconst useMenuScope = createMenuScope();\n\ntype DropdownMenuContextValue = {\n  triggerId: string;\n  triggerRef: MutableRefObject<HTMLButtonElement | null>;\n  contentId: string;\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpenToggle(): void;\n  modal: boolean;\n};\n\nconst [DropdownMenuProvider, useDropdownMenuContext] =\n  createDropdownMenuContext<DropdownMenuContextValue>(DROPDOWN_MENU_NAME);\n\ninterface DropdownMenuRootProps {\n  children?: ReactNode;\n  dir?: Direction;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n  modal?: boolean;\n}\n\nconst DropdownMenuRoot: FC<DropdownMenuRootProps> = (props: ScopedProps<DropdownMenuRootProps>) => {\n  const { __scopeDropdownMenu, children, dir, open: openProp, defaultOpen, onOpenChange, modal = true } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const triggerRef = useRef<HTMLButtonElement | null>(null);\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange,\n  });\n\n  return (\n    <DropdownMenuProvider\n      scope={__scopeDropdownMenu}\n      triggerId={useId()}\n      triggerRef={triggerRef as MutableRefObject<HTMLButtonElement | null>}\n      contentId={useId()}\n      open={open}\n      onOpenChange={setOpen}\n      onOpenToggle={useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen])}\n      modal={modal}\n    >\n      <MenuPrimitive.Root {...menuScope} open={open} onOpenChange={setOpen} dir={dir} modal={modal}>\n        {children}\n      </MenuPrimitive.Root>\n    </DropdownMenuProvider>\n  );\n};\n\nDropdownMenuRoot.displayName = DROPDOWN_MENU_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuTrigger\n * ----------------------------------------------------------------------------------------------- */\n\nconst TRIGGER_NAME = 'DropdownMenuTrigger';\n\ntype DropdownMenuTriggerElement = ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface DropdownMenuTriggerProps extends PrimitiveButtonProps {}\n\nconst DropdownMenuTrigger = forwardRef<DropdownMenuTriggerElement, DropdownMenuTriggerProps>(\n  (props: ScopedProps<DropdownMenuTriggerProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;\n    const context = useDropdownMenuContext(TRIGGER_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return (\n      <MenuPrimitive.Anchor asChild {...menuScope}>\n        <Primitive.button\n          type='button'\n          id={context.triggerId}\n          aria-haspopup='menu'\n          aria-expanded={context.open}\n          aria-controls={context.open ? context.contentId : undefined}\n          data-state={context.open ? 'open' : 'closed'}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          {...triggerProps}\n          ref={composeRefs(forwardedRef, context.triggerRef)}\n          onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n            // only call handler if it's the left button (mousedown gets triggered by all mouse buttons)\n            // but not when the control key is pressed (avoiding MacOS right click)\n            if (!disabled && event.button === 0 && event.ctrlKey === false) {\n              context.onOpenToggle();\n              // prevent trigger focusing when opening\n              // this allows the content to be given focus without competition\n              if (!context.open) {\n                event.preventDefault();\n              }\n            }\n          })}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (disabled) {\n              return;\n            }\n            if (['Enter', ' '].includes(event.key)) {\n              context.onOpenToggle();\n            }\n            if (event.key === 'ArrowDown') {\n              context.onOpenChange(true);\n            }\n            // prevent keydown from scrolling window / first focused item to execute\n            // that keydown (inadvertently closing the menu)\n            if (['Enter', ' ', 'ArrowDown'].includes(event.key)) {\n              event.preventDefault();\n            }\n          })}\n        />\n      </MenuPrimitive.Anchor>\n    );\n  },\n);\n\nDropdownMenuTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuVirtualTrigger\n * ----------------------------------------------------------------------------------------------- */\n\nconst VIRTUAL_TRIGGER_NAME = 'DropdownMenuVirtualTrigger';\n\ninterface DropdownMenuVirtualTriggerProps {\n  virtualRef: RefObject<DropdownMenuTriggerElement>;\n}\n\nconst DropdownMenuVirtualTrigger = (props: ScopedProps<DropdownMenuVirtualTriggerProps>) => {\n  const { __scopeDropdownMenu, virtualRef } = props;\n  const context = useDropdownMenuContext(VIRTUAL_TRIGGER_NAME, __scopeDropdownMenu);\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  useEffect(() => {\n    if (virtualRef.current) {\n      context.triggerRef.current = virtualRef.current;\n    }\n  });\n  return <MenuPrimitive.Anchor {...menuScope} virtualRef={virtualRef} />;\n};\n\nDropdownMenuVirtualTrigger.displayName = VIRTUAL_TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuPortal\n * ----------------------------------------------------------------------------------------------- */\n\nconst PORTAL_NAME = 'DropdownMenuPortal';\n\ntype MenuPortalProps = ComponentPropsWithoutRef<typeof MenuPrimitive.Portal>;\ninterface DropdownMenuPortalProps extends MenuPortalProps {}\n\nconst DropdownMenuPortal: FC<DropdownMenuPortalProps> = (props: ScopedProps<DropdownMenuPortalProps>) => {\n  const { __scopeDropdownMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.Portal {...menuScope} {...portalProps} />;\n};\n\nDropdownMenuPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuViewport\n * ----------------------------------------------------------------------------------------------- */\n\ntype DropdownMenuViewportProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  asChild?: boolean;\n};\n\nconst DropdownMenuViewport = forwardRef<HTMLDivElement, DropdownMenuViewportProps>(\n  ({ classNames, asChild, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.div;\n    return (\n      <Root {...props} className={tx('menu.viewport', 'menu__viewport', {}, classNames)} ref={forwardedRef}>\n        {children}\n      </Root>\n    );\n  },\n);\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuContent\n * ----------------------------------------------------------------------------------------------- */\n\nconst CONTENT_NAME = 'DropdownMenuContent';\n\ntype DropdownMenuContentElement = ElementRef<typeof MenuPrimitive.Content>;\ntype MenuContentProps = ThemedClassName<ComponentPropsWithoutRef<typeof MenuPrimitive.Content>>;\ninterface DropdownMenuContentProps extends Omit<MenuContentProps, 'onEntryFocus'> {}\n\nconst DropdownMenuContent = forwardRef<DropdownMenuContentElement, DropdownMenuContentProps>(\n  (props: ScopedProps<DropdownMenuContentProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, classNames, collisionPadding = 8, ...contentProps } = props;\n    const { tx } = useThemeContext();\n    const context = useDropdownMenuContext(CONTENT_NAME, __scopeDropdownMenu);\n    const elevation = useElevationContext();\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = useRef(false);\n    const safeCollisionPadding = useSafeCollisionPadding(collisionPadding);\n    return (\n      <MenuPrimitive.Content\n        id={context.contentId}\n        aria-labelledby={context.triggerId}\n        {...menuScope}\n        {...contentProps}\n        collisionPadding={safeCollisionPadding}\n        ref={forwardedRef}\n        onCloseAutoFocus={composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          if (!hasInteractedOutsideRef.current) {\n            context.triggerRef.current?.focus();\n          }\n          hasInteractedOutsideRef.current = false;\n          // Always prevent auto focus because we either focus manually or want user agent focus\n          event.preventDefault();\n        })}\n        onInteractOutside={composeEventHandlers(props.onInteractOutside, (event) => {\n          const originalEvent = event.detail.originalEvent as PointerEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!context.modal || isRightClick) {\n            hasInteractedOutsideRef.current = true;\n          }\n        })}\n        className={tx('menu.content', 'menu', { elevation }, classNames)}\n        style={{\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            '--radix-dropdown-menu-content-transform-origin': 'var(--radix-popper-transform-origin)',\n            '--radix-dropdown-menu-content-available-width': 'var(--radix-popper-available-width)',\n            '--radix-dropdown-menu-content-available-height': 'var(--radix-popper-available-height)',\n            '--radix-dropdown-menu-trigger-width': 'var(--radix-popper-anchor-width)',\n            '--radix-dropdown-menu-trigger-height': 'var(--radix-popper-anchor-height)',\n          },\n        }}\n      />\n    );\n  },\n);\n\nDropdownMenuContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuGroup\n * ----------------------------------------------------------------------------------------------- */\n\nconst GROUP_NAME = 'DropdownMenuGroup';\n\ntype DropdownMenuGroupElement = ElementRef<typeof MenuPrimitive.Group>;\ntype MenuGroupProps = ComponentPropsWithoutRef<typeof MenuPrimitive.Group>;\ninterface DropdownMenuGroupProps extends MenuGroupProps {}\n\nconst DropdownMenuGroup = forwardRef<DropdownMenuGroupElement, DropdownMenuGroupProps>(\n  (props: ScopedProps<DropdownMenuGroupProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Group {...menuScope} {...groupProps} ref={forwardedRef} />;\n  },\n);\n\nDropdownMenuGroup.displayName = GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuLabel\n * ----------------------------------------------------------------------------------------------- */\n\nconst LABEL_NAME = 'DropdownMenuLabel';\n\ntype DropdownMenuLabelElement = ElementRef<typeof MenuPrimitive.Label>;\ntype MenuLabelProps = ThemedClassName<ComponentPropsWithoutRef<typeof MenuPrimitive.Label>>;\ninterface DropdownMenuLabelProps extends MenuLabelProps {}\n\nconst DropdownMenuGroupLabel = forwardRef<DropdownMenuLabelElement, DropdownMenuLabelProps>(\n  (props: ScopedProps<DropdownMenuLabelProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, classNames, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const { tx } = useThemeContext();\n    return (\n      <MenuPrimitive.Label\n        {...menuScope}\n        {...labelProps}\n        className={tx('menu.groupLabel', 'menu__group__label', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\nDropdownMenuGroupLabel.displayName = LABEL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuItem\n * ----------------------------------------------------------------------------------------------- */\n\nconst ITEM_NAME = 'DropdownMenuItem';\n\ntype DropdownMenuItemElement = ElementRef<typeof MenuPrimitive.Item>;\ntype MenuItemProps = ThemedClassName<ComponentPropsWithoutRef<typeof MenuPrimitive.Item>>;\ninterface DropdownMenuItemProps extends MenuItemProps {}\n\nconst DropdownMenuItem = forwardRef<DropdownMenuItemElement, DropdownMenuItemProps>(\n  (props: ScopedProps<DropdownMenuItemProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, classNames, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const { tx } = useThemeContext();\n    return (\n      <MenuPrimitive.Item\n        {...menuScope}\n        {...itemProps}\n        className={tx('menu.item', 'menu__item', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\nDropdownMenuItem.displayName = ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuCheckboxItem\n * ----------------------------------------------------------------------------------------------- */\n\nconst CHECKBOX_ITEM_NAME = 'DropdownMenuCheckboxItem';\n\ntype DropdownMenuCheckboxItemElement = ElementRef<typeof MenuPrimitive.CheckboxItem>;\ntype MenuCheckboxItemProps = ThemedClassName<ComponentPropsWithoutRef<typeof MenuPrimitive.CheckboxItem>>;\ninterface DropdownMenuCheckboxItemProps extends MenuCheckboxItemProps {}\n\nconst DropdownMenuCheckboxItem = forwardRef<DropdownMenuCheckboxItemElement, DropdownMenuCheckboxItemProps>(\n  (props: ScopedProps<DropdownMenuCheckboxItemProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, classNames, ...checkboxItemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const { tx } = useThemeContext();\n    return (\n      <MenuPrimitive.CheckboxItem\n        {...menuScope}\n        {...checkboxItemProps}\n        className={tx('menu.item', 'menu__item--checkbox', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\nDropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuRadioGroup\n * ----------------------------------------------------------------------------------------------- */\n\nconst RADIO_GROUP_NAME = 'DropdownMenuRadioGroup';\n\ntype DropdownMenuRadioGroupElement = ElementRef<typeof MenuPrimitive.RadioGroup>;\ntype MenuRadioGroupProps = ComponentPropsWithoutRef<typeof MenuPrimitive.RadioGroup>;\ninterface DropdownMenuRadioGroupProps extends MenuRadioGroupProps {}\n\nconst DropdownMenuRadioGroup = forwardRef<DropdownMenuRadioGroupElement, DropdownMenuRadioGroupProps>(\n  (props: ScopedProps<DropdownMenuRadioGroupProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...radioGroupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.RadioGroup {...menuScope} {...radioGroupProps} ref={forwardedRef} />;\n  },\n);\n\nDropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuRadioItem\n * ----------------------------------------------------------------------------------------------- */\n\nconst RADIO_ITEM_NAME = 'DropdownMenuRadioItem';\n\ntype DropdownMenuRadioItemElement = ElementRef<typeof MenuPrimitive.RadioItem>;\ntype MenuRadioItemProps = ComponentPropsWithoutRef<typeof MenuPrimitive.RadioItem>;\ninterface DropdownMenuRadioItemProps extends MenuRadioItemProps {}\n\nconst DropdownMenuRadioItem = forwardRef<DropdownMenuRadioItemElement, DropdownMenuRadioItemProps>(\n  (props: ScopedProps<DropdownMenuRadioItemProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...radioItemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.RadioItem {...menuScope} {...radioItemProps} ref={forwardedRef} />;\n  },\n);\n\nDropdownMenuRadioItem.displayName = RADIO_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuItemIndicator\n * ----------------------------------------------------------------------------------------------- */\n\nconst INDICATOR_NAME = 'DropdownMenuItemIndicator';\n\ntype DropdownMenuItemIndicatorElement = ElementRef<typeof MenuPrimitive.ItemIndicator>;\ntype MenuItemIndicatorProps = ComponentPropsWithoutRef<typeof MenuPrimitive.ItemIndicator>;\ninterface DropdownMenuItemIndicatorProps extends MenuItemIndicatorProps {}\n\nconst DropdownMenuItemIndicator = forwardRef<DropdownMenuItemIndicatorElement, DropdownMenuItemIndicatorProps>(\n  (props: ScopedProps<DropdownMenuItemIndicatorProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...itemIndicatorProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.ItemIndicator {...menuScope} {...itemIndicatorProps} ref={forwardedRef} />;\n  },\n);\n\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSeparator\n * ----------------------------------------------------------------------------------------------- */\n\nconst SEPARATOR_NAME = 'DropdownMenuSeparator';\n\ntype DropdownMenuSeparatorElement = ElementRef<typeof MenuPrimitive.Separator>;\ntype MenuSeparatorProps = ThemedClassName<ComponentPropsWithoutRef<typeof MenuPrimitive.Separator>>;\ninterface DropdownMenuSeparatorProps extends MenuSeparatorProps {}\n\nconst DropdownMenuSeparator = forwardRef<DropdownMenuSeparatorElement, DropdownMenuSeparatorProps>(\n  (props: ScopedProps<DropdownMenuSeparatorProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, classNames, ...separatorProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const { tx } = useThemeContext();\n    return (\n      <MenuPrimitive.Separator\n        {...menuScope}\n        {...separatorProps}\n        className={tx('menu.separator', 'menu__item', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\nDropdownMenuSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuArrow\n * ----------------------------------------------------------------------------------------------- */\n\nconst ARROW_NAME = 'DropdownMenuArrow';\n\ntype DropdownMenuArrowElement = ElementRef<typeof MenuPrimitive.Arrow>;\ntype MenuArrowProps = ThemedClassName<ComponentPropsWithoutRef<typeof MenuPrimitive.Arrow>>;\ninterface DropdownMenuArrowProps extends MenuArrowProps {}\n\nconst DropdownMenuArrow = forwardRef<DropdownMenuArrowElement, DropdownMenuArrowProps>(\n  (props: ScopedProps<DropdownMenuArrowProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, classNames, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const { tx } = useThemeContext();\n    return (\n      <MenuPrimitive.Arrow\n        {...menuScope}\n        {...arrowProps}\n        className={tx('menu.arrow', 'menu__arrow', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\nDropdownMenuArrow.displayName = ARROW_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSub\n * ----------------------------------------------------------------------------------------------- */\n\ninterface DropdownMenuSubProps {\n  children?: ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n}\n\nconst DropdownMenuSub: FC<DropdownMenuSubProps> = (props: ScopedProps<DropdownMenuSubProps>) => {\n  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange,\n  });\n\n  return (\n    <MenuPrimitive.Sub {...menuScope} open={open} onOpenChange={setOpen}>\n      {children}\n    </MenuPrimitive.Sub>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSubTrigger\n * ----------------------------------------------------------------------------------------------- */\n\nconst SUB_TRIGGER_NAME = 'DropdownMenuSubTrigger';\n\ntype DropdownMenuSubTriggerElement = ElementRef<typeof MenuPrimitive.SubTrigger>;\ntype MenuSubTriggerProps = ComponentPropsWithoutRef<typeof MenuPrimitive.SubTrigger>;\ninterface DropdownMenuSubTriggerProps extends MenuSubTriggerProps {}\n\nconst DropdownMenuSubTrigger = forwardRef<DropdownMenuSubTriggerElement, DropdownMenuSubTriggerProps>(\n  (props: ScopedProps<DropdownMenuSubTriggerProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...subTriggerProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.SubTrigger {...menuScope} {...subTriggerProps} ref={forwardedRef} />;\n  },\n);\n\nDropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSubContent\n * ----------------------------------------------------------------------------------------------- */\n\nconst SUB_CONTENT_NAME = 'DropdownMenuSubContent';\n\ntype DropdownMenuSubContentElement = ElementRef<typeof MenuPrimitive.Content>;\ntype MenuSubContentProps = ComponentPropsWithoutRef<typeof MenuPrimitive.SubContent>;\ninterface DropdownMenuSubContentProps extends MenuSubContentProps {}\n\nconst DropdownMenuSubContent = forwardRef<DropdownMenuSubContentElement, DropdownMenuSubContentProps>(\n  (props: ScopedProps<DropdownMenuSubContentProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...subContentProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n\n    return (\n      <MenuPrimitive.SubContent\n        {...menuScope}\n        {...subContentProps}\n        ref={forwardedRef}\n        style={{\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            '--radix-dropdown-menu-content-transform-origin': 'var(--radix-popper-transform-origin)',\n            '--radix-dropdown-menu-content-available-width': 'var(--radix-popper-available-width)',\n            '--radix-dropdown-menu-content-available-height': 'var(--radix-popper-available-height)',\n            '--radix-dropdown-menu-trigger-width': 'var(--radix-popper-anchor-width)',\n            '--radix-dropdown-menu-trigger-height': 'var(--radix-popper-anchor-height)',\n          },\n        }}\n      />\n    );\n  },\n);\n\nDropdownMenuSubContent.displayName = SUB_CONTENT_NAME;\n\n/* ----------------------------------------------------------------------------------------------- */\n\nexport const DropdownMenu = {\n  Root: DropdownMenuRoot,\n  Trigger: DropdownMenuTrigger,\n  VirtualTrigger: DropdownMenuVirtualTrigger,\n  Portal: DropdownMenuPortal,\n  Content: DropdownMenuContent,\n  Viewport: DropdownMenuViewport,\n  Group: DropdownMenuGroup,\n  GroupLabel: DropdownMenuGroupLabel,\n  Item: DropdownMenuItem,\n  CheckboxItem: DropdownMenuCheckboxItem,\n  RadioGroup: DropdownMenuRadioGroup,\n  RadioItem: DropdownMenuRadioItem,\n  ItemIndicator: DropdownMenuItemIndicator,\n  Separator: DropdownMenuSeparator,\n  Arrow: DropdownMenuArrow,\n  Sub: DropdownMenuSub,\n  SubTrigger: DropdownMenuSubTrigger,\n  SubContent: DropdownMenuSubContent,\n};\n\nconst useDropdownMenuMenuScope = useMenuScope;\n\nexport { createDropdownMenuScope, useDropdownMenuContext, useDropdownMenuMenuScope };\n\nexport type {\n  DropdownMenuRootProps,\n  DropdownMenuTriggerProps,\n  DropdownMenuVirtualTriggerProps,\n  DropdownMenuPortalProps,\n  DropdownMenuContentProps,\n  DropdownMenuViewportProps,\n  DropdownMenuGroupProps,\n  DropdownMenuLabelProps,\n  DropdownMenuItemProps,\n  DropdownMenuCheckboxItemProps,\n  DropdownMenuRadioGroupProps,\n  DropdownMenuRadioItemProps,\n  DropdownMenuItemIndicatorProps,\n  DropdownMenuSeparatorProps,\n  DropdownMenuArrowProps,\n  DropdownMenuSubProps,\n  DropdownMenuSubTriggerProps,\n  DropdownMenuSubContentProps,\n};\n", "//\n// Copyright 2022 DXOS.org\n//\n\nimport { createContext } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport React, { type ComponentPropsWithRef, forwardRef } from 'react';\n\nimport { useId } from '@dxos/react-hooks';\nimport { type MessageValence, type Elevation } from '@dxos/react-ui-types';\n\nimport { useElevationContext, useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\nimport { Icon } from '../Icon';\n\nconst messageIcons: Record<MessageValence, string> = {\n  success: 'ph--check-circle--duotone',\n  info: 'ph--info--duotone',\n  warning: 'ph--warning--duotone',\n  error: 'ph--warning-circle--duotone',\n  neutral: 'ph--info--duotone',\n};\n\ntype MessageRootProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  valence?: MessageValence;\n  elevation?: Elevation;\n  asChild?: boolean;\n  titleId?: string;\n  descriptionId?: string;\n};\n\ntype MessageContextValue = { titleId?: string; descriptionId: string; valence: MessageValence };\nconst MESSAGE_NAME = 'Message';\nconst [MessageProvider, useMessageContext] = createContext<MessageContextValue>(MESSAGE_NAME);\n\nconst MessageRoot = forwardRef<HTMLDivElement, MessageRootProps>(\n  (\n    {\n      asChild,\n      valence = 'neutral',\n      elevation: propsElevation,\n      classNames,\n      titleId: propsTitleId,\n      descriptionId: propsDescriptionId,\n      children,\n      ...props\n    },\n    forwardedRef,\n  ) => {\n    const { tx } = useThemeContext();\n    const titleId = useId('message__title', propsTitleId);\n    const descriptionId = useId('message__description', propsDescriptionId);\n    const elevation = useElevationContext(propsElevation);\n    const Root = asChild ? Slot : Primitive.div;\n    return (\n      <MessageProvider {...{ titleId, descriptionId, valence }}>\n        <Root\n          role={valence === 'neutral' ? 'paragraph' : 'alert'}\n          {...props}\n          className={tx('message.root', 'message', { valence, elevation }, classNames)}\n          aria-labelledby={titleId}\n          aria-describedby={descriptionId}\n          ref={forwardedRef}\n        >\n          {children}\n        </Root>\n      </MessageProvider>\n    );\n  },\n);\n\nMessageRoot.displayName = MESSAGE_NAME;\n\ntype MessageTitleProps = Omit<ThemedClassName<ComponentPropsWithRef<typeof Primitive.h2>>, 'id'> & {\n  asChild?: boolean;\n  icon?: string;\n};\n\nconst MESSAGE_TITLE_NAME = 'MessageTitle';\n\nconst MessageTitle = forwardRef<HTMLHeadingElement, MessageTitleProps>(\n  ({ asChild, classNames, children, icon, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const { titleId, valence } = useMessageContext(MESSAGE_TITLE_NAME);\n    const Root = asChild ? Slot : Primitive.h2;\n    return (\n      <Root\n        {...props}\n        className={tx('message.title', 'message__title', {}, classNames)}\n        id={titleId}\n        ref={forwardedRef}\n      >\n        {!icon && valence === 'neutral' ? null : (\n          <Icon\n            size={5}\n            icon={icon ?? messageIcons[valence]}\n            classNames={tx('message.icon', 'message__icon', { valence })}\n          />\n        )}\n        <span>{children}</span>\n      </Root>\n    );\n  },\n);\n\nMessageTitle.displayName = MESSAGE_TITLE_NAME;\n\ntype MessageContentProps = Omit<ThemedClassName<ComponentPropsWithRef<typeof Primitive.h2>>, 'id'> & {\n  asChild?: boolean;\n};\n\nconst MESSAGE_BODY_NAME = 'MessageContent';\n\nconst MessageContent = forwardRef<HTMLParagraphElement, MessageContentProps>(\n  ({ asChild, classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const { descriptionId } = useMessageContext(MESSAGE_BODY_NAME);\n    const Root = asChild ? Slot : Primitive.p;\n    return (\n      <Root\n        {...props}\n        className={tx('message.content', 'message__content', {}, classNames)}\n        id={descriptionId}\n        ref={forwardedRef}\n      >\n        {children}\n      </Root>\n    );\n  },\n);\n\nMessageContent.displayName = MESSAGE_BODY_NAME;\n\nexport const Message = { Root: MessageRoot, Title: MessageTitle, Content: MessageContent };\nexport const Callout = Message;\n\nexport type { MessageRootProps, MessageTitleProps, MessageContentProps };\n\nexport { messageIcons };\n", "//\n// Copyright 2023 DXOS.org\n//\n\n// This is based upon `@radix-ui/react-popover` fetched 25 Oct 2024 at https://github.com/radix-ui/primitives at commit 374c7d7.\n\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport type { Scope } from '@radix-ui/react-context';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { hideOthers } from 'aria-hidden';\nimport React, {\n  type ComponentPropsWithRef,\n  forwardRef,\n  type ElementRef,\n  type RefObject,\n  type ReactNode,\n  useRef,\n  useCallback,\n  type ComponentPropsWithoutRef,\n  type FC,\n  useState,\n  useEffect,\n  type MutableRefObject,\n} from 'react';\nimport { RemoveScroll } from 'react-remove-scroll';\n\nimport { useElevationContext, useThemeContext } from '../../hooks';\nimport { useSafeCollisionPadding } from '../../hooks/useSafeCollisionPadding';\nimport { type ThemedClassName } from '../../util';\n\n/* -------------------------------------------------------------------------------------------------\n * Popover\n * ----------------------------------------------------------------------------------------------- */\n\nconst POPOVER_NAME = 'Popover';\n\ntype ScopedProps<P> = P & { __scopePopover?: Scope };\nconst [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [createPopperScope]);\nconst usePopperScope = createPopperScope();\n\ntype PopoverContextValue = {\n  triggerRef: MutableRefObject<HTMLButtonElement>;\n  contentId: string;\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpenToggle(): void;\n  hasCustomAnchor: boolean;\n  onCustomAnchorAdd(): void;\n  onCustomAnchorRemove(): void;\n  modal: boolean;\n};\n\nconst [PopoverProvider, usePopoverContext] = createPopoverContext<PopoverContextValue>(POPOVER_NAME);\n\ninterface PopoverRootProps {\n  children?: ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  modal?: boolean;\n}\n\nconst PopoverRoot: FC<PopoverRootProps> = (props: ScopedProps<PopoverRootProps>) => {\n  const { __scopePopover, children, open: openProp, defaultOpen, onOpenChange, modal = false } = props;\n  const popperScope = usePopperScope(__scopePopover);\n  const triggerRef = useRef<HTMLButtonElement>(null);\n  const [hasCustomAnchor, setHasCustomAnchor] = useState(false);\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange,\n  });\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <PopoverProvider\n        scope={__scopePopover}\n        contentId={useId()}\n        triggerRef={triggerRef as MutableRefObject<HTMLButtonElement>}\n        open={open}\n        onOpenChange={setOpen}\n        onOpenToggle={useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen])}\n        hasCustomAnchor={hasCustomAnchor}\n        onCustomAnchorAdd={useCallback(() => setHasCustomAnchor(true), [])}\n        onCustomAnchorRemove={useCallback(() => setHasCustomAnchor(false), [])}\n        modal={modal}\n      >\n        {children}\n      </PopoverProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nPopoverRoot.displayName = POPOVER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverAnchor\n * ----------------------------------------------------------------------------------------------- */\n\nconst ANCHOR_NAME = 'PopoverAnchor';\n\ntype PopoverAnchorElement = ElementRef<typeof PopperPrimitive.Anchor>;\ntype PopperAnchorProps = ComponentPropsWithoutRef<typeof PopperPrimitive.Anchor>;\ninterface PopoverAnchorProps extends PopperAnchorProps {}\n\nconst PopoverAnchor = forwardRef<PopoverAnchorElement, PopoverAnchorProps>(\n  (props: ScopedProps<PopoverAnchorProps>, forwardedRef) => {\n    const { __scopePopover, ...anchorProps } = props;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n\n    useEffect(() => {\n      onCustomAnchorAdd();\n      return () => onCustomAnchorRemove();\n    }, [onCustomAnchorAdd, onCustomAnchorRemove]);\n\n    return <PopperPrimitive.Anchor {...popperScope} {...anchorProps} ref={forwardedRef} />;\n  },\n);\n\nPopoverAnchor.displayName = ANCHOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverTrigger\n * ----------------------------------------------------------------------------------------------- */\n\nconst TRIGGER_NAME = 'PopoverTrigger';\n\ntype PopoverTriggerElement = ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface PopoverTriggerProps extends PrimitiveButtonProps {}\n\nconst PopoverTrigger = forwardRef<PopoverTriggerElement, PopoverTriggerProps>(\n  (props: ScopedProps<PopoverTriggerProps>, forwardedRef) => {\n    const { __scopePopover, ...triggerProps } = props;\n    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n\n    const trigger = (\n      <Primitive.button\n        type='button'\n        aria-haspopup='dialog'\n        aria-expanded={context.open}\n        aria-controls={context.contentId}\n        data-state={getState(context.open)}\n        {...triggerProps}\n        ref={composedTriggerRef}\n        onClick={composeEventHandlers(props.onClick, context.onOpenToggle)}\n      />\n    );\n\n    return context.hasCustomAnchor ? (\n      trigger\n    ) : (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        {trigger}\n      </PopperPrimitive.Anchor>\n    );\n  },\n);\n\nPopoverTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverVirtualTrigger\n * ----------------------------------------------------------------------------------------------- */\n\nconst VIRTUAL_TRIGGER_NAME = 'PopoverVirtualTrigger';\n\ninterface PopoverVirtualTriggerProps {\n  virtualRef: RefObject<PopoverTriggerElement>;\n}\n\nconst PopoverVirtualTrigger = (props: ScopedProps<PopoverVirtualTriggerProps>) => {\n  const { __scopePopover, virtualRef } = props;\n  const context = usePopoverContext(VIRTUAL_TRIGGER_NAME, __scopePopover);\n  const popperScope = usePopperScope(__scopePopover);\n  useEffect(() => {\n    if (virtualRef.current) {\n      context.triggerRef.current = virtualRef.current;\n    }\n  });\n  return <PopperPrimitive.Anchor {...popperScope} virtualRef={virtualRef} />;\n};\n\nPopoverVirtualTrigger.displayName = VIRTUAL_TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverPortal\n * ----------------------------------------------------------------------------------------------- */\n\nconst PORTAL_NAME = 'PopoverPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createPopoverContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface PopoverPortalProps {\n  children?: ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst PopoverPortal: FC<PopoverPortalProps> = (props: ScopedProps<PopoverPortalProps>) => {\n  const { __scopePopover, forceMount, children, container } = props;\n  const context = usePopoverContext(PORTAL_NAME, __scopePopover);\n  return (\n    <PortalProvider scope={__scopePopover} forceMount={forceMount}>\n      <Presence present={forceMount || context.open}>\n        <PortalPrimitive asChild container={container}>\n          {children}\n        </PortalPrimitive>\n      </Presence>\n    </PortalProvider>\n  );\n};\n\nPopoverPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverContent\n * ----------------------------------------------------------------------------------------------- */\n\nconst CONTENT_NAME = 'PopoverContent';\n\ntype PopoverContentProps = ThemedClassName<PopoverContentTypeProps> & {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: boolean;\n};\n\nconst PopoverContent = forwardRef<PopoverContentTypeElement, PopoverContentProps>(\n  (props: ScopedProps<PopoverContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n\n    return (\n      <Presence present={forceMount || context.open}>\n        {context.modal ? (\n          <PopoverContentModal {...contentProps} ref={forwardedRef} />\n        ) : (\n          <PopoverContentNonModal {...contentProps} ref={forwardedRef} />\n        )}\n      </Presence>\n    );\n  },\n);\n\nPopoverContent.displayName = CONTENT_NAME;\n\n/* ----------------------------------------------------------------------------------------------- */\n\ntype PopoverContentTypeElement = PopoverContentImplElement;\nexport interface PopoverContentTypeProps\n  extends Omit<PopoverContentImplProps, 'trapFocus' | 'disableOutsidePointerEvents'> {}\n\nconst PopoverContentModal = forwardRef<PopoverContentTypeElement, PopoverContentTypeProps>(\n  (props: ScopedProps<PopoverContentTypeProps>, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const contentRef = useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = useRef(false);\n\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    useEffect(() => {\n      const content = contentRef.current;\n      if (content) {\n        return hideOthers(content);\n      }\n    }, []);\n\n    return (\n      <RemoveScroll as={Slot} allowPinchZoom>\n        <PopoverContentImpl\n          {...props}\n          ref={composedRefs}\n          // we make sure we're not trapping once it's been closed\n          // (closed !== unmounted when animating out)\n          trapFocus={context.open}\n          disableOutsidePointerEvents\n          onCloseAutoFocus={composeEventHandlers(props.onCloseAutoFocus, (event) => {\n            event.preventDefault();\n            if (!isRightClickOutsideRef.current) {\n              context.triggerRef.current?.focus();\n            }\n          })}\n          onPointerDownOutside={composeEventHandlers(\n            props.onPointerDownOutside,\n            (event) => {\n              const originalEvent = event.detail.originalEvent;\n              const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n              const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n\n              isRightClickOutsideRef.current = isRightClick;\n            },\n            { checkForDefaultPrevented: false },\n          )}\n          // When focus is trapped, a `focusout` event may still happen.\n          // We make sure we don't trigger our `onDismiss` in such case.\n          onFocusOutside={composeEventHandlers(props.onFocusOutside, (event) => event.preventDefault(), {\n            checkForDefaultPrevented: false,\n          })}\n        />\n      </RemoveScroll>\n    );\n  },\n);\n\nconst PopoverContentNonModal = forwardRef<PopoverContentTypeElement, PopoverContentTypeProps>(\n  (props: ScopedProps<PopoverContentTypeProps>, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = useRef(false);\n    const hasPointerDownOutsideRef = useRef(false);\n\n    return (\n      <PopoverContentImpl\n        {...props}\n        ref={forwardedRef}\n        trapFocus={false}\n        disableOutsidePointerEvents={false}\n        onCloseAutoFocus={(event) => {\n          props.onCloseAutoFocus?.(event);\n\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) {\n              context.triggerRef.current?.focus();\n            }\n            // Always prevent auto focus because we either focus manually or want user agent focus\n            event.preventDefault();\n          }\n\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        }}\n        onInteractOutside={(event) => {\n          props.onInteractOutside?.(event);\n\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === 'pointerdown') {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n\n          // Prevent dismissing when clicking the trigger.\n          // As the trigger is already setup to close, without doing so would\n          // cause it to close and immediately open.\n          const target = event.target as HTMLElement;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) {\n            event.preventDefault();\n          }\n\n          // On Safari if the trigger is inside a container with tabIndex={0}, when clicked\n          // we will get the pointer down outside event on the trigger, but then a subsequent\n          // focus outside event on the container, we ignore any focus outside event when we've\n          // already had a pointer down outside event.\n          if (event.detail.originalEvent.type === 'focusin' && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }}\n      />\n    );\n  },\n);\n\n/* ----------------------------------------------------------------------------------------------- */\n\ntype PopoverContentImplElement = ElementRef<typeof PopperPrimitive.Content>;\ntype FocusScopeProps = ComponentPropsWithoutRef<typeof FocusScope>;\ntype DismissableLayerProps = ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype PopperContentProps = ThemedClassName<ComponentPropsWithoutRef<typeof PopperPrimitive.Content>>;\ninterface PopoverContentImplProps\n  extends Omit<PopperContentProps, 'onPlaced'>,\n    Omit<DismissableLayerProps, 'onDismiss'> {\n  /**\n   * Whether focus should be trapped within the `Popover`\n   * (default: false)\n   */\n  trapFocus?: FocusScopeProps['trapped'];\n\n  /**\n   * Event handler called when auto-focusing on open.\n   * Can be prevented.\n   */\n  onOpenAutoFocus?: FocusScopeProps['onMountAutoFocus'];\n\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n}\n\nconst PopoverContentImpl = forwardRef<PopoverContentImplElement, PopoverContentImplProps>(\n  (props: ScopedProps<PopoverContentImplProps>, forwardedRef) => {\n    const {\n      __scopePopover,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      collisionPadding = 8,\n      classNames,\n      ...contentProps\n    } = props;\n    const context = usePopoverContext(CONTENT_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { tx } = useThemeContext();\n    const elevation = useElevationContext();\n    const safeCollisionPadding = useSafeCollisionPadding(collisionPadding);\n\n    // Make sure the whole tree has focus guards as our `Popover` may be\n    // the last element in the DOM (because of the `Portal`)\n    useFocusGuards();\n\n    return (\n      <FocusScope\n        asChild\n        loop\n        trapped={trapFocus}\n        onMountAutoFocus={onOpenAutoFocus}\n        onUnmountAutoFocus={onCloseAutoFocus}\n      >\n        <DismissableLayer\n          asChild\n          disableOutsidePointerEvents={disableOutsidePointerEvents}\n          onInteractOutside={onInteractOutside}\n          onEscapeKeyDown={onEscapeKeyDown}\n          onPointerDownOutside={onPointerDownOutside}\n          onFocusOutside={onFocusOutside}\n          onDismiss={() => context.onOpenChange(false)}\n        >\n          <PopperPrimitive.Content\n            data-state={getState(context.open)}\n            role='dialog'\n            id={context.contentId}\n            {...popperScope}\n            {...contentProps}\n            collisionPadding={safeCollisionPadding}\n            className={tx('popover.content', 'popover', { elevation }, classNames)}\n            ref={forwardedRef}\n            style={{\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                '--radix-popover-content-transform-origin': 'var(--radix-popper-transform-origin)',\n                '--radix-popover-content-available-width': 'var(--radix-popper-available-width)',\n                '--radix-popover-content-available-height': 'var(--radix-popper-available-height)',\n                '--radix-popover-trigger-width': 'var(--radix-popper-anchor-width)',\n                '--radix-popover-trigger-height': 'var(--radix-popper-anchor-height)',\n              },\n            }}\n          />\n        </DismissableLayer>\n      </FocusScope>\n    );\n  },\n);\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverClose\n * ----------------------------------------------------------------------------------------------- */\n\nconst CLOSE_NAME = 'PopoverClose';\n\ntype PopoverCloseElement = ElementRef<typeof Primitive.button>;\ninterface PopoverCloseProps extends PrimitiveButtonProps {}\n\nconst PopoverClose = forwardRef<PopoverCloseElement, PopoverCloseProps>(\n  (props: ScopedProps<PopoverCloseProps>, forwardedRef) => {\n    const { __scopePopover, ...closeProps } = props;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return (\n      <Primitive.button\n        type='button'\n        {...closeProps}\n        ref={forwardedRef}\n        onClick={composeEventHandlers(props.onClick, () => context.onOpenChange(false))}\n      />\n    );\n  },\n);\n\nPopoverClose.displayName = CLOSE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverArrow\n * ----------------------------------------------------------------------------------------------- */\n\nconst ARROW_NAME = 'PopoverArrow';\n\ntype PopoverArrowElement = ElementRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = ThemedClassName<ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>>;\ninterface PopoverArrowProps extends PopperArrowProps {}\n\nconst PopoverArrow = forwardRef<PopoverArrowElement, PopoverArrowProps>(\n  (props: ScopedProps<PopoverArrowProps>, forwardedRef) => {\n    const { __scopePopover, classNames, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopePopover);\n    const { tx } = useThemeContext();\n    return (\n      <PopperPrimitive.Arrow\n        {...popperScope}\n        {...arrowProps}\n        className={tx('popover.arrow', 'popover__arrow', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\nPopoverArrow.displayName = ARROW_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * PopoverViewport\n * ----------------------------------------------------------------------------------------------- */\n\ntype PopoverViewportProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>> & {\n  asChild?: boolean;\n  constrainInline?: boolean;\n  constrainBlock?: boolean;\n};\n\nconst PopoverViewport = forwardRef<HTMLDivElement, PopoverViewportProps>(\n  ({ classNames, asChild, constrainInline = true, constrainBlock = true, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.div;\n    return (\n      <Root\n        {...props}\n        className={tx('popover.viewport', 'popover__viewport', { constrainInline, constrainBlock }, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </Root>\n    );\n  },\n);\n\n/* ----------------------------------------------------------------------------------------------- */\n\nconst getState = (open: boolean) => (open ? 'open' : 'closed');\n\ntype PopoverContentInteractOutsideEvent = Parameters<NonNullable<PopoverContentProps['onInteractOutside']>>[0];\n\nexport const Popover = {\n  Root: PopoverRoot,\n  Anchor: PopoverAnchor,\n  Trigger: PopoverTrigger,\n  VirtualTrigger: PopoverVirtualTrigger,\n  Portal: PopoverPortal,\n  Content: PopoverContent,\n  Close: PopoverClose,\n  Arrow: PopoverArrow,\n  Viewport: PopoverViewport,\n};\n\nexport { createPopoverScope };\n\nexport type {\n  PopoverRootProps,\n  PopoverAnchorProps,\n  PopoverTriggerProps,\n  PopoverVirtualTriggerProps,\n  PopoverPortalProps,\n  PopoverContentProps,\n  PopoverCloseProps,\n  PopoverArrowProps,\n  PopoverViewportProps,\n  PopoverContentInteractOutsideEvent,\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport React, { type ComponentPropsWithRef, forwardRef } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\n\ntype StatusProps = ThemedClassName<ComponentPropsWithRef<'span'>> & {\n  indeterminate?: boolean;\n  variant?: 'default' | 'main-bottom';\n  progress?: number;\n};\n\nconst Status = forwardRef<HTMLSpanElement, StatusProps>(\n  ({ classNames, children, progress = 0, indeterminate, variant, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <span\n        role='status'\n        {...props}\n        className={tx('status.root', 'status', { indeterminate, variant }, classNames)}\n        ref={forwardedRef}\n      >\n        <span\n          role='none'\n          className={tx('status.bar', 'status__bar', { indeterminate, variant }, classNames)}\n          {...(!indeterminate && { style: { width: `${Math.round(progress * 100)}%` } })}\n        />\n        {children}\n      </span>\n    );\n  },\n);\n\nexport { Status };\n\nexport type { StatusProps };\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport {\n  Root as ScrollAreaPrimitiveRoot,\n  type ScrollAreaProps as ScrollAreaPrimitiveRootProps,\n  Viewport as ScrollAreaPrimitiveViewport,\n  type ScrollAreaViewportProps as ScrollAreaPrimitiveViewportProps,\n  Scrollbar as ScrollAreaPrimitiveScrollbar,\n  type ScrollAreaScrollbarProps as ScrollAreaPrimitiveScrollbarProps,\n  Thumb as ScrollAreaPrimitiveThumb,\n  type ScrollAreaThumbProps as ScrollAreaPrimitiveThumbProps,\n  Corner as ScrollAreaPrimitiveCorner,\n  type ScrollAreaCornerProps as ScrollAreaPrimitiveCornerProps,\n} from '@radix-ui/react-scroll-area';\nimport React, { forwardRef } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\n\ntype ScrollAreaVariant = 'coarse' | 'fine';\n\ntype ScrollAreaRootProps = ThemedClassName<ScrollAreaPrimitiveRootProps>;\n\n/**\n * @deprecated\n */\nconst ScrollAreaRoot = forwardRef<HTMLDivElement, ScrollAreaRootProps>(({ classNames, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <ScrollAreaPrimitiveRoot\n      {...props}\n      className={tx('scrollArea.root', 'scroll-area', {}, classNames)}\n      ref={forwardedRef}\n    />\n  );\n});\n\ntype ScrollAreaViewportProps = ThemedClassName<ScrollAreaPrimitiveViewportProps>;\n\nconst ScrollAreaViewport = forwardRef<HTMLDivElement, ScrollAreaViewportProps>(\n  ({ classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <ScrollAreaPrimitiveViewport\n        {...props}\n        className={tx('scrollArea.viewport', 'scroll-area', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype ScrollAreaScrollbarProps = ThemedClassName<ScrollAreaPrimitiveScrollbarProps> & { variant?: ScrollAreaVariant };\n\nconst ScrollAreaScrollbar = forwardRef<HTMLDivElement, ScrollAreaScrollbarProps>(\n  ({ classNames, variant = 'fine', ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <ScrollAreaPrimitiveScrollbar\n        data-variant={variant}\n        {...props}\n        className={tx('scrollArea.scrollbar', 'scroll-area__scrollbar', {}, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\ntype ScrollAreaThumbProps = ThemedClassName<ScrollAreaPrimitiveThumbProps>;\n\nconst ScrollAreaThumb = forwardRef<HTMLDivElement, ScrollAreaThumbProps>(({ classNames, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <ScrollAreaPrimitiveThumb\n      {...props}\n      className={tx('scrollArea.thumb', 'scroll-area__thumb', {}, classNames)}\n      ref={forwardedRef}\n    />\n  );\n});\n\ntype ScrollAreaCornerProps = ThemedClassName<ScrollAreaPrimitiveCornerProps>;\n\nconst ScrollAreaCorner = forwardRef<HTMLDivElement, ScrollAreaCornerProps>(({ classNames, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <ScrollAreaPrimitiveCorner\n      {...props}\n      className={tx('scrollArea.corner', 'scroll-area__corner', {}, classNames)}\n      ref={forwardedRef}\n    />\n  );\n});\n\nexport const ScrollArea = {\n  Root: ScrollAreaRoot,\n  Viewport: ScrollAreaViewport,\n  Scrollbar: ScrollAreaScrollbar,\n  Thumb: ScrollAreaThumb,\n  Corner: ScrollAreaCorner,\n};\n\nexport type {\n  ScrollAreaRootProps,\n  ScrollAreaViewportProps,\n  ScrollAreaScrollbarProps,\n  ScrollAreaThumbProps,\n  ScrollAreaCornerProps,\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { CaretDown, CaretUp } from '@phosphor-icons/react';\nimport * as SelectPrimitive from '@radix-ui/react-select';\nimport React, { forwardRef } from 'react';\n\nimport { useElevationContext, useThemeContext } from '../../hooks';\nimport { useSafeCollisionPadding } from '../../hooks/useSafeCollisionPadding';\nimport { type ThemedClassName } from '../../util';\nimport { Button, type ButtonProps } from '../Buttons';\nimport { Icon } from '../Icon';\n\ntype SelectRootProps = SelectPrimitive.SelectProps;\n\nconst SelectRoot = SelectPrimitive.Root;\n\ntype SelectTriggerProps = SelectPrimitive.SelectTriggerProps;\n\nconst SelectTrigger = SelectPrimitive.Trigger;\n\ntype SelectValueProps = SelectPrimitive.SelectValueProps;\n\nconst SelectValue = SelectPrimitive.Value;\n\ntype SelectIconProps = SelectPrimitive.SelectIconProps;\n\nconst SelectIcon = SelectPrimitive.Icon;\n\ntype SelectPortalProps = SelectPrimitive.SelectPortalProps;\n\nconst SelectPortal = SelectPrimitive.Portal;\n\ntype SelectTriggerButtonProps = Omit<ButtonProps, 'children'> & Pick<SelectValueProps, 'placeholder' | 'children'>;\n\nconst SelectTriggerButton = forwardRef<HTMLButtonElement, SelectTriggerButtonProps>(\n  ({ children, placeholder, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <SelectPrimitive.Trigger asChild ref={forwardedRef}>\n        <Button {...props}>\n          <SelectPrimitive.Value placeholder={placeholder}>{children}</SelectPrimitive.Value>\n          <span className='w-1 flex-1' />\n          <SelectPrimitive.Icon asChild>\n            <CaretDown className={tx('select.triggerIcon', 'select__trigger__icon', {})} weight='bold' />\n          </SelectPrimitive.Icon>\n        </Button>\n      </SelectPrimitive.Trigger>\n    );\n  },\n);\n\ntype SelectContentProps = ThemedClassName<SelectPrimitive.SelectContentProps>;\n\nconst SelectContent = forwardRef<HTMLDivElement, SelectContentProps>(\n  ({ classNames, children, collisionPadding = 8, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const elevation = useElevationContext();\n    const safeCollisionPadding = useSafeCollisionPadding(collisionPadding);\n    return (\n      <SelectPrimitive.Content\n        {...props}\n        collisionPadding={safeCollisionPadding}\n        className={tx('select.content', 'select__content', { elevation }, classNames)}\n        position='popper'\n        ref={forwardedRef}\n      >\n        {children}\n      </SelectPrimitive.Content>\n    );\n  },\n);\n\ntype SelectScrollUpButtonProps = ThemedClassName<SelectPrimitive.SelectScrollUpButtonProps>;\n\nconst SelectScrollUpButton = forwardRef<HTMLDivElement, SelectScrollUpButtonProps>(\n  ({ classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <SelectPrimitive.SelectScrollUpButton\n        {...props}\n        className={tx('select.scrollButton', 'select__scroll-button--up', {}, classNames)}\n        ref={forwardedRef}\n      >\n        {children ?? <CaretUp weight='bold' />}\n      </SelectPrimitive.SelectScrollUpButton>\n    );\n  },\n);\n\ntype SelectScrollDownButtonProps = ThemedClassName<SelectPrimitive.SelectScrollDownButtonProps>;\n\nconst SelectScrollDownButton = forwardRef<HTMLDivElement, SelectScrollDownButtonProps>(\n  ({ classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <SelectPrimitive.SelectScrollDownButton\n        {...props}\n        className={tx('select.scrollButton', 'select__scroll-button--down', {}, classNames)}\n        ref={forwardedRef}\n      >\n        {children ?? <CaretDown weight='bold' />}\n      </SelectPrimitive.SelectScrollDownButton>\n    );\n  },\n);\n\ntype SelectViewportProps = ThemedClassName<SelectPrimitive.SelectViewportProps>;\n\nconst SelectViewport = forwardRef<HTMLDivElement, SelectViewportProps>(\n  ({ classNames, asChild, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <SelectPrimitive.SelectViewport\n        {...props}\n        className={tx('select.viewport', 'select__viewport', {}, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </SelectPrimitive.SelectViewport>\n    );\n  },\n);\n\ntype SelectItemProps = ThemedClassName<SelectPrimitive.SelectItemProps>;\n\nconst SelectItem = forwardRef<HTMLDivElement, SelectItemProps>(({ classNames, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return <SelectPrimitive.Item {...props} className={tx('select.item', 'option', {}, classNames)} ref={forwardedRef} />;\n});\n\ntype SelectItemTextProps = SelectPrimitive.SelectItemTextProps;\n\nconst SelectItemText = SelectPrimitive.ItemText;\n\ntype SelectItemIndicatorProps = ThemedClassName<SelectPrimitive.SelectItemIndicatorProps>;\n\nconst SelectItemIndicator = forwardRef<HTMLDivElement, SelectItemIndicatorProps>(\n  ({ classNames, children, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <SelectPrimitive.ItemIndicator\n        {...props}\n        className={tx('select.itemIndicator', 'option__indicator', {}, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </SelectPrimitive.ItemIndicator>\n    );\n  },\n);\n\ntype SelectOptionProps = SelectItemProps;\n\nconst SelectOption = forwardRef<HTMLDivElement, SelectItemProps>(({ children, classNames, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <SelectPrimitive.Item {...props} className={tx('select.item', 'option', {}, classNames)} ref={forwardedRef}>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n      <span className='grow w-1' />\n      {/* <SelectPrimitive.ItemIndicator className={tx('select.itemIndicator', 'option__indicator', {})}> */}\n      <Icon icon='ph--check--regular' />\n      {/* </SelectPrimitive.ItemIndicator> */}\n    </SelectPrimitive.Item>\n  );\n});\n\ntype SelectGroupProps = SelectPrimitive.SelectGroupProps;\n\nconst SelectGroup = SelectPrimitive.Group;\n\ntype SelectLabelProps = SelectPrimitive.SelectLabelProps;\n\nconst SelectLabel = SelectPrimitive.Label;\n\ntype SelectSeparatorProps = ThemedClassName<SelectPrimitive.SelectSeparatorProps>;\n\nconst SelectSeparator = forwardRef<HTMLDivElement, SelectSeparatorProps>(({ classNames, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <SelectPrimitive.Separator\n      {...props}\n      className={tx('select.separator', 'select__separator', {}, classNames)}\n      ref={forwardedRef}\n    />\n  );\n});\n\ntype SelectArrowProps = ThemedClassName<SelectPrimitive.SelectArrowProps>;\n\nconst SelectArrow = forwardRef<SVGSVGElement, SelectArrowProps>(({ classNames, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <SelectPrimitive.Arrow\n      {...props}\n      className={tx('select.arrow', 'select__arrow', {}, classNames)}\n      ref={forwardedRef}\n    />\n  );\n});\n\nexport const Select = {\n  Root: SelectRoot,\n  Trigger: SelectTrigger,\n  TriggerButton: SelectTriggerButton,\n  Value: SelectValue,\n  Icon: SelectIcon,\n  Portal: SelectPortal,\n  Content: SelectContent,\n  ScrollUpButton: SelectScrollUpButton,\n  ScrollDownButton: SelectScrollDownButton,\n  Viewport: SelectViewport,\n  Item: SelectItem,\n  ItemText: SelectItemText,\n  ItemIndicator: SelectItemIndicator,\n  Option: SelectOption,\n  Group: SelectGroup,\n  Label: SelectLabel,\n  Separator: SelectSeparator,\n  Arrow: SelectArrow,\n};\n\nexport type {\n  SelectRootProps,\n  SelectTriggerProps,\n  SelectTriggerButtonProps,\n  SelectValueProps,\n  SelectIconProps,\n  SelectPortalProps,\n  SelectContentProps,\n  SelectScrollUpButtonProps,\n  SelectScrollDownButtonProps,\n  SelectViewportProps,\n  SelectItemProps,\n  SelectItemTextProps,\n  SelectItemIndicatorProps,\n  SelectOptionProps,\n  SelectGroupProps,\n  SelectLabelProps,\n  SelectSeparatorProps,\n  SelectArrowProps,\n};\n", "//\n// Copyright 2023 DXOS.org\n//\nimport {\n  Separator as SeparatorPrimitive,\n  type SeparatorProps as SeparatorPrimitiveProps,\n} from '@radix-ui/react-separator';\nimport React, { forwardRef } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\n\ntype SeparatorProps = ThemedClassName<SeparatorPrimitiveProps> & { subdued?: boolean };\n\nconst Separator = forwardRef<HTMLDivElement, SeparatorProps>(\n  ({ classNames, orientation = 'horizontal', subdued, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <SeparatorPrimitive\n        orientation={orientation}\n        {...props}\n        className={tx('separator.root', 'separator', { orientation, subdued }, classNames)}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n\nexport type { SeparatorProps };\n\nexport { Separator };\n", "//\n// Copyright 2025 DXOS.org\n//\n\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport React, { type ComponentPropsWithRef, forwardRef } from 'react';\n\nimport { type ChromaticPalette, type MessageValence, type NeutralPalette } from '@dxos/react-ui-types';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\n\nexport type TagProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.span>> & {\n  palette?: NeutralPalette | ChromaticPalette | MessageValence;\n  asChild?: boolean;\n};\n\nexport const Tag = forwardRef<HTMLSpanElement, TagProps>(\n  ({ asChild, palette = 'neutral', classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.span;\n    return (\n      <Root\n        {...props}\n        className={tx('tag.root', 'dx-tag', { palette }, classNames)}\n        data-hue={palette}\n        ref={forwardedRef}\n      />\n    );\n  },\n);\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport {\n  ToastProvider as ToastProviderPrimitive,\n  type ToastProviderProps as ToastProviderPrimitiveProps,\n  ToastViewport as ToastViewportPrimitive,\n  type ToastViewportProps as ToastViewportPrimitiveProps,\n  Root as ToastRootPrimitive,\n  type ToastProps as ToastRootPrimitiveProps,\n  ToastTitle as ToastTitlePrimitive,\n  type ToastTitleProps as ToastTitlePrimitiveProps,\n  ToastDescription as ToastDescriptionPrimitive,\n  type ToastDescriptionProps as ToastDescriptionPrimitiveProps,\n  ToastAction as ToastActionPrimitive,\n  type ToastActionProps as ToastActionPrimitiveProps,\n  ToastClose as ToastClosePrimitive,\n  type ToastCloseProps as ToastClosePrimitiveProps,\n} from '@radix-ui/react-toast';\nimport React, { type ComponentPropsWithRef, forwardRef, type FunctionComponent } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\nimport { ElevationProvider } from '../ElevationProvider';\n\ntype ToastProviderProps = ToastProviderPrimitiveProps;\n\nconst ToastProvider: FunctionComponent<ToastProviderProps> = ToastProviderPrimitive;\n\ntype ToastViewportProps = ThemedClassName<ToastViewportPrimitiveProps>;\n\nconst ToastViewport = forwardRef<HTMLOListElement, ToastViewportProps>(({ classNames, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <ToastViewportPrimitive className={tx('toast.viewport', 'toast-viewport', {}, classNames)} ref={forwardedRef} />\n  );\n});\n\ntype ToastRootProps = ThemedClassName<ToastRootPrimitiveProps>;\n\nconst ToastRoot = forwardRef<HTMLLIElement, ToastRootProps>(({ classNames, children, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  return (\n    <ToastRootPrimitive {...props} className={tx('toast.root', 'toast', {}, classNames)} ref={forwardedRef}>\n      <ElevationProvider elevation='toast'>{children}</ElevationProvider>\n    </ToastRootPrimitive>\n  );\n});\n\ntype ToastBodyProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>>;\n\nconst ToastBody = forwardRef<HTMLDivElement, ToastBodyProps>(({ asChild, classNames, ...props }, forwardedRef) => {\n  const { tx } = useThemeContext();\n  const Root = asChild ? Slot : Primitive.div;\n  return <Root {...props} className={tx('toast.body', 'toast__body', {}, classNames)} ref={forwardedRef} />;\n});\n\ntype ToastTitleProps = ThemedClassName<ToastTitlePrimitiveProps>;\n\nconst ToastTitle = forwardRef<HTMLHeadingElement, ToastTitleProps>(\n  ({ asChild, classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : ToastTitlePrimitive;\n    return <Root {...props} className={tx('toast.title', 'toast__title', {}, classNames)} ref={forwardedRef} />;\n  },\n);\n\ntype ToastDescriptionProps = ThemedClassName<ToastDescriptionPrimitiveProps>;\n\nconst ToastDescription = forwardRef<HTMLParagraphElement, ToastDescriptionProps>(\n  ({ asChild, classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : ToastDescriptionPrimitive;\n    return (\n      <Root {...props} className={tx('toast.description', 'toast__description', {}, classNames)} ref={forwardedRef} />\n    );\n  },\n);\n\ntype ToastActionsProps = ThemedClassName<ComponentPropsWithRef<typeof Primitive.div>>;\n\nconst ToastActions = forwardRef<HTMLDivElement, ToastActionsProps>(\n  ({ asChild, classNames, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    const Root = asChild ? Slot : Primitive.div;\n    return <Root {...props} className={tx('toast.actions', 'toast__actions', {}, classNames)} ref={forwardedRef} />;\n  },\n);\n\ntype ToastActionProps = ToastActionPrimitiveProps;\n\nconst ToastAction: FunctionComponent<ToastActionProps> = ToastActionPrimitive;\n\ntype ToastCloseProps = ToastClosePrimitiveProps;\n\nconst ToastClose: FunctionComponent<ToastCloseProps> = ToastClosePrimitive;\n\nexport const Toast = {\n  Provider: ToastProvider,\n  Viewport: ToastViewport,\n  Root: ToastRoot,\n  Body: ToastBody,\n  Title: ToastTitle,\n  Description: ToastDescription,\n  Actions: ToastActions,\n  Action: ToastAction,\n  Close: ToastClose,\n};\n\nexport type {\n  ToastProviderProps,\n  ToastViewportProps,\n  ToastRootProps,\n  ToastBodyProps,\n  ToastTitleProps,\n  ToastDescriptionProps,\n  ToastActionsProps,\n  ToastActionProps,\n  ToastCloseProps,\n};\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport type { ToggleGroupItemProps as ToggleGroupItemPrimitiveProps } from '@radix-ui/react-toggle-group';\nimport * as ToolbarPrimitive from '@radix-ui/react-toolbar';\nimport React, { forwardRef } from 'react';\n\nimport { useThemeContext } from '../../hooks';\nimport { type ThemedClassName } from '../../util';\nimport {\n  Button,\n  ButtonGroup,\n  type ButtonGroupProps,\n  type ButtonProps,\n  Toggle,\n  type ToggleGroupItemProps,\n  type ToggleProps,\n  IconButton,\n  type IconButtonProps,\n} from '../Buttons';\nimport { Link, type LinkProps } from '../Link';\nimport { Separator, type SeparatorProps } from '../Separator';\n\ntype ToolbarRootProps = ThemedClassName<ToolbarPrimitive.ToolbarProps> & { layoutManaged?: boolean };\n\nconst ToolbarRoot = forwardRef<HTMLDivElement, ToolbarRootProps>(\n  ({ classNames, children, layoutManaged, ...props }, forwardedRef) => {\n    const { tx } = useThemeContext();\n    return (\n      <ToolbarPrimitive.Root\n        {...props}\n        className={tx('toolbar.root', 'toolbar', { layoutManaged }, classNames)}\n        ref={forwardedRef}\n      >\n        {children}\n      </ToolbarPrimitive.Root>\n    );\n  },\n);\n\ntype ToolbarButtonProps = ButtonProps;\n\nconst ToolbarButton = forwardRef<HTMLButtonElement, ToolbarButtonProps>((props, forwardedRef) => {\n  return (\n    <ToolbarPrimitive.Button asChild>\n      <Button {...props} ref={forwardedRef} />\n    </ToolbarPrimitive.Button>\n  );\n});\n\ntype ToolbarIconButtonProps = IconButtonProps;\n\nconst ToolbarIconButton = forwardRef<HTMLButtonElement, ToolbarIconButtonProps>((props, forwardedRef) => {\n  return (\n    <ToolbarPrimitive.Button asChild>\n      <IconButton {...props} ref={forwardedRef} />\n    </ToolbarPrimitive.Button>\n  );\n});\n\ntype ToolbarToggleProps = ToggleProps;\n\nconst ToolbarToggle = forwardRef<HTMLButtonElement, ToolbarToggleProps>((props, forwardedRef) => {\n  return (\n    <ToolbarPrimitive.Button asChild>\n      <Toggle {...props} ref={forwardedRef} />\n    </ToolbarPrimitive.Button>\n  );\n});\n\ntype ToolbarLinkProps = LinkProps;\n\nconst ToolbarLink = forwardRef<HTMLAnchorElement, ToolbarLinkProps>((props, forwardedRef) => {\n  return (\n    <ToolbarPrimitive.Link asChild>\n      <Link {...props} ref={forwardedRef} />\n    </ToolbarPrimitive.Link>\n  );\n});\n\ntype ToolbarToggleGroupProps = (\n  | Omit<ToolbarPrimitive.ToolbarToggleGroupSingleProps, 'className'>\n  | Omit<ToolbarPrimitive.ToolbarToggleGroupMultipleProps, 'className'>\n) &\n  ButtonGroupProps;\n\nconst ToolbarToggleGroup = forwardRef<HTMLDivElement, ToolbarToggleGroupProps>(\n  ({ classNames, children, elevation, ...props }, forwardedRef) => {\n    return (\n      <ToolbarPrimitive.ToolbarToggleGroup {...props} asChild>\n        <ButtonGroup {...{ classNames, children, elevation }} ref={forwardedRef} />\n      </ToolbarPrimitive.ToolbarToggleGroup>\n    );\n  },\n);\n\ntype ToolbarToggleGroupItemProps = ToggleGroupItemProps;\n\nconst ToolbarToggleGroupItem = forwardRef<HTMLButtonElement, ToolbarToggleGroupItemProps>(\n  ({ variant, density, elevation, classNames, children, ...props }, forwardedRef) => {\n    return (\n      <ToolbarPrimitive.ToolbarToggleItem {...props} asChild>\n        <Button {...{ variant, density, elevation, classNames, children }} ref={forwardedRef} />\n      </ToolbarPrimitive.ToolbarToggleItem>\n    );\n  },\n);\n\ntype ToolbarToggleGroupIconItemProps = Omit<ToggleGroupItemPrimitiveProps, 'className'> & IconButtonProps;\n\nconst ToolbarToggleGroupIconItem = forwardRef<HTMLButtonElement, ToolbarToggleGroupIconItemProps>(\n  ({ variant, density, elevation, classNames, icon, label, iconOnly, ...props }, forwardedRef) => {\n    return (\n      <ToolbarPrimitive.ToolbarToggleItem {...props} asChild>\n        <IconButton {...{ variant, density, elevation, classNames, icon, label, iconOnly }} ref={forwardedRef} />\n      </ToolbarPrimitive.ToolbarToggleItem>\n    );\n  },\n);\n\ntype ToolbarSeparatorProps = SeparatorProps & { variant?: 'gap' | 'line' };\n\nconst ToolbarSeparator = forwardRef<HTMLDivElement, ToolbarSeparatorProps>(\n  ({ variant = 'line', ...props }, forwardedRef) => {\n    return variant === 'line' ? (\n      <ToolbarPrimitive.Separator asChild>\n        <Separator {...props} ref={forwardedRef} />\n      </ToolbarPrimitive.Separator>\n    ) : (\n      <ToolbarPrimitive.Separator className='grow' ref={forwardedRef} />\n    );\n  },\n);\n\nexport const Toolbar = {\n  Root: ToolbarRoot,\n  Button: ToolbarButton,\n  IconButton: ToolbarIconButton,\n  Link: ToolbarLink,\n  Toggle: ToolbarToggle,\n  ToggleGroup: ToolbarToggleGroup,\n  ToggleGroupItem: ToolbarToggleGroupItem,\n  ToggleGroupIconItem: ToolbarToggleGroupIconItem,\n  Separator: ToolbarSeparator,\n};\n\nexport type {\n  ToolbarRootProps,\n  ToolbarButtonProps,\n  ToolbarIconButtonProps,\n  ToolbarLinkProps,\n  ToolbarToggleProps,\n  ToolbarToggleGroupProps,\n  ToolbarToggleGroupItemProps,\n  ToolbarToggleGroupIconItemProps,\n  ToolbarSeparatorProps,\n};\n"],
  "mappings": "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",
  "names": ["import_react", "import_react_hooks", "import_react_primitive", "import_react_slot", "import_react_context", "import_react_ui_theme", "import_react_use_controllable_state", "import_react_dialog", "import_primitive", "import_react_compose_refs", "import_react_id", "import_react_dismissable_layer", "import_react_popper", "import_react_portal", "import_react_presence", "useElevationContext", "propsElevation", "elevation", "useContext", "ElevationContext", "useThemeContext", "ThemeContext", "raise", "Error", "ICONS_URL", "useIconHref", "icon", "noCache", "url", "Date", "getMinutes", "undefined", "initialSafeArea", "top", "NaN", "right", "bottom", "left", "useSafeArea", "padding", "setPadding", "useState", "handleResize", "useCallback", "parseFloat", "getComputedStyle", "document", "documentElement", "getPropertyValue", "useResize", "initialLng", "initialNs", "initialDtLocale", "dtLocaleEnUs", "isLabel", "o", "Array", "isArray", "length", "ns", "toLocalizedString", "label", "t", "resources", "i18Next", "use", "initReactI18next", "init", "lng", "defaultNS", "interpolation", "escapeValue", "TranslationsContext", "createContext", "appNs", "dtLocale", "useTranslation", "args", "result", "useI18NextTranslation", "TranslationsProvider", "fallback", "resourceExtensions", "children", "loaded", "setLoaded", "useEffect", "forEach", "resource", "Object", "keys", "language", "addResourceBundle", "React", "Provider", "value", "Suspense", "useTranslationsContext", "useVisualViewport", "deps", "width", "setWidth", "height", "setHeight", "window", "visualViewport", "AnchoredOverflowRoot", "forwardRef", "asChild", "classNames", "props", "forwardedRef", "tx", "Root", "Slot", "Primitive", "div", "role", "className", "ref", "AnchoredOverflowAnchor", "AnchoredOverflow", "Anchor", "AVATAR_NAME", "AvatarProvider", "useAvatarContext", "AvatarRoot", "labelId", "propsLabelId", "descriptionId", "propsDescriptionId", "useId", "AvatarContent", "href", "DxAvatar", "aria-labelledby", "aria-describedby", "rootClassName", "mx", "AvatarLabel", "srOnly", "span", "id", "AvatarDescription", "Avatar", "Content", "Label", "Description", "Link", "variant", "a", "BreadcrumbRoot", "BreadcrumbList", "ol", "BreadcrumbListItem", "li", "BreadcrumbLink", "BreadcrumbCurrent", "aria-current", "BreadcrumbSeparator", "aria-hidden", "Dot", "weight", "Breadcrumb", "List", "ListItem", "Current", "Separator", "BUTTON_GROUP_NAME", "BUTTON_NAME", "ButtonGroupProvider", "useButtonGroupContext", "inGroup", "Button", "memo", "density", "propsDensity", "useDensityContext", "button", "data-variant", "data-density", "data-props", "disabled", "displayName", "ButtonGroup", "Icon", "size", "svg", "createTooltipContext", "createTooltipScope", "createContextScope", "createPopperScope", "usePopperScope", "DEFAULT_DELAY_DURATION", "TOOLTIP_OPEN", "TOOLTIP_NAME", "TooltipContextProvider", "useTooltipContext", "TooltipProvider", "__scopeTooltip", "open", "openProp", "defaultOpen", "onOpenChange", "disableHoverableContent", "delayDuration", "skipDelayDuration", "isOpenDelayedRef", "useRef", "isPointerInTransitRef", "skipDelayTimerRef", "skipDelayTimer", "current", "clearTimeout", "popperScope", "trigger", "setTrigger", "content", "setContent", "side", "setSide", "triggerRef", "handleTriggerChange", "nextTrigger", "getAttribute", "contentId", "openTimerRef", "wasOpenDelayedRef", "handleOpenChange", "dispatchEvent", "CustomEvent", "setTimeout", "setOpen", "useControllableState", "prop", "defaultProp", "onChange", "stateAttribute", "useMemo", "handleOpen", "handleClose", "handleDelayedOpen", "scope", "onTriggerChange", "onTriggerEnter", "onTriggerLeave", "onOpen", "onClose", "onPointerInTransitChange", "inTransit", "TooltipContent", "TooltipArrow", "TooltipVirtualTrigger", "virtualRef", "TRIGGER_NAME", "TooltipTrigger", "onInteract", "_delayDuration", "triggerProps", "context", "composedRefs", "useComposedRefs", "isPointerDownRef", "hasPointerMoveOpenedRef", "handlePointerUp", "removeEventListener", "data-state", "data-tooltip-content", "data-tooltip-side", "onPointerMove", "composeEventHandlers", "event", "pointerType", "defaultPrevented", "onPointerLeave", "onPointerDown", "addEventListener", "once", "onFocus", "onBlur", "onClick", "PORTAL_NAME", "PortalProvider", "usePortalContext", "forceMount", "TooltipPortal", "container", "Presence", "present", "PortalPrimitive", "CONTENT_NAME", "portalContext", "contentProps", "TooltipContentImpl", "TooltipContentHoverable", "pointerGraceArea", "setPointerGraceArea", "handleRemoveGraceArea", "handleCreateGraceArea", "hoverTarget", "currentTarget", "exitPoint", "x", "clientX", "y", "clientY", "exitSide", "getExitSideFromRect", "getBoundingClientRect", "paddedExitPoints", "getPaddedExitPoints", "hoverTargetPoints", "getPointsFromRect", "graceArea", "getHull", "handleTriggerLeave", "handleContentLeave", "handleTrackPointerGrace", "target", "pointerPosition", "hasEnteredTarget", "contains", "isPointerOutsideGraceArea", "isPointInPolygon", "VisuallyHiddenContentContextProvider", "useVisuallyHiddenContentContext", "isInside", "ariaLabel", "onEscapeKeyDown", "onPointerDownOutside", "handleScroll", "capture", "DismissableLayer", "disableOutsidePointerEvents", "onFocusOutside", "preventDefault", "onDismiss", "style", "Slottable", "ARROW_NAME", "arrowProps", "visuallyHiddenContentContext", "Arrow", "point", "rect", "Math", "abs", "min", "push", "polygon", "inside", "i", "j", "xi", "yi", "xj", "yj", "intersect", "points", "newPoints", "slice", "sort", "b", "getHullPresorted", "upperHull", "p", "q", "r", "pop", "lowerHull", "concat", "Tooltip", "Trigger", "IconOnlyButton", "noTooltip", "tooltipPortal", "tooltipSide", "LabelledIconButton", "iconOnly", "iconClassNames", "caretDown", "IconButton", "Toggle", "defaultPressed", "pressed", "onPressedChange", "TogglePrimitive", "ToggleGroup", "ToggleGroupPrimitive", "ToggleGroupItem", "ToggleGroupItemPrimitive", "ClipboardContext", "textValue", "setTextValue", "_", "useClipboard", "ClipboardProvider", "setInternalTextValue", "nextValue", "navigator", "clipboard", "writeText", "hasIosKeyboard", "userAgent", "match", "DensityContext", "DensityProvider", "ElevationProvider", "ThemeProvider", "_path", "defaultClassName", "_styleProps", "_options", "themeMode", "rootDensity", "rest", "defaultView", "kb", "createKeyborg", "subscribe", "handleInputModalityChange", "unsubscribe", "safeAreaPadding", "contextValue", "isUsingKeyboard", "body", "setAttribute", "removeAttribute", "inactiveLabelStyles", "CopyButton", "iconProps", "isCopied", "data-testid", "CopyButtonIconOnly", "then", "Clipboard", "DialogRoot", "DialogRootPrimitive", "DialogTrigger", "DialogTriggerPrimitive", "DialogPortal", "DialogPortalPrimitive", "DialogTitle", "DialogTitlePrimitive", "DialogDescription", "DialogDescriptionPrimitive", "DialogClose", "DialogClosePrimitive", "DIALOG_OVERLAY_NAME", "DIALOG_CONTENT_NAME", "OverlayLayoutProvider", "useOverlayLayoutContext", "DialogOverlay", "blockAlign", "DialogOverlayPrimitive", "data-block-align", "inOverlayLayout", "DialogContent", "propsInOverlayLayout", "DialogContentPrimitive", "Dialog", "Portal", "Overlay", "Title", "Close", "AlertDialogRoot", "AlertDialogRootPrimitive", "AlertDialogTrigger", "AlertDialogTriggerPrimitive", "AlertDialogPortal", "AlertDialogPortalPrimitive", "AlertDialogCancel", "AlertDialogCancelPrimitive", "AlertDialogAction", "AlertDialogActionPrimitive", "AlertDialogTitle", "AlertDialogTitlePrimitive", "AlertDialogDescription", "AlertDialogDescriptionPrimitive", "ALERT_DIALOG_OVERLAY_NAME", "ALERT_DIALOG_CONTENT_NAME", "AlertDialogOverlay", "AlertDialogOverlayPrimitive", "AlertDialogContent", "AlertDialogContentPrimitive", "AlertDialog", "Cancel", "Action", "LabelPrimitive", "DescriptionPrimitive", "Validation", "__inputScope", "validationValence", "useInputContext", "INPUT_NAME", "ValidationPrimitive", "DescriptionAndValidation", "DescriptionAndValidationPrimitive", "PinInput", "segmentClassName", "propsSegmentClassName", "inputClassName", "focused", "PinInputPrimitive", "autoFocus", "TextInput", "themeContextValue", "TextInputPrimitive", "TextArea", "TextAreaPrimitive", "Checkbox", "checked", "propsChecked", "defaultChecked", "propsDefaultChecked", "onCheckedChange", "propsOnCheckedChange", "errorMessageId", "CheckboxPrimitive", "Switch", "input", "type", "Input", "InputRoot", "edgeToOrientationMap", "orientationStyles", "horizontal", "vertical", "edgeStyles", "strokeSize", "terminalSize", "offsetToAlignTerminalWithLine", "ListDropIndicator", "edge", "gap", "lineInset", "terminalInset", "orientation", "ListPrimitive", "ListItemEndcap", "MockListItemOpenTrigger", "ListItemHeading", "ListPrimitiveItemHeading", "ListItemOpenTrigger", "__listItemScope", "useListItemContext", "LIST_ITEM_NAME", "CaretDown", "CaretRight", "ListPrimitiveItemOpenTrigger", "ListItemRoot", "ListPrimitiveItem", "collapsible", "Endcap", "Heading", "OpenTrigger", "CollapsibleContent", "ListItemCollapsibleContent", "MockOpenTrigger", "DropIndicator", "reparent", "sibling", "child", "instructionStyles", "TreeDropIndicator", "instruction", "lineOffset", "isBlocked", "desiredInstruction", "desired", "currentLevel", "indentPerLevel", "TreeRoot", "TreeBranch", "__listScope", "headingId", "TreeItemRoot", "TreeItemHeading", "TreeItemOpenTrigger", "MockTreeItemOpenTrigger", "TreeItemBody", "Tree", "Branch", "TreeItem", "Body", "TREEGRID_ROW_NAME", "createTreegridRowContext", "createTreegridRowScope", "TreegridRowProvider", "useTreegridRowContext", "PATH_SEPARATOR", "PARENT_OF_SEPARATOR", "TreegridRoot", "gridTemplateColumns", "arrowNavigationAttrs", "useArrowNavigationGroup", "axis", "tabbable", "circular", "TreegridRow", "__treegridRowScope", "parentOf", "propsOpen", "propsOnOpenChange", "pathParts", "split", "level", "focusableGroupAttrs", "useFocusableGroup", "tabBehavior", "arrowGroupAttrs", "memorizeCurrent", "aria-level", "tabIndex", "TreegridCell", "indent", "Treegrid", "Row", "Cell", "useSwipeToDismiss", "dismissThreshold", "debounceThreshold", "offset", "$root", "motionState", "setMotionState", "gestureStartX", "setGestureStartX", "setIdle", "removeProperty", "setProperty", "setFollowing", "handlePointerDown", "screenX", "handlePointerMove", "delta", "MAIN_ROOT_NAME", "NAVIGATION_SIDEBAR_NAME", "COMPLEMENTARY_SIDEBAR_NAME", "MAIN_NAME", "GENERIC_CONSUMER_NAME", "landmarkAttr", "useLandmarkMover", "propsOnKeyDown", "landmark", "handleKeyDown", "key", "hasAttribute", "landmarks", "from", "querySelectorAll", "map", "el", "parseInt", "l", "cursor", "indexOf", "nextLandmark", "getModifierState", "querySelector", "focus", "ignoreDefaultKeydown", "Tab", "onKeyDown", "MainProvider", "useMainContext", "resizing", "navigationSidebarState", "setNavigationSidebarState", "nextState", "log", "warn", "complementarySidebarState", "setComplementarySidebarState", "useSidebars", "consumerName", "toggleNavigationSidebar", "openNavigationSidebar", "collapseNavigationSidebar", "closeNavigationSidebar", "toggleComplementarySidebar", "openComplementarySidebar", "collapseComplementarySidebar", "closeComplementarySidebar", "resizeDebounce", "MainRoot", "propsNavigationSidebarState", "defaultNavigationSidebarState", "onNavigationSidebarStateChange", "propsComplementarySidebarState", "defaultComplementarySidebarState", "onComplementarySidebarStateChange", "isLg", "useMediaQuery", "ssr", "setResizing", "resizeInterval", "handleOpenAutoFocus", "MainSidebar", "swipeToDismiss", "onOpenAutoFocus", "state", "onStateChange", "useForwardedRef", "noopRef", "closest", "aria-label", "modal", "data-side", "data-resizing", "inert", "MainNavigationSidebar", "mover", "MainComplementarySidebar", "MainContent", "bounce", "handlesFocus", "data-sidebar-inline-start-state", "data-sidebar-inline-end-state", "data-handles-focus", "MainOverlay", "inlineStartSidebarOpen", "inlineEndSidebarOpen", "Main", "NavigationSidebar", "ComplementarySidebar", "propIsNumber", "Number", "isFinite", "propsIsRecord", "safePadding", "propsPadding", "useSafeCollisionPadding", "collisionPadding", "ContextMenuRoot", "ContextMenu", "ContextMenuTrigger", "ContextMenuPortal", "ContextMenuContent", "safeCollisionPadding", "ContextMenuViewport", "ContextMenuArrow", "ContextMenuGroup", "Group", "ContextMenuItemIndicator", "ItemIndicator", "ContextMenuItem", "Item", "ContextMenuCheckboxItem", "CheckboxItem", "ContextMenuSeparator", "ContextMenuGroupLabel", "Viewport", "GroupLabel", "DROPDOWN_MENU_NAME", "createDropdownMenuContext", "createDropdownMenuScope", "createMenuScope", "useMenuScope", "DropdownMenuProvider", "useDropdownMenuContext", "DropdownMenuRoot", "__scopeDropdownMenu", "dir", "menuScope", "triggerId", "onOpenToggle", "prevOpen", "DropdownMenuTrigger", "aria-haspopup", "aria-expanded", "aria-controls", "data-disabled", "composeRefs", "ctrlKey", "includes", "VIRTUAL_TRIGGER_NAME", "DropdownMenuVirtualTrigger", "DropdownMenuPortal", "portalProps", "DropdownMenuViewport", "DropdownMenuContent", "hasInteractedOutsideRef", "onCloseAutoFocus", "onInteractOutside", "originalEvent", "detail", "ctrlLeftClick", "isRightClick", "GROUP_NAME", "DropdownMenuGroup", "groupProps", "LABEL_NAME", "DropdownMenuGroupLabel", "labelProps", "ITEM_NAME", "DropdownMenuItem", "itemProps", "CHECKBOX_ITEM_NAME", "DropdownMenuCheckboxItem", "checkboxItemProps", "RADIO_GROUP_NAME", "DropdownMenuRadioGroup", "radioGroupProps", "RadioGroup", "RADIO_ITEM_NAME", "DropdownMenuRadioItem", "radioItemProps", "RadioItem", "INDICATOR_NAME", "DropdownMenuItemIndicator", "itemIndicatorProps", "SEPARATOR_NAME", "DropdownMenuSeparator", "separatorProps", "DropdownMenuArrow", "DropdownMenuSub", "Sub", "SUB_TRIGGER_NAME", "DropdownMenuSubTrigger", "subTriggerProps", "SubTrigger", "SUB_CONTENT_NAME", "DropdownMenuSubContent", "subContentProps", "SubContent", "DropdownMenu", "VirtualTrigger", "useDropdownMenuMenuScope", "messageIcons", "success", "info", "warning", "error", "neutral", "MESSAGE_NAME", "MessageProvider", "useMessageContext", "MessageRoot", "valence", "titleId", "propsTitleId", "MESSAGE_TITLE_NAME", "MessageTitle", "h2", "MESSAGE_BODY_NAME", "MessageContent", "Message", "Callout", "POPOVER_NAME", "createPopoverContext", "createPopoverScope", "PopoverProvider", "usePopoverContext", "PopoverRoot", "__scopePopover", "hasCustomAnchor", "setHasCustomAnchor", "onCustomAnchorAdd", "onCustomAnchorRemove", "ANCHOR_NAME", "PopoverAnchor", "anchorProps", "PopoverTrigger", "composedTriggerRef", "getState", "PopoverVirtualTrigger", "PopoverPortal", "PopoverContent", "PopoverContentModal", "PopoverContentNonModal", "contentRef", "isRightClickOutsideRef", "hideOthers", "RemoveScroll", "as", "allowPinchZoom", "PopoverContentImpl", "trapFocus", "checkForDefaultPrevented", "hasPointerDownOutsideRef", "targetIsTrigger", "useFocusGuards", "FocusScope", "loop", "trapped", "onMountAutoFocus", "onUnmountAutoFocus", "CLOSE_NAME", "PopoverClose", "closeProps", "PopoverArrow", "PopoverViewport", "constrainInline", "constrainBlock", "Popover", "Status", "progress", "indeterminate", "round", "ScrollAreaRoot", "ScrollAreaPrimitiveRoot", "ScrollAreaViewport", "ScrollAreaPrimitiveViewport", "ScrollAreaScrollbar", "ScrollAreaPrimitiveScrollbar", "ScrollAreaThumb", "ScrollAreaPrimitiveThumb", "ScrollAreaCorner", "ScrollAreaPrimitiveCorner", "ScrollArea", "Scrollbar", "Thumb", "Corner", "SelectRoot", "SelectTrigger", "SelectValue", "Value", "SelectIcon", "SelectPortal", "SelectTriggerButton", "placeholder", "SelectContent", "position", "SelectScrollUpButton", "CaretUp", "SelectScrollDownButton", "SelectViewport", "SelectItem", "SelectItemText", "ItemText", "SelectItemIndicator", "SelectOption", "SelectGroup", "SelectLabel", "SelectSeparator", "SelectArrow", "Select", "TriggerButton", "ScrollUpButton", "ScrollDownButton", "Option", "subdued", "SeparatorPrimitive", "Tag", "palette", "data-hue", "ToastProvider", "ToastProviderPrimitive", "ToastViewport", "ToastViewportPrimitive", "ToastRoot", "ToastRootPrimitive", "ToastBody", "ToastTitle", "ToastTitlePrimitive", "ToastDescription", "ToastDescriptionPrimitive", "ToastActions", "ToastAction", "ToastActionPrimitive", "ToastClose", "ToastClosePrimitive", "Toast", "Actions", "ToolbarRoot", "layoutManaged", "ToolbarButton", "ToolbarIconButton", "ToolbarToggle", "ToolbarLink", "ToolbarToggleGroup", "ToolbarToggleGroupItem", "ToolbarToggleItem", "ToolbarToggleGroupIconItem", "ToolbarSeparator", "Toolbar", "ToggleGroupIconItem"]
}
