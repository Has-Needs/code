//
// Copyright 2024 DXOS.org
//

// @generated by protoc-gen-es v2.1.0 with parameter "target=ts,import_extension=js"
// @generated from file dxos/echo/query.proto (package dxos.echo.query, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv1";
import { enumDesc, fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv1";
import type { EmptySchema } from "@bufbuild/protobuf/wkt";
import { file_google_protobuf_empty } from "@bufbuild/protobuf/wkt";
import type { PublicKey } from "../keys_pb.js";
import { file_dxos_keys } from "../keys_pb.js";
import type { Filter } from "./filter_pb.js";
import { file_dxos_echo_filter } from "./filter_pb.js";
import type { EchoObject } from "./object_pb.js";
import { file_dxos_echo_object } from "./object_pb.js";
import type { IndexConfigSchema } from "./indexing_pb.js";
import { file_dxos_echo_indexing } from "./indexing_pb.js";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file dxos/echo/query.proto.
 */
export const file_dxos_echo_query: GenFile = /*@__PURE__*/
  fileDesc("ChVkeG9zL2VjaG8vcXVlcnkucHJvdG8SD2R4b3MuZWNoby5xdWVyeSKvAQoMUXVlcnlSZXF1ZXN0EhQKB3F1ZXJ5SWQYASABKAlIAIgBARI0CgpyZWFjdGl2aXR5GAMgASgOMiAuZHhvcy5lY2hvLnF1ZXJ5LlF1ZXJ5UmVhY3Rpdml0eRINCgVxdWVyeRgFIAEoCRItCgZmaWx0ZXIYAiABKAsyGC5keG9zLmVjaG8uZmlsdGVyLkZpbHRlckgBiAEBQgoKCF9xdWVyeUlkQgkKB19maWx0ZXIiFwoFSGVhZHMSDgoGaGFzaGVzGAEgAygJIuwBCgtRdWVyeVJlc3VsdBIKCgJpZBgBIAEoCRIPCgdzcGFjZUlkGAQgASgJEhIKCmRvY3VtZW50SWQYBSABKAkSDAoEcmFuaxgDIAEoAhIaCg1kb2N1bWVudF9qc29uGAogASgJSACIAQESHwoSZG9jdW1lbnRfYXV0b21lcmdlGAsgASgMSAGIAQESKwoIc3BhY2VLZXkYAiABKAsyFC5keG9zLmtleXMuUHVibGljS2V5SAKIAQFCEAoOX2RvY3VtZW50X2pzb25CFQoTX2RvY3VtZW50X2F1dG9tZXJnZUILCglfc3BhY2VLZXkijwEKDVF1ZXJ5UmVzcG9uc2USFAoHcXVlcnlJZBgBIAEoCUgAiAEBEi0KB3Jlc3VsdHMYAiADKAsyHC5keG9zLmVjaG8ucXVlcnkuUXVlcnlSZXN1bHQSLQoHb2JqZWN0cxgDIAMoCzIcLmR4b3MuZWNoby5vYmplY3QuRWNob09iamVjdEIKCghfcXVlcnlJZCotCg9RdWVyeVJlYWN0aXZpdHkSDAoIT05FX1NIT1QQABIMCghSRUFDVElWRRABMt0BCgxRdWVyeVNlcnZpY2USRAoJU2V0Q29uZmlnEh8uZHhvcy5lY2hvLmluZGV4aW5nLkluZGV4Q29uZmlnGhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EkwKCUV4ZWNRdWVyeRIdLmR4b3MuZWNoby5xdWVyeS5RdWVyeVJlcXVlc3QaHi5keG9zLmVjaG8ucXVlcnkuUXVlcnlSZXNwb25zZTABEjkKB1JlaW5kZXgSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaFi5nb29nbGUucHJvdG9idWYuRW1wdHliBnByb3RvMw", [file_google_protobuf_empty, file_dxos_keys, file_dxos_echo_filter, file_dxos_echo_object, file_dxos_echo_indexing]);

/**
 * @generated from message dxos.echo.query.QueryRequest
 */
export type QueryRequest = Message<"dxos.echo.query.QueryRequest"> & {
  /**
   * @generated from field: optional string queryId = 1;
   */
  queryId?: string;

  /**
   * @generated from field: dxos.echo.query.QueryReactivity reactivity = 3;
   */
  reactivity: QueryReactivity;

  /**
   * / JSON-encoded `QueryAST.Query`.
   *
   * @generated from field: string query = 5;
   */
  query: string;

  /**
   * / @deprecated Use `query` instead.
   *
   * @generated from field: optional dxos.echo.filter.Filter filter = 2;
   */
  filter?: Filter;
};

/**
 * Describes the message dxos.echo.query.QueryRequest.
 * Use `create(QueryRequestSchema)` to create a new message.
 */
export const QueryRequestSchema: GenMessage<QueryRequest> = /*@__PURE__*/
  messageDesc(file_dxos_echo_query, 0);

/**
 * *
 * Automerge heads.
 * Used for encoding in Index metadata store.
 * @see https://automerge.org/automerge-repo/types/_automerge_automerge_repo.Heads.html
 *
 * @generated from message dxos.echo.query.Heads
 */
export type Heads = Message<"dxos.echo.query.Heads"> & {
  /**
   * @generated from field: repeated string hashes = 1;
   */
  hashes: string[];
};

/**
 * Describes the message dxos.echo.query.Heads.
 * Use `create(HeadsSchema)` to create a new message.
 */
export const HeadsSchema: GenMessage<Heads> = /*@__PURE__*/
  messageDesc(file_dxos_echo_query, 1);

/**
 * @generated from message dxos.echo.query.QueryResult
 */
export type QueryResult = Message<"dxos.echo.query.QueryResult"> & {
  /**
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * @generated from field: string spaceId = 4;
   */
  spaceId: string;

  /**
   * @generated from field: string documentId = 5;
   */
  documentId: string;

  /**
   * @generated from field: float rank = 3;
   */
  rank: number;

  /**
   * @generated from field: optional string document_json = 10;
   */
  documentJson?: string;

  /**
   * @generated from field: optional bytes document_automerge = 11;
   */
  documentAutomerge?: Uint8Array;

  /**
   * / @deprecated Use spaceId.
   *
   * @generated from field: optional dxos.keys.PublicKey spaceKey = 2;
   */
  spaceKey?: PublicKey;
};

/**
 * Describes the message dxos.echo.query.QueryResult.
 * Use `create(QueryResultSchema)` to create a new message.
 */
export const QueryResultSchema: GenMessage<QueryResult> = /*@__PURE__*/
  messageDesc(file_dxos_echo_query, 2);

/**
 * @generated from message dxos.echo.query.QueryResponse
 */
export type QueryResponse = Message<"dxos.echo.query.QueryResponse"> & {
  /**
   * @generated from field: optional string queryId = 1;
   */
  queryId?: string;

  /**
   * @generated from field: repeated dxos.echo.query.QueryResult results = 2;
   */
  results: QueryResult[];

  /**
   * @generated from field: repeated dxos.echo.object.EchoObject objects = 3;
   */
  objects: EchoObject[];
};

/**
 * Describes the message dxos.echo.query.QueryResponse.
 * Use `create(QueryResponseSchema)` to create a new message.
 */
export const QueryResponseSchema: GenMessage<QueryResponse> = /*@__PURE__*/
  messageDesc(file_dxos_echo_query, 3);

/**
 * @generated from enum dxos.echo.query.QueryReactivity
 */
export enum QueryReactivity {
  /**
   * / Returns a signle result.
   *
   * @generated from enum value: ONE_SHOT = 0;
   */
  ONE_SHOT = 0,

  /**
   * / Returns the initial result and then incremental reactive updates when the data source changes.
   *
   * @generated from enum value: REACTIVE = 1;
   */
  REACTIVE = 1,
}

/**
 * Describes the enum dxos.echo.query.QueryReactivity.
 */
export const QueryReactivitySchema: GenEnum<QueryReactivity> = /*@__PURE__*/
  enumDesc(file_dxos_echo_query, 0);

/**
 * @generated from service dxos.echo.query.QueryService
 */
export const QueryService: GenService<{
  /**
   * @generated from rpc dxos.echo.query.QueryService.SetConfig
   */
  setConfig: {
    methodKind: "unary";
    input: typeof IndexConfigSchema;
    output: typeof EmptySchema;
  },
  /**
   * @generated from rpc dxos.echo.query.QueryService.ExecQuery
   */
  execQuery: {
    methodKind: "server_streaming";
    input: typeof QueryRequestSchema;
    output: typeof QueryResponseSchema;
  },
  /**
   * @generated from rpc dxos.echo.query.QueryService.Reindex
   */
  reindex: {
    methodKind: "unary";
    input: typeof EmptySchema;
    output: typeof EmptySchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_dxos_echo_query, 0);

