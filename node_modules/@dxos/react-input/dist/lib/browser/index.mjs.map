{
  "version": 3,
  "sources": ["../../../src/InputMeta.tsx", "../../../src/Root.tsx", "../../../src/PinInput.tsx", "../../../src/TextInput.tsx", "../../../src/TextArea.tsx"],
  "sourcesContent": ["//\n// Copyright 2023 DXOS.org\n//\n\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Slot } from '@radix-ui/react-slot';\nimport React, { type ComponentPropsWithRef, forwardRef } from 'react';\n\nimport { INPUT_NAME, type InputScopedProps, useInputContext } from './Root';\n\ntype LabelProps = ComponentPropsWithRef<typeof Primitive.label> & { asChild?: boolean };\n\nconst Label = forwardRef<HTMLLabelElement, LabelProps>(\n  ({ __inputScope, asChild, children, ...props }: InputScopedProps<LabelProps>, forwardedRef) => {\n    const { id } = useInputContext(INPUT_NAME, __inputScope);\n    const Root = asChild ? Slot : Primitive.label;\n    return (\n      <Root {...props} htmlFor={id} ref={forwardedRef}>\n        {children}\n      </Root>\n    );\n  },\n);\n\ntype DescriptionProps = Omit<ComponentPropsWithRef<typeof Primitive.span>, 'id'> & { asChild?: boolean };\n\nconst Description = forwardRef<HTMLSpanElement, DescriptionProps>(\n  ({ __inputScope, asChild, children, ...props }: InputScopedProps<DescriptionProps>, forwardedRef) => {\n    const { descriptionId, validationValence } = useInputContext(INPUT_NAME, __inputScope);\n    const Root = asChild ? Slot : Primitive.span;\n    return (\n      <Root {...props} {...(validationValence === 'error' && { id: descriptionId })} ref={forwardedRef}>\n        {children}\n      </Root>\n    );\n  },\n);\n\ntype ErrorMessageProps = Omit<ComponentPropsWithRef<typeof Primitive.span>, 'id'> & { asChild?: boolean };\n\nconst ErrorMessage = forwardRef<HTMLSpanElement, ErrorMessageProps>(\n  ({ __inputScope, asChild, children, ...props }: InputScopedProps<ErrorMessageProps>, forwardedRef) => {\n    const { errorMessageId } = useInputContext(INPUT_NAME, __inputScope);\n    const Root = asChild ? Slot : Primitive.span;\n    return (\n      <Root {...props} id={errorMessageId} ref={forwardedRef}>\n        {children}\n      </Root>\n    );\n  },\n);\n\ntype ValidationProps = Omit<ComponentPropsWithRef<typeof Primitive.span>, 'id'> & { asChild?: boolean };\n\nconst Validation = forwardRef<HTMLSpanElement, ValidationProps>(\n  (props: InputScopedProps<ValidationProps>, forwardedRef) => {\n    const { __inputScope, asChild, children, ...otherProps } = props;\n    const { validationValence } = useInputContext(INPUT_NAME, __inputScope);\n    if (validationValence === 'error') {\n      return <ErrorMessage {...props} ref={forwardedRef} />;\n    } else {\n      const Root = asChild ? Slot : Primitive.span;\n      return (\n        <Root {...otherProps} ref={forwardedRef}>\n          {children}\n        </Root>\n      );\n    }\n  },\n);\n\ntype DescriptionAndValidationProps = ComponentPropsWithRef<typeof Primitive.p> & { asChild?: boolean };\n\nconst DescriptionAndValidation = forwardRef<HTMLParagraphElement, DescriptionAndValidationProps>(\n  ({ __inputScope, asChild, children, ...props }: InputScopedProps<DescriptionAndValidationProps>, forwardedRef) => {\n    const { descriptionId, validationValence } = useInputContext(INPUT_NAME, __inputScope);\n    const Root = asChild ? Slot : Primitive.p;\n    return (\n      <Root {...props} {...(validationValence !== 'error' && { id: descriptionId })} ref={forwardedRef}>\n        {children}\n      </Root>\n    );\n  },\n);\n\nexport { Label, Validation, Description, DescriptionAndValidation, ErrorMessage };\n\nexport type { LabelProps, ValidationProps, DescriptionProps, DescriptionAndValidationProps, ErrorMessageProps };\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { createContextScope, type Scope } from '@radix-ui/react-context';\nimport React, { type PropsWithChildren } from 'react';\n\nimport { useId } from '@dxos/react-hooks';\n\nconst INPUT_NAME = 'Input';\n\ntype Valence = 'success' | 'info' | 'warning' | 'error' | 'neutral';\n\ntype InputScopedProps<P> = P & { __inputScope?: Scope };\n\ntype InputRootProps = PropsWithChildren<{\n  id?: string;\n  validationValence?: Valence;\n  descriptionId?: string;\n  errorMessageId?: string;\n}>;\n\nconst [createInputContext, createInputScope] = createContextScope(INPUT_NAME, []);\n\ntype InputContextValue = {\n  id: string;\n  descriptionId: string;\n  errorMessageId: string;\n  validationValence: Valence;\n};\n\nconst [InputProvider, useInputContext] = createInputContext<InputContextValue>(INPUT_NAME);\n\nconst InputRoot = ({\n  __inputScope,\n  id: propsId,\n  descriptionId: propsDescriptionId,\n  errorMessageId: propsErrorMessageId,\n  validationValence = 'neutral',\n  children,\n}: InputScopedProps<InputRootProps>) => {\n  const id = useId('input', propsId);\n  const descriptionId = useId('input__description', propsDescriptionId);\n  const errorMessageId = useId('input__error-message', propsErrorMessageId);\n  return (\n    <InputProvider {...{ id, descriptionId, errorMessageId, validationValence }} scope={__inputScope}>\n      {children}\n    </InputProvider>\n  );\n};\n\nInputRoot.displayName = INPUT_NAME;\n\nexport { InputRoot, InputRoot as Root, createInputScope, useInputContext, INPUT_NAME };\n\nexport type { Valence, InputRootProps, InputScopedProps };\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { CodeInput, getSegmentCssWidth } from 'rci';\nimport React, { type ComponentProps, type ComponentPropsWithRef, forwardRef, useCallback } from 'react';\n\nimport { useForwardedRef, useIsFocused } from '@dxos/react-hooks';\n\nimport { INPUT_NAME, type InputScopedProps, useInputContext, type Valence } from './Root';\n\ntype PinInputProps = Omit<\n  ComponentPropsWithRef<typeof CodeInput>,\n  'id' | 'className' | 'inputRef' | 'renderSegment'\n> & {\n  inputClassName?: string;\n  segmentClassName?: (styleProps: { focused: boolean; validationValence: Valence }) => string;\n  segmentPadding?: string;\n  segmentHeight?: string;\n};\n\nconst PinInput = forwardRef<HTMLInputElement, PinInputProps>(\n  (\n    {\n      __inputScope,\n      segmentClassName,\n      inputClassName,\n      segmentPadding = '8px',\n      segmentHeight = '100%',\n      ...props\n    }: InputScopedProps<PinInputProps>,\n    forwardedRef,\n  ) => {\n    const { id, validationValence, descriptionId, errorMessageId } = useInputContext(INPUT_NAME, __inputScope);\n    const width = getSegmentCssWidth(segmentPadding);\n    const inputRef = useForwardedRef(forwardedRef);\n    const inputFocused = useIsFocused(inputRef);\n\n    const renderSegment = useCallback<ComponentProps<typeof CodeInput>['renderSegment']>(\n      ({ state, index }) => (\n        <div\n          key={index}\n          className={segmentClassName?.({\n            focused: !!(inputFocused && state),\n            validationValence,\n          })}\n          data-state={state}\n          style={{ width, height: segmentHeight }}\n        />\n      ),\n      [segmentClassName, inputFocused, validationValence],\n    );\n\n    return (\n      <CodeInput\n        {...{\n          padding: '8px',\n          spacing: '8px',\n          fontFamily: '',\n          spellCheck: false,\n          length: 6,\n          ...props,\n          id,\n          'aria-describedby': descriptionId,\n          ...(validationValence === 'error' && {\n            'aria-invalid': 'true' as const,\n            'aria-errormessage': errorMessageId,\n          }),\n          inputRef,\n          renderSegment,\n          className: inputClassName,\n        }}\n      />\n    );\n  },\n);\n\nexport { PinInput };\n\nexport type { PinInputProps };\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport { Primitive } from '@radix-ui/react-primitive';\nimport React, { type ComponentPropsWithRef, forwardRef } from 'react';\n\nimport { INPUT_NAME, type InputScopedProps, useInputContext } from './Root';\n\ntype TextInputProps = Omit<ComponentPropsWithRef<typeof Primitive.input>, 'id'>;\n\nconst TextInput = forwardRef<HTMLInputElement, TextInputProps>(\n  ({ __inputScope, ...props }: InputScopedProps<TextInputProps>, forwardedRef) => {\n    const { id, validationValence, descriptionId, errorMessageId } = useInputContext(INPUT_NAME, __inputScope);\n    return (\n      <Primitive.input\n        {...{\n          ...props,\n          id,\n          'aria-describedby': descriptionId,\n          ...(validationValence === 'error' && {\n            'aria-invalid': 'true' as const,\n            'aria-errormessage': errorMessageId,\n          }),\n          ref: forwardedRef,\n        }}\n      />\n    );\n  },\n);\n\nexport { TextInput };\n\nexport type { TextInputProps };\n", "//\n// Copyright 2023 DXOS.org\n//\n\nimport React, { type ComponentPropsWithRef, forwardRef } from 'react';\n\nimport { INPUT_NAME, type InputScopedProps, useInputContext } from './Root';\n\ntype TextAreaProps = Omit<ComponentPropsWithRef<'textarea'>, 'id'>;\n\nconst TextArea = forwardRef<HTMLTextAreaElement, TextAreaProps>(\n  ({ __inputScope, ...props }: InputScopedProps<TextAreaProps>, forwardedRef) => {\n    const { id, validationValence, descriptionId, errorMessageId } = useInputContext(INPUT_NAME, __inputScope);\n    return (\n      <textarea\n        {...{\n          ...props,\n          id,\n          'aria-describedby': descriptionId,\n          ...(validationValence === 'error' && {\n            'aria-invalid': 'true' as const,\n            'aria-errormessage': errorMessageId,\n          }),\n          ref: forwardedRef,\n        }}\n      />\n    );\n  },\n);\n\nexport { TextArea };\n\nexport type { TextAreaProps };\n"],
  "mappings": "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",
  "names": ["Primitive", "Slot", "React", "forwardRef", "createContextScope", "React", "useId", "INPUT_NAME", "createInputContext", "createInputScope", "createContextScope", "InputProvider", "useInputContext", "InputRoot", "__inputScope", "id", "propsId", "descriptionId", "propsDescriptionId", "errorMessageId", "propsErrorMessageId", "validationValence", "children", "useId", "scope", "displayName", "Label", "forwardRef", "__inputScope", "asChild", "children", "props", "forwardedRef", "id", "useInputContext", "INPUT_NAME", "Root", "Slot", "Primitive", "label", "React", "htmlFor", "ref", "Description", "descriptionId", "validationValence", "span", "ErrorMessage", "errorMessageId", "Validation", "otherProps", "DescriptionAndValidation", "p", "CodeInput", "getSegmentCssWidth", "React", "forwardRef", "useCallback", "useForwardedRef", "useIsFocused", "PinInput", "forwardRef", "__inputScope", "segmentClassName", "inputClassName", "segmentPadding", "segmentHeight", "props", "forwardedRef", "id", "validationValence", "descriptionId", "errorMessageId", "useInputContext", "INPUT_NAME", "width", "getSegmentCssWidth", "inputRef", "useForwardedRef", "inputFocused", "useIsFocused", "renderSegment", "useCallback", "state", "index", "React", "div", "key", "className", "focused", "data-state", "style", "height", "CodeInput", "padding", "spacing", "fontFamily", "spellCheck", "length", "Primitive", "React", "forwardRef", "TextInput", "forwardRef", "__inputScope", "props", "forwardedRef", "id", "validationValence", "descriptionId", "errorMessageId", "useInputContext", "INPUT_NAME", "React", "Primitive", "input", "ref", "React", "forwardRef", "TextArea", "forwardRef", "__inputScope", "props", "forwardedRef", "id", "validationValence", "descriptionId", "errorMessageId", "useInputContext", "INPUT_NAME", "React", "textarea", "ref"]
}
